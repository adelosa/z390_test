REM TEST REPRO LOAD AND UNLOAD OF ESV1 VSAM VARIABLE LENGTH FILE    
REM NOTE ESV1.TF1 QSAM INPUT FILE IS CREATED BY ESV1TEST.MLC
CALL ASML vsam\test\TESTCAT %1 %2 %3 %4 %5 %6 %7 %8 %9
IF ERRORLEVEL 1 PAUSE ERROR IN TESTCAT GEN
REM RUN REPRO TO LOAD ESV1.VES FROM ESV1.TF1
SET INFILE=vsam\test\ESV1.TF1
SET OUTFILE=vsam\test\TESTCAT.ESV1
erase vsam\test\ESV1.VES
CALL ASMLG linklib\REPRO BAL %1 %2 %3 %4 %5 %6 %7 %8 %9
IF ERRORLEVEL 1 PAUSE ERROR IN REPRO LOAD
REM SAVE REPRO LOAD STATS
COPY linklib\REPRO.LOG vsam\test\ESV1REPL.LOG  
COPY linklib\REPRO.TRE vsam\test\ESV1REPL.TRE
REM RUN REPRO TO UNLOAD FROM ESV1.VES TO ESV1.TF2
SET INFILE=vsam\test\TESTCAT.ESV1
SET OUTFILE=vsam\test\ESV1.TF2
CALL EXEC linklib\REPRO %1 %2 %3 %4 %5 %6 %7 %8 %9
IF ERRORLEVEL 1 PAUSE ERROR IN REPRO UNLOAD
REM SAVE REPRO UNLOAD STATS
COPY linklib\REPRO.LOG vsam\test\ESV1REPU.LOG  
COPY linklib\REPRO.TRE vsam\test\ESV1REPU.TRE
REM COMPARE INPUT AND OUTPUT QSAM FILES
FC vsam\test\ESV1.TF1 vsam\test\ESV1.TF2 > vsam\test\ESV1REPO.DIF
IF ERRORLEVEL 1 PAUSE REPRO LOAD/UNLOAD QSAM FILES DONT MATCH

