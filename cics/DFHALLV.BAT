SET CICSPATH=cics\vsam
SET PROGRAM=Z390CAT1
CALL MZ390 %CICSPATH%\%PROGRAM% SYSMAC(%CICSPATH%+MAC) SYSCPY(%CICSPATH%+MAC)
IF ERRORLEVEL 1 GOTO WRONG
CALL LZ390 %CICSPATH%\%PROGRAM%
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE ESDS
SET INFILE=%CICSPATH%\MYFILE1V.TXT[RECFM=VT]
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE01
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE01
SET OUTFILE=%CICSPATH%\MYFILE1V.TF2[RECFM=VT]
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED ESDS
SET INFILE=%CICSPATH%\MYFILE2F.TXT[RECFM=FT]
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE02
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE02
SET OUTFILE=%CICSPATH%\MYFILE2F.TF2[RECFM=FT]
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED RRDS
SET INFILE=%CICSPATH%\MYFILE6F.TF1
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE06
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE06
SET OUTFILE=%CICSPATH%\MYFILE6F.TF2
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE RRDS
SET INFILE=%CICSPATH%\MYFILE7V.TF1
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE07
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE07
SET OUTFILE=%CICSPATH%\MYFILE7V.TF2
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED KSDS
SET INFILE=%CICSPATH%\MYFILE8F.TXT[RECFM=FT]
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE08
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE08
SET OUTFILE=%CICSPATH%\MYFILE8F.TF2[RECFM=FT]
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE KSDS
SET INFILE=%CICSPATH%\MYFILE9V.TXT[RECFM=VT]
SET OUTFILE=%CICSPATH%\Z390CAT1.MYFILE09
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%CICSPATH%\Z390CAT1.MYFILE09
SET OUTFILE=%CICSPATH%\MYFILE9V.TF2[RECFM=VT]
CALL EZ390 LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
GOTO END
:WRONG
REM ERROR ERROR ERROR
:END
