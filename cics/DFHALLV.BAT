ECHO OFF
SET JARPATH=.
SET CICSPATH=cics
SET VSAMPATH=cics\vsam
SET PROGRAM=Z390CAT1
CALL MZ390 %VSAMPATH%\%PROGRAM% SYSMAC(%CICSPATH%+MAC) SYSCPY(%CICSPATH%+MAC)
IF ERRORLEVEL 1 GOTO WRONG
CALL LZ390 %VSAMPATH%\%PROGRAM%
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE ESDS
SET INFILE=%VSAMPATH%\MYFILE1V.TXT[RECFM=VT]
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE01
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE01
SET OUTFILE=%VSAMPATH%\MYFILE1V.TF2[RECFM=VT]
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED ESDS
SET INFILE=%VSAMPATH%\MYFILE2F.TXT[RECFM=FT]
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE02
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE02
SET OUTFILE=%VSAMPATH%\MYFILE2F.TF2[RECFM=FT]
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED RRDS
SET INFILE=%VSAMPATH%\MYFILE6F.TF1
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE06
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE06
SET OUTFILE=%VSAMPATH%\MYFILE6F.TF2
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE RRDS
SET INFILE=%VSAMPATH%\MYFILE7V.TF1
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE07
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE07
SET OUTFILE=%VSAMPATH%\MYFILE7V.TF2
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE FIXED KSDS
SET INFILE=%VSAMPATH%\MYFILE8F.TXT[RECFM=FT]
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE08
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE08
SET OUTFILE=%VSAMPATH%\MYFILE8F.TF2[RECFM=FT]
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
rem BUILD THE VARIABLE KSDS
SET INFILE=%VSAMPATH%\MYFILE9V.TXT[RECFM=VT]
SET OUTFILE=%VSAMPATH%\Z390CAT1.MYFILE09
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem RUN REPRO TO UNLOAD FROM .VES TO .TF2
SET INFILE=%VSAMPATH%\Z390CAT1.MYFILE09
SET OUTFILE=%VSAMPATH%\MYFILE9V.TF2[RECFM=VT]
CALL EZ390 %JARPATH%\LINKLIB\REPRO
IF ERRORLEVEL 1 GOTO WRONG
rem
GOTO END
:WRONG
REM ERROR ERROR ERROR
:END
