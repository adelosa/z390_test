Z390/CICS Sequential Terminal Support
=====================================

Stage 1 -- Create a trace of your transactions
----------------------------------------------

I would advise keeping a document relating the file number to the
transaction and functions being tested.
My tests are in cics\seq\SEQDOC.TXT

a) In the Z390CICS.INI file, set SEQ_TERM=TRACE
   This will automatically adjust other INI parms:
      LOCAL_TERMINALS=1
      No INITIAL_TRANSID=
      TRACE_LOCALS=YES

b) Start Z390\CICS
c) Run a planned test of your transaction
d) CEMT P SHU to end Z390/CICS
e) Run Z390SEQG
   If you change the INI parm TERMID_PREFIX then change Z390SEQG.BAT
   as well.

   This reads the trace file ttt0.TRE and extracts the input and
   output streams to create the files SEQInnnn.TXT and SEQCnnnn.TXT

   Enter the file number when requested as a 4-digit decimal number
   including leading zeros, eg. 0009
   nnnn is one more than the last one starting from 0001
   or the file number if you are replacing a previous one.

   Note: The final CEMT P SHU command is not included in the SEQInnnn
         stream.

f) Repeat the above steps for each of your transactions

Stage 2 -- Running the simulation
---------------------------------

g) In the Z390CICS.INI file, set SEQ_TERM=YES
   This will automatically adjust other INI parms:
      LOCAL_TERMINALS=0
      No INITIAL_TRANSID=
      TRACE_LOCALS=NO

h) If you want the simulation to shut down after running, a sample
   stream is provided called SEQISHUT.TXT, copy this to a new file
   called SEQInnnn, where nnnn is the next input file sequence.

i) Start Z390\CICS
   It will run and shut down if item h above has been done.
   It will use the SEQInnnn files as input and creates a single
   SEQO0001.TXT file as output.

   The output streams are also sent to the Sequential terminal.

Stage 3 -- Running the comparator
---------------------------------

j) Run Z390CMPG
   This will compare all SEQCnnnn files with the new output stream
   SEQO0001. It produces SEQCOMP.TXT with those data streams that
   have differences.

   There is a WTO message at the end with the number of streams that
   have been written. The ideal state for a Z390CMPG run is zero which
   results in a null SEQCOMP.TXT file.

k) Exclusion file
   Many output data streams have fields which are known to vary.
   Date and time are the most frequently encountered.

   Study my exclusion file called cics\seq\SEQEXCL.TXT
   You can create your own exclusion file, any name will do, just
   change the SET SEQEXC= line in Z390CMPG to your path/filename.

   If you change your exclusion file or create a new one, just rerun
   Z390CMPG to see the new results.

Abends
------
Z390COMP may abend with codes 901-905.
These errors are caused by a structural mismatch between SEQO0001.TXT
and the comparator files SEQCnnnn.

Before reporting these as errors, please check the following:
1) Are all the SEQI and SEQC files in sequence ?
2) Has a simulation run been done using the SEQI files (SEQ_TERM=YES) ?
3) Have any of the transactions changed since the last run of Z390SEQ
   for those transactions ?

Trademarks
----------
IBM, CICS and VSAM are registered trademarks of International Business
Machines Corporation.

Author: Melvyn Maltz
Shipping Date: November 24, 2008
Z390 version: V1.4.04
Z390/CICS version: V6
