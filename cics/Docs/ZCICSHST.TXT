zCICS History
=============

This is only a brief summary, please refer to the Application
Programming Guide and the System Programmers Guide for the details.

The Ship Date is the date the package is given to Don, there may be
a delay before he can include it in a PTF or Release.

Ver  Ship Date           Z390 version
---  -----------------   ------------
V7   February 21, 2009   V1.5.00

   Rebranding
      Z390/CICS is now known as zCICS

   Maintenance...
      BMS...mods made to macros and EXEC CICS SEND/RECEIVE to support
            COBOL maps.

            Added PICIN/PICOUT support for COBOL maps.

      Revised all EXEC CICS commands to make them base-free, a
      requirement for COBOL support.

      Changes to LINK, XCTL and DFHEIENT to enter all programs with
      GR1 pointing to A(EIB,COMMAREA). A requirement for COBOL support.

      DFHEIGBL has been withdrawn and the code placed in DFHEIENT.

      HANDLE ABEND LABEL wasn't correctly restoring registers or
      properly cleaning up if the LABEL was at a higher link-level
      than the abending program.

      FORMATTIME wasn't returning the correct date.

      FREEMAIN DATA() corrected.

      Improvement to all commands accepting indirect adcons.

   Enhancements and changes...
      BMS...
         DFHMSD LANG=COBOL will generate a COBOL map structure as
         mapset.CPZ

         The BAT file for SYSPARM(MAP) generation needs the ALLOW
         parameter to enable the IMG file to be created correctly.

      EXEC CICS ADDRESS COMMAREA() CWA() EIB() added

      New INI parm CWASIZE=nnnnnnn
      Displayed in CEMT I SYS

      CEMT I TRA extended from 17 to 42 transactions.

      zCOBOL support
         BMS LANG=COBOL already listed above
         SET supports ADDRESS OF label
         LENGTH and FLENGTH support LENGTH OF label

      EXEC CICS SEND MAP supports SET()

V6   November 24, 2008   V1.4.04

   Maintenance...
      FORMATTIME bug fixed, gave incorrect date in leap years
      Minor XCTL bug fixed, copied COMMAREA unnecessarily

      Z390KCP bug fixed, in complex situations COMMAREA is being freed
      causing recursive abends. Not related to XCTL bug.

      Z390CEBR not sending task number resulting in bad QNAMES log
      message.

      Z390CEMT had minor bug which sometimes prevented the terminal
      prefix from being displayed in CEMT I TER.

      Z390CICS not setting the TRACE_Z390CICS parameter properly.

      Eliminated GR2 as an internal register. It is now available as
      a base register but is not recommended as it may be modified by
      some instructions.

      A label is now allowed on EXEC CICS statements.
      eg. MYLABEL EXEC CICS READ ...

      DFHEIGBL includes EQUREGS and therefore not needed in programs.

      EXEC CICS HANDLE/IGNORE CONDITION now supports
      DSIDERR=FILENOTFOUND

      EXEC CICS WRITEQ TS NOHANDLE not working owing to missing restore
      of GR15.

      EXEC CICS WRITEQ TS supports ITEM without REWRITE for
      compatability.

      EXEC CICS READQ TS with SET was using LENGTH as an input field
      incorrectly.

      EXEC CICS GETMAIN not supporting NOHANDLE properly.

      DFHALL.BAT amended so that GBL and LCL modules are no longer
      link-editted.

      BMS...
         DFHMSD...
            Support for TIOAPFX=YES
            Support and discard TERM=

         DFHMDI...
            Bug--AGO .GOON15 should be .GOON05
            Extra error checking for LINE/COLUMN and MAP01 corrected.
            Support for TIOAPFX=YES
            Support and discard JUSTIFY=

         DFHMDF...
            Support for fields that wrap row or screen.

            INITIAL now supports strings that contain doubled quotes or
            ampersands.

         LCL1804 (SEND MAP)...
            Obscure bug that may not generate a cursor location when in
            simulation mode.

            Bug fixed which may allow X'00' to be included in a data
            stream.

            Support for fields that wrap row or screen.

         EXEC CICS SEND MAP now supports FROM() and LENGTH() parms and
         MAP may now be a label.

         EXEC CICS RECEIVE MAP now supports INTO() and MAP may now be
         a label.

         DFHNULL added to DFHAID.CPY

   Inverval Control...
      HANDLE/IGNORE extra conditions
         TERMIDERR, IOERR, TRANSIDERR, ENDDATA, ENVDEFERR

   Task Control...
      HANDLE/IGNORE extra condition...ENQBUSY

   Internal reconstruction...
      This was started in CICS V5, all EXEC CICS commands now invoke
      an external LCLhhhh module. The list can be found in zCICS
      Diagnosis Reference.

      As a result some changes were made to the Application program
      structure:
         DFHEIFCP and DFHEITSP removed from EISTG.
         DFHEIGBL now only contains EIB and TCTTE structures.
         Coding reconstructed for LINK, XCTL and RETURN.

         DFHEIRET withdrawn, now incorporated into LCL0E08 (RETURN).
         This means you must end a zCICS program with EXEC CICS RETURN.

   Enhancements and changes...
      All EXEC CICS commands now support RESP, RESP2 and NOHANDLE.
      Added TRACE(G) to Z390KCP trace options (storage).

      Additional code added to BMS to prevent PICIN/PICOUT generating
      truncated data when too much data is input. MAPFAIL/8 is raised.

      EIBDS is now supported
      Support for EXEC CICS START, RETRIEVE and CANCEL
      Support for IMMEDIATE on EXEC CICS RETURN
      Support for EXEC CICS ENQ/DEQ
      CEMT I ENQ added.

V5   June 27, 2008       V1.4.02

   Maintenance...
      RPI833: All macros now changed for HLASM compatability.
      RPI837: Add NOTIME parameter to Z390CICS to prevent S422 abend
              for terminals.
      RPI844: Use of TROT now need aligned tables.
              Z390CEBR and Z390COMP needed amending.
      RPI845: Recode ESTAE routines in Z390KCP to use new SDWA
      RPI946: Amend a few programs to eliminate the generation of 6's
              for uninitialized fields.

      TESTBED3: Bug fixed, final lines not displayed.
                Rebuilt the sequential terminal streams for BED1.

      Z390KCP : Bug fixed, CLEAR key not passed to pseudo-
                conversational task.

                Bug fixed, abend ASRA after RETURN COMMAREA received
                may lead to recursive abends owing to multiple
                FREEMAINs of the COMMAREA.

   Enhancements and changes...
      CEMT conversational mode implemented.
      DFHFCT and DFHPCT have protection against missing TYPE=FINAL.
      Z390CICS future-proofed with a new modular design.
          Global managed functions now in GBLxxxx modules

      Sequential terminal support improved:
         Only the SEQ_TERM parameter needs to be amended.
         Added TRACE option to set parms for trace data collection.

      HANDLE/IGNORE extra conditions
         MAPFAIL, INVMPSZ, OVERFLOW

      New LCLxxxx modules to handle EXEC CICS processing.
         This conversion is not complete.

   New Features...
      Basic Mapping Support
        Macros DFHMSD, DFHMDI, DFHMDF.
        EXEC CICS SEND MAP
        EXEC CICS RECEIVE MAP
        EXEC CICS SEND CONTROL

   New Doc...
      zCICS Basic Mapping Support.

V4   January 18, 2008    V1.3.08h

   File control commands now support all fixed and variable VSAM
   datasets for all applicable read and browse functions.

   Interval Control
      ASKTIME, DELAY and FORMATTIME supported

   Dump Control
      DUMP TRANSACTION

   Enhancements and changes...
      HANDLE/IGNORE extra conditions
         ILLOGIC, EXPIRED
      Z390KCP amended to cater for conditions that default to ignore.

      INI parm DATE_FORMAT changed to single byte:
         K=DMY  (UK format)
         S=MDY  (US format)
         R=YMD  (Reverse format)
      This is also reflected in CEMT I SYS

   Implementation of new LOG() parameter.
      When the INI parameter TRACE_LOCAL=YES is specified, the ERR,
      LOG and TRE files are prefixed with the terminal id. and not
      Z390KCP.

   Sequential Terminal support
      Enables regression testing of all transactions.
      See the documentation about this major new feature...
         zCICS Sequential Terminal Support

   Bug fixes...
      Abends may occur if INI parm LOCAL_TERMINALS=0

      EIBRSRCE was being used in abend messages, but this may not
      contain the program name. New field EIBPROG fixes this.

      Minor error in DFHHCBLK, 5 fullwords reserved for ILLOGIC
      instead of one.

   Other...
      Programs RTZCICSn are no longer supplied and are now classified
      'internal use only'.

V3   October 1st, 2007   V1.3.08
   Improvements to the shutdown process.

   Changes to remote terminal start procedure.
      Z390KCPL to launch multiple remotes
      Z390KCPR to launch one remote, used for test/trace

   Z390CICS.INI ...
      JAR_PATH= and CICS_PATH= are withdrawn. The paths are extracted
      from the environment variables JARPATH and CICSPATH.

      New parm, DATE_FORMAT=UK or US

   Bug fix
      EXEC CICS IGNORE not acquiring handle block.

   Enhancements and changes...
      RECEIVE INTO(EIBAID) no longer supported
         Receive into your own area, EIBAID and EIBCPOSN will be
         automatically extracted.

      HANDLE/IGNORE extra conditions...
         QIDERR, ITEMERR, FILENOTFOUND, NOTFND, DUPREC, DUPKEY,
         NOSPACE, NOTOPEN, ENDFILE, DISABLED

      CEMT I SYS ...
         Terminal numbers were in error, display enhanced.
         JAR_PATH and CICS_PATH are displayed from the environment
         variables.

      DFHALLV.BAT to rebuild the test VSAM catalog and files.

   Added support for...
      DELETEQ TS
      READQ TS
      WRITEQ TS

   File control commands are for VSAM ESDS read-only...
      READ
      STARTBR
      READNEXT
      READPREV
      RESETBR
      ENDBR

   Added facilities
      CEBR transaction, a hybrid of CEMT I TSQ and CEBR.
      Extensive improvements.

      CEMT I FIL

   Documentation
      CEMT and CEBR are now moved to zCICS Supplied Transactions.

      New document - zCICS VSAM Guide.

-----------------------------------------------------------------------

V2   June 25, 2007   V1.3.05
   Corrections to setting of EIBAID and EIBCPOSN.
   Maintain EIBRSRCE (program name).
   Clear prefix section of DSA, possibility of abends.
   Support of multiple base registers for code and DSA...
      see ZCICSAPP doc.
   Local terminals may not start...thanks to Don for a temporary fix.
      Command Prompt pathname not externalised.
      Fixed by extra INI parm CICS_PATH...see ZCICSSYS doc.
   Added DFHAID.CPY...BAT files may need SYSCPY amended if used.

   Enhancements and changes...
      EXEC CICS RECEIVE
         ... supports NOHANDLE
         ... default INTO(EIBAID) has been withdrawn,
             recode to EXEC CICS RECEIVE INTO(EIBAID) LENGTH(ONE)
                       ...
                       ONE DC H'1'
      Abend handling now properly implemented.
      COMMAREA()  now supports indirect addressing.
      SEND FROM() now supports indirect addressing.
      Added SHUT DOWN status to CEMT I TER.
      CEMT now accepts full wording for commands, ie. CEMT SET
         TERMINAL OUT, but only the minimum number of characters
         of each parameter will be tested.
      CEMT P SHU and CEMT P SHU IMM are fully implemented, there are
         some issues, see ZCICSSYS for details.
      Added INI parameter INITIAL_TRANSID to fire a transaction when
         terminal is started. New LOGO transid.
      Added dummy DFHPCTUS.CPY for users to add their own PCT entries.
      INI parms JAR_PATH and CICS_PATH now support preset environment
      variables as %...%

   Added support for...
      ABEND
      FREEMAIN
      GETMAIN
      HANDLE AID
      HANDLE ABEND
      HANDLE/IGNORE CONDITION
         only ERROR, INVREQ, LENGERR, PGMIDERR supported
      PUSH HANDLE
      POP HANDLE
      RELEASE

Ver  Ship Date       Z390 version
---  --------------  ------------
V1   May 1, 2007     V1.3.03b

   Provides assembly support for CICS programs.

   Includes most parameters associated with the following EXEC CICS
   commands...
      LINK, LOAD, RECEIVE, RETURN, SEND, XCTL

   Some basic CEMT functions.

Trademarks
----------
IBM, CICS and VSAM are registered trademarks of International Business
Machines Corporation.

Author       : Melvyn Maltz
Shipping Date: February 21, 2009
Z390 version : V1.5.00
zCICS version: V7
