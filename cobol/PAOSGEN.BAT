REM CONVERT COBOL FOR OS/390 ASSEMBLER LISTING TO Z390 ASSEMBLER
REM AND THEN ASSEMBLE, LINK, AND EXECUTE SELECTED COBOL SOURCE LINES
REM PARM 1 IS INPUT ASCII COBOL ASSEMBLER LISTING TEXT FILE
REM PARM 2 IS SYSPARM(LINE1:LINE2)
REM FOR EXAMPLE TRY COBOL\PAOSGEN COBOL\PAOS\DEMO1 SYSPARM(NN:MM)
REM SEE PAOSLIB.MLC FOR CURRENTLY SUPPORTED CALLED COBOL FUNCTIONS
REM ASSEMBLE STATICALLY LINKED INTERFACE MODULDE  PAOSINT.MLC > OBJ
CALL ASM  COBOL\PAOSINT SYSCPY(COBOL+MAC)
REM ASSEMBLE AND LINK SUPPORT LIBRARY LOAD MODULE PAOSLIB.MLC > 390
CALL ASML COBOL\PAOSLIB SYSCPY(COBOL+MAC) 
REM GENERATE Z390 ASSEMBLER FROM ASCII LISTING INCLUDING PACVT    
SET SYSUT1=%1.TXT
SET SYSUT2=%1.MLC
CALL MAC COBOL\PAOSGEN %2 %3 %4 %5 %6 %7 %8 %9
IF ERRORLEVEL 1 PAUSE PAOSGEN ERROR
REM ASSEMBLE, LINK, AND EXECUTE GENERATED Z390 ASSEMBLER PROGRAM
CALL ASMLG %1 SYSOBJ(COBOL\PAOS+COBOL) SYS390(COBOL\PAOS+COBOL) %2 %3 %4 %5 %6 %7 %8 %9
PAUSE CHECK OUTPUT AND PRESS ENTER TO PROCEED
