REM CONVERT COBOL/370 ASSEMBLER LISTING TO Z390 ASSEMBLER
REM AND THEN ASSEMBLE, LINK, AND EXECUTE SELECTED COBOL SOURCE LINES
REM PARM 1 IS INPUT ASCII COBOL ASSEMBLER LISTING TEXT FILE
REM PARM 2 IS SYSPARM(LINE1:LINE2)
REM FOR EXAMPLE TRY COBOL\PAC3GEN COBOL\PAC3\DEMO1 SYSPARM(NN:MM)
REM SEE PAC3LIB.MLC FOR CURRENTLY SUPPORTED CALLED COBOL FUNCTIONS
REM ASSEMBLE STATICALLY LINKED INTERFACE MODULDE  PAC3INT.MLC > OBJ
CALL ASM  COBOL\PAC3INT SYSCPY(COBOL+MAC)
REM ASSEMBLE AND LINK SUPPORT LIBRARY LOAD MODULE PAC3LIB.MLC > 390
CALL ASML COBOL\PAC3LIB SYSCPY(COBOL+MAC) 
REM GENERATE Z390 ASSEMBLER FROM ASCII LISTING INCLUDING PACVT    
SET SYSUT1=%1.TXT
SET SYSUT2=%1.MLC
CALL MAC COBOL\PAC3GEN %2 %3 %4 %5 %6 %7 %8 %9
IF ERRORLEVEL 1 PAUSE PAC3GEN ERROR
REM ASSEMBLE, LINK, AND EXECUTE GENERATED Z390 ASSEMBLER PROGRAM
CALL ASMLG %1 SYSOBJ(COBOL\PAC3+COBOL) SYS390(COBOL\PAC3+COBOL) %2 %3 %4 %5 %6 %7 %8 %9
PAUSE CHECK OUTPUT AND PRESS ENTER TO PROCEED
