*%GOTO  MMAPGVCTL; /*PLS COMMENT TO AVOID UNMATCHED QUOTE PROBLEMS      00001027
         MACRO                                                 @D14CDJB 00002027
&NAME    MAPGVCTL                                                       00003027
**************************************************************          00004027
*                                                            *          00005027
.*     IBM DISK OPERATING SYSTEM                             *          00006027
*      SUPERVISOR - MAPGVCTL - 5686-066-06                   *          00007027
.*                                                           *          00008027
         AGO   .ZZZ                                                     00009027
*      LICENSED MATERIALS - PROPERTY OF IBM                  *          00010027
*      THIS MACRO IS "RESTRICTED MATERIALS OF IBM"           *@D31UDMZ  00011027
*      5686-066 (C) COPYRIGHT IBM CORP. 1984, 2002           *@D67FDMZ  00012027
*      SEE COPYRIGHT INSTRUCTIONS                            *@D31UDMZ  00013027
.ZZZ     ANOP                                                           00014027
*                                                            *          00015027
*      MAPGVCTL - ANCHOR TABLE, ANCHOR TABLE ENTRY AND       *          00016027
*                 GETVIS CONTROL INFORMATION                 *          00017027
*                 MAPPING STRUCTURE                          *          00018027
*                                                            *          00019027
**************************************************************          00020027
         GBLB  &IJBSGEN                                        @D64ADMZ 00021027
************************************************************** @D369DJB 00022027
*    DSECT FOR ANCHOR TABLE HEADER                           * @D369DJB 00023027
************************************************************** @D369DJB 00024027
&NAME    DSECT                                                          00025027
*        AREA FOR DIRECTORY ENTRIES USED BY CDLOAD                      00026027
ANCHDIR  DS    0F                    ANCHOR TABLE              @D52VDMZ 00027027
ANCHFWP  DS    F                     PTR TO NEXT ANCHOR TABLE  @D52VDMZ 00028027
ANCHBWP  DS    F                     PTR TO PREVIOUS ANCH.TABLE@D52VDMZ 00029027
ANCHNOUE DS    H                     NO OF USED DIREC. ENTRIES @D52VDMZ 00030027
ANCHNUME DS    H                     NO OF TOTAL DIREC ENTRIES @D61ADVB 00031027
* A PTR IS ZERO IF THE ANCHOR TABLE DOES NOT EXIST             @D52VDMZ 00032027
ANCHHDRL EQU   *-ANCHDIR             LENGTH OF ANCHDIR HEADER  @D52VDMZ 00033027
         AIF   (&IJBSGEN).ANCHS4                               @D64ADMZ 00034027
ATENTLEN EQU   28                    LENGTH OF A CDLOAD ENTRY  @D64ADMZ 00035027
         AGO   .ANCHS5                                         @D64ADMZ 00036027
.ANCHS4  ANOP                                                  @D64ADMZ 00037027
ATENTLEN EQU   ATLENGTH              LENGTH OF A CDLOAD ENTRY  @D52VDMZ 00038027
         ORG   ANCHDIR+X'1C'-ATENTLEN     PRODUCE ASSEMBLY ERROR IF     00039027
*                                    ATENTLEN > 1C             @D64ADMZ 00040027
         ORG                                                            00041027
.ANCHS5  ANOP                                                  @D64ADMZ 00042027
ATENTNUM EQU   (1024-ANCHHDRL)/ATENTLEN NO OF DIRECTORY ENTRIES@D52VDMZ 00043027
ANCHDIRF DS    0F                    FIRST DIRECTORY ENTRY     @D52VDMZ 00044027
         DS    (ATENTNUM*ATENTLEN)X  CDLOAD DIRECTORY ENTRIES           00045027
ANCHLDIR EQU   *-ATENTLEN          LAST ENTRY ADDRESS                   00046027
         DS    (1024-ANCHHDRL-ATENTNUM*ATENTLEN)X  ALIGN VISTAB         00047027
ANCHDIRL EQU   *-ANCHDIR             LENGTH OF ANCHOR TABLE    @D52VDMZ 00048027
*        GETVIS CONTROL INFORMATION                                     00049027
BSUBPIND DS    F                   BEGIN OF SUBPOOL INDEX TAB. @D52VDKH 00050027
ESUBPIND DS    F                   END OF SUBPOOL INDEX TABLE  @D52VDKH 00051027
EGVCTLB  DS    F                   LAST BYTE OF CONTROL INFORM.@D52VDKH 00052027
ENDGVCTL DS    F                   END OF CONTROL AREA         @D52VDKH 00053027
* DUPCILSV CONTAINS BELOW DATA WHEN AREA IS SWITCHED TO ABOVE  @DY44311 00054027
DUPCILSV DS    (MOVECIL)X          SAVE AREA FOR DUPLICATED FLD@D52VDKH 00055027
         ORG   DUPCILSV                                        @DY44311 00056027
BNBRGVPG DS    F                   NO OF PAGES BELOW           @DY44311 00057027
         ORG   DUPCILSV+OFVRTMEM                               @D52VDKH 00058027
BBVRTMEM DS    F                                               @D52VDKH 00059027
BEVRTMEM DS    F                                               @D52VDKH 00060027
         ORG   ,                                               @D52VDKH 00061027
NBRGVPG  DS    F                   NBR OF AVAILABLE PAGES      @D52VDKH 00062027
GTVSPGCT DS    F                   NBR OF CURRENT USED PAGES   @D52VDKH 00063027
GTVSMXCT DS    F                   MAX NBR OF PAGES TO BE USED @D52VDKH 00064027
GTVSEXCT DS    F                   MAX NBR OF PAGES TO BE USED BY       00065027
*                                       EXCESSIVE SUBPOOLS     @D52VDKH 00066027
OFVRTMEM EQU   *-NBRGVPG           OFFSET OF BVIRTMEM          @D61ADKH 00067027
BVIRTMEM DS    F                   BEGIN OF GETVIS AREA                 00068027
EVIRTMEM DS    F                   END OF GETVIS AREA                   00069027
BVISTAB  DS    F                   BEGIN OF VISTAB                      00070027
EVISTAB  DS    F                   END OF VISTAB                        00071027
BSUBPCHN DS    F                   BEGIN OF SUBPOOL CHAIN TAB.          00072027
ESUBPCHN DS    F                   END OF SUBPOOL CHAIN TABLE           00073027
GTVSHIGH DS    F                   PAGE CHAIN HIGH WATER MARK           00074027
*  FOLLOWING TWO FIELDS MUST ALWAYS BE CONTIGUOUS                       00075027
FIRSTPNT DS    F                   FIRST PAGE WITHIN EMPTY POOL         00076027
CURPOINT DS    F                   START SEARCH ADDRESS                 00077027
MOVECIL  EQU   *-NBRGVPG                                       @D61ADKH 00078027
************************************************                        00079027
*    THE FOLLOWING FIELDS ARE DUPLICATED FOR THE ABOVE PART             00080027
*    OF THE GETVIS AREA (UP TO MOVECIL)                                 00081027
************************************************                        00082027
ANBRGVPG DS    F                   NBR OF AVAILABLE PAGES      @D52VDKH 00083027
AGTVSPCT DS    F                   NBR OF CURRENT USED PAGES   @D52VDKH 00084027
AGTVSMCT DS    F                   MAX NBR OF PAGES TO BE USED @D52VDKH 00085027
AGTVSXCT DS    F                   MAX NBR OF PAGES TO BE USED BY       00086027
*                                       EXCESSIVE SUBPOOLS     @D52VDKH 00087027
ABVRTMEM DS    F                   BEGIN OF GETVIS AREA        @D52VDKH 00088027
AEVRTMEM DS    F                   END OF GETVIS AREA          @D52VDKH 00089027
ABVISTAB DS    F                   BEGIN OF VISTAB             @D52VDKH 00090027
AEVISTAB DS    F                   END OF VISTAB               @D52VDKH 00091027
ABSUBCHN DS    F                   BEGIN OF SUBPOOL CHAIN TAB. @D52VDKH 00092027
AESUBCHN DS    F                   END OF SUBPOOL CHAIN TABLE  @D52VDKH 00093027
AGTVSHI  DS    F                   PAGE CHAIN HIGH WATER MARK  @D52VDKH 00094027
*  FOLLOWING TWO FIELDS MUST ALWAYS BE CONTIGUOUS                       00095027
AFRSTPNT DS    F                   FIRST PAGE WITHIN EMPTY POOL@D52VDKH 00096027
ACURPNT  DS    F                   START SEARCH ADDRESS        @D52VDKH 00097027
         DS    (*-ANBRGVPG-MOVECIL)X    GET ERROR WHEN LENGTH  @D52VDKH 00098027
         DS    (MOVECIL+ANBRGVPG-*)X    CHANGES                @D52VDKH 00099027
ADDRSAV  DS    F                   SAVE AREA FOR USER ADDRESS  @D52VDKH 00100027
LGTHSAV  DS    F                   SAVE AREA FOR REQUEST LENGTH@D52VDKH 00101027
SPIDSAV  DS    F                   ABS. ADDR(SUBPOOL NA.) IN CI@D61ADKH 00102027
SSEARCH  DS    F                   NEW START SEARCH ADDRESS             00103027
SVWORK1  DS    F                   SAVE WORK REG 1                      00104027
         DS    F                   RESERVED FOR FUTURE USE     @D64ADMZ 00105027
SSPPTRCI DS    F                   SAVE PTR TO SP IN BSUBPIND  @D52VDMZ 00106027
SSPNPTR  DS    F                   SAVE PTR TO USERS SUBPOOL N.@D51IDMZ 00107027
SAVR2ND  DS    0F                  SECOND SAVE AREA FOR SUBR   @D51IDMZ 00108027
SAVR2ND6 DS    F                   SAVE AREA FOR REG6          @D51IDMZ 00109027
SAVR2ND7 DS    F                   SAVE AREA FOR REG7          @D51IDMZ 00110027
SAVR2NDF DS    F                   SAVE AREA FOR REGF          @D52VDKH 00111027
SAVR3RD  DS    0F                  SECOND SAVE AREA FOR SUBR   @D52VDKH 00112027
SAVR3RD6 DS    0F                  SAVE AREA FOR REG6          @D64ADMZ 00113027
SAVR3RD7 DS    F                   SAVE AREA FOR REG7          @D52VDKH 00114027
SAVR3RD8 DS    F                   SAVE AREA FOR REG8          @D52VDKH 00115027
SAVR3RDF DS    0F                  SAVE AREA FOR REGF AND REGD @D64ADMZ 00116027
SAVR3RDD DS    F                                               @D52VDKH 00117027
SAVREGS  DS    16F                 REG. SAVE AREA F. SUBROUTS  @D51IDKH 00118027
SAVREG0  EQU   SAVREGS             SAVE AREA FOR REG0          @D51IDMZ 00119027
SAVREG1  EQU   SAVREGS+4           SAVE AREA FOR REG1          @D51IDMZ 00120027
SAVREG2  EQU   SAVREGS+8           SAVE AREA FOR REG2          @D51IDMZ 00121027
SAVREG3  EQU   SAVREGS+12          SAVE AREA FOR REG3          @D51IDMZ 00122027
SAVREG4  EQU   SAVREGS+16          SAVE AREA FOR REG4          @D51IDMZ 00123027
SAVREG5  EQU   SAVREGS+20          SAVE AREA FOR REG5          @D51IDMZ 00124027
SAVREG6  EQU   SAVREGS+24          SAVE AREA FOR REG6          @D51IDMZ 00125027
SAVREG7  EQU   SAVREGS+28          SAVE AREA FOR REG7          @D51IDMZ 00126027
SAVREG8  EQU   SAVREGS+32          SAVE AREA FOR REG8          @D51XDMZ 00127027
SAVREG9  EQU   SAVREGS+36          SAVE AREA FOR REG9          @D51XDMZ 00128027
SAVREGA  EQU   SAVREGS+40          SAVE AREA FOR REGA          @D51XDMZ 00128127
SAVREGB  EQU   SAVREGS+44          SAVE AREA FOR REGB          @D51XDMZ 00128227
SAVREGC  EQU   SAVREGS+48          SAVE AREA FOR REGC          @D51XDMZ 00128327
SAVREGD  EQU   SAVREGS+52          SAVE AREA FOR REGD          @D51XDMZ 00128427
SAVREGE  EQU   SAVREGS+56          SAVE AREA FOR REGE          @D51XDMZ 00128527
SAVREGF  EQU   SAVREGS+60          SAVE AREA FOR REGF          @D51XDMZ 00128627
SVPFSPID DS    F                   SAVE USER'S SUBPOOL ADDR    @D52VDKH 00128727
SVPFR1   DS    F                   SAVE USER'S REGISTER 1      @D52VDKH 00128827
SVPFLIST DS    2F                  PFIX/PFREE PARM LIST        @D51IDKH 00128927
SVPFEND  DS    X                   PFIX/PFREE PARM LIST END    @D51IDKH 00129027
GVFVFLGS DS    X                   NEW FLAG BYTE               @D52VDKH 00130027
GVMIN2   EQU   X'01'               INDICATE MIN_2 PROCESSING   @D52VDKH 00131027
GVFVABVE EQU   X'02'               INDICATE PROCESSING ABOVE   @D52VDKH 00132027
GVCIMOV  EQU   X'04'               CI MOVED TO BELOW PART      @D52VDKH 00133027
GVFVINT  EQU   X'08'               INTERNAL FREEVIS PROCESSING @D52VDKH 00134027
GVUPDCP  EQU   X'10'               UPDATE CURRENT POINTER      @D52VDMZ 00135027
GVFIRSTT EQU   X'20'               SUBPOOL'S FIRST CONT. AREA SCANNED, *00136027
                                   SET ONLY WHEN GVUPDCP SET   @D52VDMZ 00137027
GVCHKPRO EQU   X'40'               PAGES ENQUEUED, KEY OR PROT?@D52VDMZ 00138027
GVFVBR   EQU   X'80'               CALL VIA SVC VS. INT. BRANCH@D61ADKH 00139027
MXSUBPLH DS    H                   MAX NBR OF SUBPOOLS AVAIL.           00140027
GVFVFLG2 DS    X                   2ND FLAGBYTE                @D61ADKH 00141027
GVLNG0RQ EQU   X'80'               REMEMBER LENGTH 0 REQUEST   @D61NDMZ 00142027
SPGVINIT EQU   X'40'               SPACE GETVIS INITIALIZED    @D62ADMZ 00143027
GPAGEXIT EQU   X'20'               USE ERROR EXIT IN GVGETPAG  @D62ADMZ 00144027
*                                  SINCE PAGE COUNT EXCEEDED   @D62ADMZ 00145027
GVSTOSVA EQU   X'10'               OPEN SGET GATE AFTER GVSTAT @D67FDMZ 00146027
         DS    3X                  RESERVED                    @D61ADKH 00147027
SCURPSAV DS    F                   SAVE AREA FOR SPITCURP      @D51XDMZ 00148027
SRLVBSAV DS    X                   SAVE AREA FOR SPITRLVB      @D51XDMZ 00149027
SBITOSAV DS    X                   SAVE AREA FOR SPITBITO      @D51XDMZ 00150027
DUPSBPSV DS    (MOVESPTL)X         SAVE AREA FOR DUPLICATED FLD@D52VDKH 00151027
FPAGEPRO DS    F                   FIRST PAGE TO BE PROTECTED  @D52VDMZ 00152027
LPAGEPRO DS    F                   LAST  PAGE TO BE PROTECTED  @D52VDMZ 00153027
GVFVGATE DS    F                   ADDR OF AREA GATE           @D61ADKH 00154027
GMFMSPNM DS    CL8                 MVS SUBPOOL NAME FIELD      @D61ADHH 00155027
* MAXGAP... MAX NO OF CONTIGUOUS PAGES IN ...                  @D62ADMZ 00156027
MAXGAP   DS    F                   ..BELOW AREA                @D62ADMZ 00157027
MAXGAP_ABV DS   F                  ..ABOVE AREA                @D62ADMZ 00158027
MAXGAP_BDY DS   F                  ..ACROSS THE 16 MB BDY      @D62ADMZ 00159027
NOMVSSPL    DS   0F                NO OF MVS. SPLES, SMAXGAP ..@D64ADMZ 00160027
*                                  NOT USED FOR STATUS COMMAND @D64ADMZ 00161027
SMAXGAP     DS   F                 SAVED MAXGAP VALUES ..      @D62ADMZ 00162027
NEXT_SPLE   DS   0F                USED DURING STATUS COM. PROC@D64ADMZ 00163027
SMAXGAP_ABV DS   F                 .. DURING PFIX SINCE..      @D62ADMZ 00164027
SMAXGAP_BDY DS   F                 .. GETVIS GATE IS OPENED    @D62ADMZ 00165027
GVFVGATE_SAV DS F                  SAVED DURING PFIX           @D62ADMZ 00166027
GMFMSPLE DS    F                                               @D61ADKH 00167027
SPITMVSP DS    F                   POINTER TO CURRENT SPLE     @D61ADHH 00168027
SAVSHIFT DS    X                   SAVE AREA                   @D52VDKH 00169027
SAVRQST  DS    X                                               @D61ADKH 00170027
SPIDSAVH DS    H                                               @D61ADKH 00171027
         AIF   (&IJBSGEN).ANCHS1   SUPERVISOR GENERATION       @D64ADMZ 00172027
         DS    16F                 REGISTER SAVE AREA          @D64ADKH 00173027
         AGO   .ANCHS2                                         @D64ADMZ 00174027
.ANCHS1  ANOP                                                  @D64ADMZ 00175027
         ORG   *-(SVER09-SVEARA)                               @D61ADKH 00176027
GMFMWRK1 EQU   *                   SIMULATED SAVE AREA (SVEARA)@D61ADKH 00177027
         ORG   ,                                               @D61ADKH 00178027
         DS    16F                 REGISTER SAVE AREA          @D61ADKH 00179027
         ORG   GMFMWRK1+(SVER02-SVEARA)   SVER02               @D61ADKH 00180027
GMFMFLGS DS    X                   FLAGS FOR GETMAIN/FREEMAIN  @D61ADKH 00181027
PFIXPEND EQU   X'80'               GETMAIN WAITS FOR PFIX      @D61ADKH 00182027
OBELOW   EQU   X'40'               REQUEST FORCED TO BELOW     @D61ADKH 00183027
GMFM_SYSTEM  EQU  X'20'            GETVIS FOR SPLE ACTIVE      @D61ADKH 00184027
GM       EQU   X'10'               GETMAIN REQUEST             @D61ADKH 00185027
LIST     EQU   X'08'               LIST REQUEST                @D61ADKH 00186027
VAR      EQU   X'04'               VARIABLE REQUEST            @D61ADKH 00187027
SPREL    EQU   X'02'               SUBPOOL RELEASE REQUEST     @D61ADKH 00188027
COND     EQU   X'01'               CONDITIONAL REQUEST         @D61ADHH 00189027
GMFMFLG2 DS    X                   FLAGS FOR GETMAIN/FREEMAIN  @D61ADHH 00190027
SQA      EQU   X'80'               SQA REQUEST                 @D61ADHH 00191027
LSQA     EQU   X'40'               LSQA REQUEST                @D61ADHH 00192027
VARMIN   EQU   X'20'               PROCESS MINIMUM IN VAR REQ. @D61ADHH 00193027
FSPLE    EQU   X'10'                                           @D61ADHH 00194027
SWITCHED EQU   X'08'                                           @D61ADKH 00195027
         DS    X                                               @D61ADHH 00196027
GMFMRQST DS    X                   RQST   OF GETMAIN/FREEMAIN  @D61ADKH 00197027
         ORG   GMFMWRK1+(SVER08+4-SVEARA)  END OF REGISTER AREA@D61ADKH 00198027
.ANCHS2  ANOP                                                  @D64ADMZ 00199027
GMFMWRK1_EXT DS F                  EXTEND SAVE AREA SINCE SVER02 CAN'T  00200027
*                                  BE USED                     @D64ADMZ 00201027
         AIF   (&IJBSGEN).ANCHS6                               @D64ADMZ 00202027
GMFMWRK2 DS    524X                SPACE FOR IJBSSM2 WORKAREA  @D64ADMZ 00203027
         AGO   .ANCHS7                                         @D64ADMZ 00204027
.ANCHS6  ANOP                                                  @D64ADMZ 00205027
GMFMWRK2 DS    (SSM2WRKL)X         SPACE FOR IJBSSM2 WORKAREA  @D61ADHH 00206027
         ORG   ANCHDIR+X'20C'-SSM2WRKL  ASSEMBLY ERROR IF TO LARGE      00207027
         ORG                                                            00208027
.ANCHS7  ANOP                                                  @D64ADMZ 00209027
VISTAB   EQU   *                   BEGIN OF BIT PATTERN                 00210027
         SPACE 2                                                        00211027
**************************************************************          00212027
*    DSECT FOR SUBPOOL CHAIN TABLE                           *          00213027
**************************************************************          00214027
         SPACE 2                                                        00215027
SUBPCHN  DSECT                                                          00216027
SPCHFORW DS    F                   SUBPOOL FORWARD POINTER              00217027
SPCHBACK DS    F                   SUBPOOL BACKWARD POINTER             00218027
SPCHVSTB DS    F                   RELATIVE PAGE VISTAB PTR             00219027
SPCHNMBR DS    H                   SUBPOOL ID (NUMBER)         @D51IDMZ 00220027
SPCHFLAG DS    X                   SUBPOOL PAGE FLAGS                   00221027
SPPGCONC EQU   X'01'                 CONCATENATION FLAG                 00222027
SPPGPFIX EQU   X'10'                 PAGE IS PFIXED (ONLY SVA)          00223027
         DS    X                   RESERVED FOR FUTURE USE     @D51IDMZ 00224027
SUBPCHNL EQU   *-SUBPCHN           LENGTH OF SUBPOOL CHAIN TAB.         00225027
SUBPCHN2 EQU   4                   2'S LOG OF SUBPCHNL                  00226027
         AIF   (NOT &IJBSGEN).ANCHS3                           @D64ADMZ 00227027
         SPACE 2                                                        00228027
**************************************************************          00229027
*    DSECT FOR SPLE                                          *          00230027
**************************************************************          00231027
         SPACE 2                                                        00232027
SPLE        DSECT                                              @D64ADMZ 00233027
PNEXTSPLE   DS   F            ADDRESS OF NEXT SPLE IN LIST     @D64ADMZ 00234027
SPTYPE      DS   X            TYPE OF STORAGE                  @D64ADMZ 00235027
SPLEFLAGS   DS   XL3                                           @D64ADMZ 00236027
SUBPINTBUF  DS   (SUBPINTL)X  BUFFER OF SUBPINT ENTRY          @D64ADMZ 00237027
.ANCHS3     ANOP                                                        00238027
         SPACE 2                                                        00239027
************************************************************** @D149DJB 00240027
*    DSECT FOR SUBPOOL INDEX TABLE                           * @D149DJB 00241027
************************************************************** @D149DJB 00242027
         SPACE 2                                               @D14CDJB 00243027
SUBPINT  DSECT                                                 @D14CDJB 00244027
SPITNAME DS    CL6                 SUBPOOL NAME FIELD          @D14CDJB 00245027
SUBPVARL1 EQU   *-SPITNAME                                     @D64ADKH 00246027
SPITNMBR DS    XL2                 SUBPOOL NUMBER              @D51IDMZ 00247027
SPITKEY  DS    XL1                 KEY FOR PAGE PROTECTION     @D64ADHH 00248027
SPITFLAG DS    X                   SUBPOOL FLAG                @D14CDJB 00249027
SPFTCHPR EQU   X'01'                 SUBPOOL IS FETCH PROTECTED@D14CDJB 00250027
SPPKEYPR EQU   X'08'                 SUPOOL IS PROTECTED WITH PARTITION 00251027
*                                    KEY                       @D51IDMZ 00252027
SPCNTRLD EQU   X'10'                 SUBPOOL IS CONTROLLED     @D51IDKH 00253027
SPCREATE EQU   X'20'                 SUBP. CREATED BY CURR. REQ@D52IDMZ 00254027
SPPFXPND EQU   X'40'                 SUBPOOL WITH PENDING PFIX @D51IDMZ 00255027
SPITPIK  DS    H                    PIK OF OWNING PARTITION    @D51IDKH 00256027
         DS    XL1                 RESERVED                    @D64ADHH 00257027
SPITFLG1 DS    X                   SUBPOOL FLAG BYTE 2         @D51XDMZ 00258027
SPFPEMTY EQU   X'80'               FIRST PAGE EMPTY            @D51XDMZ 00259027
SPLPEMTY EQU   X'40'               LAST PAGE EMPTY             @D51XDMZ 00260027
SPCLPMR  EQU   X'20'               CALL PAGE MANAGER           @D51XDMZ 00261027
SPBTHPRT EQU   X'10'               BOTH PARTS FREED            @D52VDKH 00262027
SPSWABVE EQU   X'01'               SUBPOOL SWITCHED TO ABOVE   @D52VDKH 00263027
SPITTASK DS    H                   TASK THAT CREATED SUBPOOL   @D64ADMZ 00264027
SPITPUSC DS    F                   PAGE USAGE COUNT            @D64ADMZ 00265027
SPITFRST DS    F                   PTR TO FIRST CHAIN TABLE    @D14CDJB 00266027
*                                            ENTRY OF SUBPOOL  @D14CDJB 00267027
SPITCURP DS    F                   PTR TO CURRENT CHAIN        @D14CDJB 00268027
*                                              TABLE ENTRY     @D14CDJB 00269027
SPITRLVB DS    X                   REL. CURRENT PTR WITHIN     @D52VDKH 00270027
*                                                CURRENT PAGE  @D14CDJB 00271027
SPITBITO DS    X                   OR MASK FOR SPITRLVB        @D52VDKH 00272027
*                                   (IMPLICIT CURRENT BIT PTR) @D14CDJB 00273027
MOVESPTL EQU   *-SPITFRST                                      @D64ADKH 00274027
         DS    X                   RESERVED                    @D64ADKH 00275027
         DS    X                   RESERVED                    @D64ADMZ 00276027
************************************************                        00277027
*    THE FOLLOWING FIELDS ARE DUPLICATED FOR THE ABOVE PART             00278027
*    OF THE GETVIS AREA (UP TO MOVESPTL)                                00279027
************************************************                        00280027
ASPTFRST DS    F                   PTR TO FIRST CHAIN TABLE    @D52VDKH 00281027
*                                            ENTRY OF SUBPOOL  @D14CDJB 00282027
ASPTCURP DS    F                   PTR TO CURRENT CHAIN        @D52VDKH 00283027
*                                              TABLE ENTRY     @D14CDJB 00284027
ASPTRLVB DS    X                   REL. CURRENT PTR WITHIN     @D52VDKH 00285027
*                                                CURRENT PAGE  @D14CDJB 00286027
ASPTBITO DS    X                   OR MASK FOR SPITRLVB        @D52VDKH 00287027
*                                   (IMPLICIT CURRENT BIT PTR) @D14CDJB 00288027
         DS    (*-ASPTFRST-MOVESPTL)X BRINGS COMPILE ERROR IF  @D52VDKH 00289027
         DS    (MOVESPTL+ASPTFRST-*)X  LENGTH CHANGES          @D52VDKH 00290027
         DS    X                   RESERVED                    @D64ADKH 00291027
         DS    X                   RESERVED                    @D64ADKH 00292027
SUBPVARL2 EQU   *-SPITKEY                                      @D64ADMZ 00293027
SUBPVARL3 EQU   *-SPITPIK                                      @DY45525 00294027
SUBPINTL EQU   *-SUBPINT           LENGTH OF SUBPOOL INDEX TAB.@D14CDJB 00295027
         SPACE 2                                               @D14CDJB 00295127
*                                                                       00295227
*      VISTAB EQUATES                                                   00295327
*                                                                       00295427
VBYTB    EQU   1024               SIZE FOR 1 BYTE PART VISTAB           00295527
LDVBYTB  EQU   10                 2'S LOG OF VBYTB                      00295627
VBYTBI   EQU   128                SIZE FOR 1 BIT PART VISTAB            00295727
LDVBYTBI EQU   7                  2'S LOG OF VBYTBI                     00295827
VBYTSV   EQU   16                 SIZE FOR 1 BIT SVA VISTAB             00295927
LDVBYTSV EQU   4                  2'S LOG OF VBYTSV                     00296027
         MEND                                                           00297027
* END OF PLS COMMENT */ %MMAPGVCTL : ;                                  00298027
*/********************************************************************/ 00299027
*/* ANCHOR TABLE AND GETVIS INFORMATION                              */ 00300027
*/* MAPPING STRUCTURE                                                */ 00301027
*/********************************************************************/ 00302027
*                                                                       00303027
* /*******************************************************************/ 00304027
* /* AREA FOR DIRECTORY ENTRIES USED BY CDLOAD                       */ 00305027
* /*******************************************************************/ 00306027
* DCL                                                                   00307027
*   1 MAPGVCTL BASED BDY(WORD),      /* ANCHOR TABLE                 */ 00308027
*                                                                       00309027
*     /***************************************************************/ 00310027
*     /* AREA FOR DIRECTORY ENTRIES USED BY CDLOAD                   */ 00311027
*     /***************************************************************/ 00312027
*     3 ANCHDIR CHAR(1024) BDY(WORD),  /* ANCHOR TABLE               */ 00313027
*       5 ANCHHDR,                     /* ANCHOR TABLE HAEDER        */ 00314027
*         7 ANCHFWP  POINTER,          /* PTR TO NEXT ANCHOR TABLE   */ 00315027
*         7 ANCHBWP  POINTER,          /* PTR TO PREVIOUS ANCH.TABLE */ 00316027
*         7 ANCHNOUE BIN(16) UNSIGNED, /* NO OF USED DIREC. ENTRIES  */ 00317027
*         7 *        BIN(16) UNSIGNED, /* RESERVED                   */ 00318027
*         /***********************************************************/ 00319027
*         /* A PTR IS ZERO IF THE ANCHOR TABLE DOES NOT EXIST        */ 00320027
*         /***********************************************************/ 00321027
*       5 ANCHDIRF CHAR(ATENTNUM*ATENTLEN+                              00322027
                        (1024-ANCHHDRL-ATENTNUM*ATENTLEN)),             00323027
*         7 *        CHAR(ATENTNUM*ATENTLEN),                           00324027
*         7 *        CHAR(1024-ANCHHDRL-ATENTNUM*ATENTLEN),             00325027
*     /***************************************************************/ 00326027
*     /* GETVIS CONTROL INFORMATION                                  */ 00327027
*     /***************************************************************/ 00328027
*     3 BSUBPIND FIXED(31),          /* BEGIN OF SUBPOOL INDEX TAB.  */ 00329027
*     3 ESUBPIND FIXED(31),          /* END OF SUBPOOL INDEX TABLE   */ 00330027
*     3 EGVCTLB  FIXED(31),          /* LAST BYTE OF CONTROL INFORM. */ 00331027
*     3 ENDGVCTL FIXED(31),          /* END OF CONTROL AREA          */ 00332027
*     3 DUPCILSV CHAR(MOVECIL) BDY(WORD),  /* SAVE AREA FOR          */ 00333027
*                                          /* DUPLICATED FLD         */ 00334027
*       5 *        CHAR(OFVRTMEM),   /*                              */ 00335027
*       5 BBVRTMEM FIXED(31),        /*                              */ 00336027
*       5 BEVRTMEM FIXED(31),        /*                              */ 00337027
*     3 *        CHAR(OFVRTMEM) BDY(WORD), /* BRINGS COMPILE MESSAGE */ 00338027
*                                    /*  IF LENGTH CHANGES           */ 00339027
*       5 NBRGVPG  FIXED(31),        /* NBR OF AVAILABLE PAGES       */ 00340027
*       5 GTVSPGCT FIXED(31),        /* NBR OF CURRENT USED PAGES    */ 00341027
*       5 GTVSMXCT FIXED(31),        /* MAX NBR OF PAGES TO BE USED  */ 00342027
*       5 GTVSEXCT FIXED(31),        /* MAX NBR OF PAGES TO BE USED  */ 00343027
*                                    /* BY EXCESSIVE SUBPOOLS        */ 00344027
*     3 BVIRTMEM FIXED(31),          /* BEGIN OF GETVIS AREA         */ 00345027
*     3 EVIRTMEM FIXED(31),          /* END OF GETVIS AREA           */ 00346027
*     3 BVISTAB  FIXED(31),          /* BEGIN OF VISTAB              */ 00347027
*     3 EVISTAB  FIXED(31),          /* END OF VISTAB                */ 00348027
*     3 BSUBPCHN FIXED(31),          /* BEGIN OF SUBPOOL CHAIN TAB.  */ 00349027
*     3 ESUBPCHN FIXED(31),          /* END OF SUBPOOL CHAIN TABLE   */ 00350027
*     3 GTVSHIGH FIXED(31),          /* PAGE CHAIN HIGH WATER MARK   */ 00351027
*     /***************************************************************/ 00352027
*     /* FOLLOWING TWO FIELDS MUST ALWAYS BE CONTIGUOUS              */ 00353027
*     /***************************************************************/ 00354027
*     3 FIRSTPNT FIXED(31),          /* FIRST PAGE WITHIN EMPTY POOL */ 00355027
*     3 CURPOINT FIXED(31),          /* START SEARCH ADDRESS         */ 00356027
*     /***************************************************************/ 00357027
*     /* THE FOLLOWING FIELDS ARE DUPLICATED FOR THE ABOVE PART      */ 00358027
*     /* OF THE GETVIS AREA (UP TO MOVECIL)                          */ 00359027
*     /***************************************************************/ 00360027
*     3 *        CHAR(MOVECIL) BDY(WORD), /* BRINGS COMPILE MESSAGE  */ 00361027
*                                    /*  IF LENGTH CHANGES           */ 00362027
*       5 ANBRGVPG FIXED(31),        /* NBR OF AVAILABLE PAGES       */ 00363027
*       5 AGTVSPCT FIXED(31),        /* NBR OF CURRENT USED PAGES    */ 00364027
*       5 AGTVSMCT FIXED(31),        /* MAX NBR OF PAGES TO BE USED  */ 00365027
*       5 AGTVSXCT FIXED(31),        /* MAX NBR OF PAGES TO BE USED  */ 00366027
*                                    /* BY EXCESSIVE SUBPOOLS        */ 00367027
*       5 ABVRTMEM FIXED(31),        /* BEGIN OF GETVIS AREA         */ 00368027
*       5 AEVRTMEM FIXED(31),        /* END OF GETVIS AREA           */ 00369027
*       5 ABVISTAB FIXED(31),        /* BEGIN OF VISTAB              */ 00370027
*       5 AEVISTAB FIXED(31),        /* END OF VISTAB                */ 00371027
*       5 ABSUBCHN FIXED(31),        /* BEGIN OF SUBPOOL CHAIN TAB.  */ 00372027
*       5 AESUBCHN FIXED(31),        /* END OF SUBPOOL CHAIN TABLE   */ 00373027
*       5 AGTVSHI  FIXED(31),        /* PAGE CHAIN HIGH WATER MARK   */ 00374027
*       /*************************************************************/ 00375027
*       /* FOLLOWING TWO FIELDS MUST ALWAYS BE CONTIGUOUS            */ 00376027
*       /*************************************************************/ 00377027
*       5 AFRSTPNT FIXED(31),        /* FIRST PAGE WITHIN EMPTY POOL */ 00378027
*       5 ACURPNT  FIXED(31),        /* START SEARCH ADDRESS         */ 00379027
*     3 ADDRSAV  FIXED(31),          /* SAVE AREA FOR USER ADDRESS   */ 00380027
*     3 LGTHSAV  FIXED(31),          /* SAVE AREA FOR REQUEST LENGTH */ 00381027
*     3 SPIDSAV  POINTER(31),        /* ABS. ADDR(SUBPOOL NA.) IN CI */ 00382027
*     3 SSEARCH  FIXED(31),          /* NEW START SEARCH ADDRESS     */ 00383027
*     3 SVWORK1  FIXED(31),          /* SAVE WORK REG 1              */ 00384027
*     3 *        FIXED(31),          /* RESERVED FOR FUTURE USE      */ 00385027
*     3 SSPPTRCI FIXED(31),          /* SAVE PTR TO SP IN BSUBPIND   */ 00386027
*     3 SSPNPTR  FIXED(31),          /* SAVE PTR TO USERS SUBPOOL N. */ 00387027
*     3 SAVR2ND  BDY(WORD),          /* SECOND SAVE AREA FOR SUBR    */ 00388027
*       5 SAVR2ND6 FIXED(31),        /* SAVE AREA FOR REG6           */ 00389027
*     3 SAVR2ND7 FIXED(31),          /* SAVE AREA FOR REG7           */ 00390027
*     3 SAVR2NDF FIXED(31),          /* SAVE AREA FOR REGF           */ 00391027
*     3 SAVR3RD  BDY(WORD),          /* SECOND SAVE AREA FOR SUBR    */ 00392027
*       5 SAVR3RD7 FIXED(31),        /* SAVE AREA FOR REG7           */ 00393027
*     3 SAVR3RD8 FIXED(31),          /* SAVE AREA FOR REG8           */ 00394027
*     3 SAVR3RDF FIXED(31),          /* SAVE AREA FOR REGF           */ 00395027
*     3 SAVREGS  CHAR(16*4) BDY(WORD), /* REG. SAVE AREA F. SUBROUTS */ 00396027
*     3 SVPFSPID FIXED(31),          /* SAVE USER'S SUBPOOL ADDR     */ 00397027
*     3 SVPFR1   FIXED(31),          /* SAVE USER'S REGISTER 1       */ 00398027
*     3 SVPFLIST CHAR(4*2),          /* PFIX/PFREE PARM LIST         */ 00399027
*     3 SVPFEND  BIN(8),             /* PFIX/PFREE PARM LIST END     */ 00400027
*     3 GVFVFLGS BIN(8),             /* NEW FLAG BYTE                */ 00401027
*     3 MXSUBPLH FIXED(16),          /* MAX NBR OF SUBPOOLS AVAIL.   */ 00402027
*     3 GVFVFLG2 BIN(8),             /* NEW FLAG BYTE                */ 00403027
*     3 *  CHAR(3),                  /* 2ND GETVIS FLAGBYTE          */ 00404027
*     3 SCURPSAV FIXED(31),          /* SAVE AREA FOR SPITCURP       */ 00405027
*     3 SRLVBSAV BIN(8),             /* SAVE AREA FOR SPITRLVB       */ 00406027
*     3 SBITOSAV BIN(8),             /* SAVE AREA FOR SPITBITO       */ 00407027
*     3 DUPSBPSV CHAR(MOVESPTL),     /* SAVE AREA FOR DUPLICATED FLD */ 00408027
*     3 FPAGEPRO FIXED(31),          /* FIRST PAGE TO BE PROTECTED   */ 00409027
*     3 LPAGEPRO FIXED(31),          /* LAST  PAGE TO BE PROTECTED   */ 00410027
*     3 GVFVGATE FIXED(31),          /* POINTER TO AREA GATE         */ 00411027
*     3 GMFMSPNM CHAR(8),            /* MVS SUBPOOL NAME FIELD       */ 00412027
*     3 MAXGAP FIXED(31),            /* MAX. FREE PAGES BELOW        */ 00413027
*     3 MAXGAP_ABV FIXED(31),        /* MAX. FREE PAGES ABOVE        */ 00414027
*     3 MAXGAP_BDY FIXED(31),        /* MAX. FREE PAGES ACR. BDY     */ 00415027
*     3 NOMVSSPL FIXED(31),          /* NO OF MVS. SPLES             */ 00416027
*      4 SMAXGAP FIXED(31),         /* SAVED MAXGAP VALUES ..       */  00417027
*     3 SMAXGAP_ABV FIXED(31),       /* .. DURING PFIX SINCE ..      */ 00418027
*     3 SMAXGAP_BDY FIXED(31),       /* .. GETVIS GATE IS OPENED     */ 00419027
*     3 GVFVGATE_SAV FIXED(31),      /* SAVE DURING PFIX             */ 00420027
*     3 GMFMSPLE PTR(31),            /*                              */ 00421027
*     3 SPITMVSP POINTER(31),        /* POINTER TO CURRENT SPLE      */ 00422027
*     3 SAVSHIFT BIN(8),             /* SAVE AREA                    */ 00423027
*     3 *        CHAR(3),            /* RESERVED                     */ 00424027
*     3 USERREGS CHAR(16*4) BDY(WORD), /* REG. SAVE AREA OF SVEARA   */ 00425027
*       5 * CHAR(OFFSET(SVER02,SVER09)),                                00426027
*       5 GMFMFLGS BIN(8),                                              00427027
*       5 GMFMFLG2 BIN(8),                                              00428027
*       5 * CHAR(1),                                                    00429027
*       5 GMFMRQST BIN(8),                                              00430027
*     3 GMFMWRK1_EXT CHAR(4) BDY(WORD), /* EXTEND SAVE AREA          */ 00431027
*     3 GMFMWRK2 CHAR(SSM2WRKL) BDY(WORD); /* IJBSSM2 WORK AREA      */ 00432027
*                                                                       00433027
*                                                                       00434027
* /*******************************************************************/ 00435027
* /* CONSTANTS OF THE ANCHOR TABLE                                   */ 00436027
* /*******************************************************************/ 00437027
* DECLARE                                                               00438027
*     ANCHHDRL FIXED(31) CONSTANT(LENGTH( ANCHHDR)),  /* LENGTH OF   */ 00439027
*                                      /* ANCHDIR HEADER             */ 00440027
*     ATENTLEN FIXED(31) CONSTANT(ATLENGTH),   /* LENGTH OF A CDLOAD */ 00441027
*                                      /*  ENTRY                     */ 00442027
*     ATENTNUM FIXED(31) CONSTANT((1024-ANCHHDRL)/ATENTLEN);  /* NO  */ 00443027
*                                      /* ANCHOR TABLE               */ 00444027
* /*******************************************************************/ 00445027
* /* CONSTANTS OF THE GETVIS CONTROL INFORMATION                     */ 00446027
* /*******************************************************************/ 00447027
* DECLARE                                                               00448027
*     MOVECIL  FIXED(31) CONSTANT(52), /* LENGTH FOR MOVING THE DATA */ 00449027
*     MOVESPTL FIXED(31) CONSTANT(10), /* LENGTH FOR MOVING THE DATA */ 00450027
*     OFVRTMEM FIXED(31) CONSTANT(16), /* OFFSET OF BVIRTMEM         */ 00451027
*                                                                       00452027
*     GVMIN2   BIN(8) CONSTANT('01'X), /* INDICATE MIN_2 PROCESSING  */ 00453027
*     GVFVABVE BIN(8) CONSTANT('02'X), /* INDICATE PROCESSING ABOVE  */ 00454027
*     GVCIMOV  BIN(8) CONSTANT('04'X), /* CI MOVED TO BELOW PART     */ 00455027
*     GVFVINT  BIN(8) CONSTANT('08'X), /* INTERNAL FREEVIS PROCESSING*/ 00456027
*     GVUPDCP  BIN(8) CONSTANT('10'X), /* UPDATE CURRENT POINTER     */ 00457027
*     GVFIRSTT BIN(8) CONSTANT('20'X), /* SUBPOOL'S FIRST CONT. AREA */ 00458027
*                                      /* SCANNED,                   */ 00459027
*                                      /* SET ONLY WHEN GVUPDCP SET  */ 00460027
*     GVCHKPRO BIN(8) CONSTANT('40'X), /* PAGES ENQUEUED, KEY OR PROT*/ 00461027
*                                                                       00462027
*     PFIXPEND BIN(8) CONSTANT('80'X), /* GETMAIN WAITS FOR PFIX     */ 00463027
*     OBELOW   BIN(8) CONSTANT('40'X), /* REQUEST FORCED TO BELOW    */ 00464027
*     GMFM_SYSTEM BIN(8) CONSTANT('20'X), /* GETVIS FOR SPLE ACTIVE  */ 00465027
*     GM       BIN(8) CONSTANT('10'X), /* GETMAIN REQUEST            */ 00466027
*     LIST     BIN(8) CONSTANT('08'X), /* LIST REQUEST               */ 00467027
*     VAR      BIN(8) CONSTANT('04'X), /* VARIABLE REQUEST           */ 00468027
*     SPREL    BIN(8) CONSTANT('02'X), /* SUBPOOL RELEASE REQUEST    */ 00469027
*     COND     BIN(8) CONSTANT('01'X), /* CONDITIONAL REQUEST        */ 00470027
*     SQA      BIN(8) CONSTANT('80'X), /* SQA REQUEST                */ 00471027
*     LSQA     BIN(8) CONSTANT('40'X), /* LSQA REQUEST               */ 00472027
*     VARMIN   BIN(8) CONSTANT('20'X), /* PROCESS MINIMUM IN VAR REQ.*/ 00473027
*     FSPLE    BIN(8) CONSTANT('10'X), /* SPLE REQUEST               */ 00474027
*     SWITCHED BIN(8) CONSTANT('08'X); /*                            */ 00475027
* DECLARE                                                               00476027
*     GMFMWRK1 CHAR(LENGTH(SVEARA)) BASED (ADDR(USERREGS)-              00477027
*                                          OFFSET(SVER09,SVEARA));      00478027
*/***********************************************************@D64ADHH*/ 00479027
*/*                                                                  */ 00480027
*/* DEFINE SUBPOOL LIST ELEMENT TYPE      IN MAPGVCTL                */ 00481027
*/*                                                                  */ 00482027
*/***********************************************************@D64ADHH*/ 00483027
*                                                                       00484027
*DCL 1 SPLE TYPE  BDY(WORD),        /* SUBPOOL LIST ELEMENT          */ 00485027
*      3 PNEXTSPLE PTR(31),         /* ADDRESS OF NEXT SPLE IN LIST  */ 00486027
*      3 SPTYPE FIXED(8),           /* TYPE OF STORAGE               */ 00487027
*      3 SPLEFLAGS CHAR(3),         /*                               */ 00488027
*        5 GVCTL  BIT(1),           /* SPLE STORAGE TAKEN FROM       */ 00489027
*                                   /*  GETVIS CONTROL INFO AREA     */ 00490027
*        5 * BIT(23),               /* RESERVED                      */ 00491027
*      3 SUBPINTBUF                 /* BUFFER OF SUBPINT ENTRY       */ 00492027
*          CHAR(LENGTH(SUBPINT)) BDY(WORD),                             00493027
*      3 * CHAR(4 - (LENGTH(SUBPINT) // 4)); /* FILLER TO WORD BDY.  */ 00494027
*/********************************************************************/ 00495027
*/* SUBPINT FOR MVS SUBPOOLS                                         */ 00496027
*/********************************************************************/ 00497027
* DCL                                                                   00498027
*   1 SUBPINT BASED BDY(WORD),       /* SUBPOOL INDEX TABLE          */ 00499027
*                                    /*  ENTRY                       */ 00500027
*     3 SPITNAME CHAR(6),            /* SUBPOOL NAME FIELD           */ 00501027
*     3 SPITNMBR BIN(16) UNSIGNED,   /* SUBPOOL NUMBER               */ 00502027
*     3 SPITKEY  BIN(8) UNSIGNED,    /* KEY FOR PAGE PROTECTION      */ 00503027
*     3 SPITFLAG BIN(8) UNSIGNED,    /* FLAG BYTE                    */ 00504027
*     3 SPITPIK  BIN(16) UNSIGNED,   /* PIK OF OWNING PARTITION      */ 00505027
*     3 *        BIN(8) UNSIGNED,    /* RESERVED                     */ 00506027
*     3 SPITFLG1 BIT(8),             /* FLAG BYTE                    */ 00507027
*     3 SPITTASK BIN(16) UNSIGNED,   /* TASK THAT CREATED SUBPOOL    */ 00508027
*     3 SPITPUSC FIXED(31),          /* PAGE USAGE COUNT             */ 00509027
*     3 SPITFRST POINTER,            /* PTR TO FIRST CHAIN TABLE     */ 00510027
*                                    /*  ENTRY OF SUBPOOL            */ 00511027
*     3 SPITCURP POINTER,            /* PTR TO CURRENT CHAIN         */ 00512027
*                                    /*  TABLE ENTRY                 */ 00513027
*     3 SPITRLVB BIN(8) UNSIGNED,    /* REL. CURRENT PTR WITHIN      */ 00514027
*                                    /*  CURRENT PAGE                */ 00515027
*     3 SPITBITO BIN(8) UNSIGNED,    /* OR MASK FOR SPITRLVB         */ 00516027
*                                    /*  (IMPLICIT CURRENT BIT PTR)  */ 00517027
*     3 *        BIT(8),             /* RESERVED                     */ 00518027
*     3 *        BIT(8),             /* RESERVED                     */ 00519027
*                                                                       00520027
*    /****************************************************************/ 00521027
*    /*    THE FOLLOWING FIELDS ARE DUPLICATED FOR THE ABOVE PART    */ 00522027
*    /*    OF THE GETVIS AREA (UP TO MOVESPTL)                       */ 00523027
*    /****************************************************************/ 00524027
*     3 *        CHAR(MOVESPTL) BDY(WORD), /* BRINGS COMPILE MESSAGE */ 00525027
*                                    /*  IF LENGTH CHANGES           */ 00526027
*       5 ASPTFRST POINTER,          /* PTR TO FIRST CHAIN TABLE     */ 00527027
*                                    /*  ENTRY OF SUBPOOL            */ 00528027
*       5 ASPTCURP POINTER,          /* PTR TO CURRENT CHAIN         */ 00529027
*                                    /*  TABLE ENTRY                 */ 00530027
*       5 ASPTRLVB BIN(8) UNSIGNED,  /* REL. CURRENT PTR WITHIN      */ 00531027
*                                    /*  CURRENT PAGE                */ 00532027
*       5 ASPTBITO BIN(8) UNSIGNED,  /* OR MASK FOR SPITRLVB         */ 00533027
*     3 *        BIT(8),             /* RESERVED                     */ 00534027
*     3 *        BIT(8);             /* RESERVED                     */ 00535027
* /*******************************************************************/ 00536027
* /* SPITFLAG - SUBPOOL FLAG DEFINTIONS BYTE 1                       */ 00537027
* /*******************************************************************/ 00538027
* DECLARE                                                               00539027
*     SPFTCHPR BIT(8) CONSTANT('01'X),  /* SUBPOOL IS FETCH          */ 00540027
*                                       /*  PROTECTED                */ 00541027
*     SPPKEYPR BIT(8) CONSTANT('08'X),  /* SUPOOL IS PROTECTED       */ 00542027
*                                       /*  WITH PARTITION KEY       */ 00543027
*     SPCNTRLD BIT(8) CONSTANT('10'X),  /* SUBPOOL IS CONTROLLED     */ 00544027
*     SPCREATE BIT(8) CONSTANT('20'X),  /* SUBP. CREATED BY CURR.    */ 00545027
*                                       /*  REQ                      */ 00546027
*     SPPFXPND BIT(8) CONSTANT('40'X);  /* SUBPOOL WITH PENDING      */ 00547027
*                                       /*  PFIX                     */ 00548027
* /*******************************************************************/ 00549027
* /* SPITFLG1 - SUBPOOL FLAG DEFINTIONS BYTE 2                       */ 00550027
* /*******************************************************************/ 00551027
* DECLARE                                                               00552027
*     SPFPEMTY BIT(8) CONSTANT('80'X),  /* FIRST PAGE EMPTY          */ 00553027
*     SPLPEMTY BIT(8) CONSTANT('40'X),  /* LAST PAGE EMPTY           */ 00554027
*     SPCLPMR  BIT(8) CONSTANT('20'X),  /* CALL PAGE MANAGER         */ 00555027
*     SPBTHPRT BIT(8) CONSTANT('10'X),  /* BOTH PARTS FREED          */ 00556027
*     SPSWABVE BIT(8) CONSTANT('01'X);  /* SUBPOOL SWITCHED TO ABOVE */ 00557027
* /*******************************************************************/ 00558027
* /* SUBPINTL - LENGTH OF SUBPOOL INDEX TABLE                        */ 00559027
* /*******************************************************************/ 00560027
* DECLARE                                                               00561027
*     SUBPINTL FIXED(31) CONSTANT(LENGTH( SUBPINT));                    00562027
*/*----- END OF SUBPINT ---------------------------------------------*/ 00563027
