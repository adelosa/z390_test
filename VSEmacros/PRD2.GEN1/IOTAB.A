         MACRO                                                          00001000
         IOTAB &CHANQ=,  | OBSOLETE SINCE REL.4                @D14BDFGX00002000
               &DEBUG=,                                                X00003000
               &BGPGR=,&F1PGR=,&F2PGR=,&F3PGR=,&F4PGR=,                X00004000
               &F5PGR=,&F6PGR=,&F7PGR=,&F8PGR=,&F9PGR=,        @D36IDEMC00005000
               &FAPGR=,&FBPGR=,  | OBSOLETE SINCE REL.4        @D149DFGC00006000
               &NPGR=,                                         @D14BDFGC00007000
               &BUFSIZE=,&JIB=,&NRES=, | DELETE IN NEXT RELEASE@D37DDEMC00008000
               &IODEV=25                                                00009000
.************************************************************           00010000
*                                                           *           00011000
.*       IBM DISK OPERATING SYSTEM                          *           00012000
*        SUPERVISOR - IOTAB - 5686-CF7-06                   *           00013000
.*                                                          *           00014000
*        LICENSED MATERIALS - PROPERTY OF IBM               *           00015000
*        "RESTRICTED MATERIALS OF IBM"                      *           00016000
*        5686-CF7                                           *           00017000
*        (C) COPYRIGHT IBM CORP. 1977, 2004                 *           00018000
*                                                           *           00019000
.************************************************************           00020000
         GBLA  &AG1               NUMBER OF PUB TABLE ENTRIES  @D359DPS 00021000
         GBLA  &AG13              NUMBER OF SYSTEM LUB'S       @D14BDFG 00022000
         GBLA  &AG15              MACRO SEQUENCE CHECKING      @D359DPS 00023000
         GBLA  &AGCBF             CBF SUPPORT                  @D35CDPS 00024000
         GBLA  &AGPSIZB           PAGE SIZE IN BYTES           @D14BDFG 00025000
         GBLA  &AGMINSG           MIN. FREE SPACE FOR EOT IN K @D14BDFG 00026000
         GBLA  &AGMAXEX           MAX. SVA GETVIS SPACE FOR    @D14BDJB 00027000
.*                                 EXCESSIVE REQUESTORS IN 10% @D149DJB 00028000
         GBLA  &AGMISGE           MIN FREE SPACE IN SVA IN K   @D51IDMZ 00029000
.*                                 LEFT BY EXCESSIVE REQUESTORS@D51IDMZ 00030000
         GBLA  &AGSYSLB           NUMBER OF SYST.LUB'S/PART.   @D14BDFG 00031000
         GBLA  &AGMINLB           MINIMUM PROG.LUB'S/PART.     @D14BDFG 00032000
         GBLA  &AGDEFLB           DEFAULT PROG.LUB'S/PART.     @D14BDFG 00033000
         GBLA  &AGMAXLB           MAXIMUM PROG.LUB'S/PART.     @D14BDFG 00034000
         GBLA  &AGNPGR            SIZE OF PROGR.LUB POOL       @D14BDFG 00035000
         GBLA  &AGTIME            TIME SLICE FOR PARTITION BAL.@D36ZDEM 00036000
         GBLA  &AGSEC             SECURITY OPTION SUPPORTED    @D36EDEM 00037000
         GBLA  &AGPHLSL           LENGTH OF LOAD TABLE/PART.   @D14BDFG 00038000
         GBLA  &AGJCLAR           SIZE OF JCL WORK AREA IN K   @D51IDMZ 00039000
         GBLA  &NPART             NUMBER OF PART.SPECIFIED     @D359DPS 00040000
         GBLA  &NRESSAV                                        @D34RDFG 00041000
         GBLA  &DOCTYP            TYPE OF SCREEN SUPPORTED     @D36EDEM 00042000
         GBLA  &NCLASS            NO OF DYNAMIC CLASSES SUPP.  @D51IDMZ 00043000
         GBLB  &BGDEBUG                                                 00044000
         GBLB  &DISP              PRINT CONTROL SWITCH         @D14ZDFG 00045000
         GBLB  &BGDSHR            DASD SHARING SUPPORT         @D36SDFG 00046000
         GBLB  &BGFASTT           FAST CCW TRANSLATE           @D36EDEM 00047000
         GBLB  &BGFBA             FBA-SUPPORT                  @D35EDVB 00048000
         GBLB  &BGMIH             MISSING INTERRUPT HANDLER    @D37ZDEM 00049000
         GBLB  &BG1ST                   VTAM GLOBAL SWITCH              00050000
         GBLB  &BG16                                           @D359DPS 00051000
         GBLB  &BG23              FLOATING POINT FEATURE       @D359DPS 00052000
         GBLB  &BG31              RPS FEATURE                  @D359DPS 00053000
         GBLB  &BG32              DASD FILE PROTECT FEATURE    @D359DPS 00054000
         GBLB  &BG62              ERROR PER VOL. ANAL FOR TAPES@D36EDEM 00055000
         GBLB  &IOTAB             PRINT OPTION                 @D14ZDFG 00056000
         GBLB  &BGINV             STOP SUPERVISOR GENERATION   @D51GDMZ 00057000
         GBLC  &CGP(13)                                        @D61NDMZ 00058000
         GBLC  &P(13)             PARTITION IDENTIFIER         @D61NDMZ 00059000
         GBLC  &CGN(32)           NAMES OF SYSTEM TASKS        @D36IDFR 00060000
         GBLC  &CGS(32)           NAMES OF SYS.TASKS,PRTY ORDR.@D36IDFR 00061000
         GBLC  &CGSEGM            PART TO BE ASSEMBLED         @D36EDEM 00062000
         GBLC  &SID(14)           SPACE IDS                    @D52VDMZ 00063000
         LCLA  &ALDBUG            SIZE OF ONE DEBUG AREA       @D369DEM 00064000
         LCLA  &NSYST             MAX.NUMBER OF SYSTEM TASKS   @D36IDFR 00065000
         LCLA  &LCSYST            ACTUAL NUMB.OF SYST.TASKS-1  @D14BDFR 00066000
         LCLA  &X                 PARTITION INDEX                    RS 00067000
         LCLA  &Y                 LOOP VARIABLE                @D36ZDEM 00068000
         LCLA  &Z                 LOOP VARIABLE                @D14BDFR 00069000
         LCLA  &LL                LOWER LIMIT OF &P(&X)PGR=5 OR 10   RS 00070000
         LCLA  &UL                UPPER LIMIT OF &P(&X)PGR           RS 00071000
         LCLA  &ALX                                                  RS 00072000
         LCLA  &AL1                                            @D35IDAP 00073000
         LCLA  &AL2,&AL3                                       @D36EDEM 00074000
         LCLA  &NPGRMIN           MINIMUM NPGR SPECIFICATION   @D14BDFG 00075000
         LCLA  &NPGRMAX           MAXIMUM NPGR SPECIFICATION   @D14BDFG 00076000
         LCLA  &LUBPOOL           TOTAL SIZE OF LUB POOL       @D14BDFG 00077000
         LCLA  &NOSPACS           NUMBER OF SPACES FOR /370    @D218DKH 00078000
         LCLA  &WRKCNTR           COUNTER                      @D68CDOW 00079000
         LCLB  &BLJAFL(32)        ACCOUNT AS OVERHEAD          @D21ODAP 00080000
         LCLB  &BLSEC                                          @D350DFG 00081000
         LCLC  &C                                              @D36IDFR 00082000
         LCLC  &PCBLEN                                         @D14ZDJB 00083000
&NSYST   SETA  32                                              @D36IDFR 00084000
&NCLASS  SETA  23                 NO OF DYN. CLASSES SUPPORTED @D51IDMZ 00085000
&NOSPACS SETA  14                 14 SP. SUPP. INCL. REAL A. SHARED SP  00086000
&AGJCLAR SETA  8                  SIZE OF JCL WORK AREA        @D51IDMZ 00087000
         ACTR  11000                                                    00088000
         AIF   (&AG15 EQ 2).BJF                                @D36EDEM 00089000
         MNOTE 7,'MACRO SEQUENCE ERROR'                              EM 00090000
         MEXIT                                                          00091000
.BJF     ANOP                                                           00092000
         AIF   (NOT &BGINV).IGENC0                             @D51GDMZ 00093000
         MEXIT                                                 @D51GDMZ 00094000
.IGENC0  ANOP                                                  @D51IDMZ 00095000
         AIF   (NOT &BGDEBUG OR NOT &IOTAB).NOPRT00                     00096000
         PRINT GEN                 PRINT MODULE                         00097000
.NOPRT00 ANOP                                                           00098000
.**************************************************************@D35EDEM 00099000
.*       STANDARD FOR /370 MODE                                @D35EDEM 00100000
.*                                                             @D35EDEM 00101000
.* SUPPORT FOR : RELOCATING LOADER, PROGRAM CHECK EXIT,        @D35EDEM 00102000
.*               GETVIS, INDEPENDANT READ-IN AREA (IDRA),      @D351DEM 00103000
.*               ABNORMAL TERM.EXIT,EXCP REAL,INTERVALL TIMER  @D351DEM 00104000
.*               EXIT,OPERATOR COM.EXIT,OLTEP,PCIL,PFIX,TOD,   @D351DEM 00105000
.*               VSAM AND WAIT MULTIPLE (WAITM)                @D351DEM 00106000
.* ALWAYS INCLUDED (RELEASE 35.0)                              @D351DEM 00107000
.* SUPPORT FOR : ASCII,RMS,PAGEIN,SYSFIL,XECB,CHANSW,DISK=(2314,3330,   00108000
.*               3340,3350),DPDEXT (DISK=FBA NOT FOR 370 WITHOUT VM)    00109000
.*               FP,ICCF                                                00110000
.* ALWAYS INCLUDED (RELEASE AF 1.2)                            @D369DEM 00111000
.* SQL GUEST SHARING SUPPORT AF 3.1.0                          @D31BDMZ 00112000
.* UNATTENDED NODE SUPPORT   AF 4.1.1                          @D31LDMZ 00113000
.* IAF HOOKS                 AF 4.1.1                          @D31ZDMZ 00114000
.* SET NEW DEFAULT BUFSIZE VALUES      AF4.1.1                 @D31LDRP 00115000
.* SCLP SUPPORT                                                @D31EMMZ 00116000
.* 5.1 EXTENSIONS FOR CICS                                     @D51HDOW 00117000
.* MORE PARTITIONS SUPPORT AF 5.1.0                            @D51IDMZ 00118000
.* PROVIDE RESERVED CHANQ ENTRIES FOR SYSTEM TASKS             @DA41015 00119000
.* INTRODUCE SGSSID SUBSYSTEM IDENTIFICATION AS NEW MACRO      @D52VDGL 00120000
.* LOCK ECKD SUPPORT                                           @DA42402 00121000
.* ESTABLISH AOM AND VTA TASK                                  @D66ADAP 00122000
.* MORE THAN 255 TASKS                                         @D66ODOW 00123000
.* NUMBER OF DEFAULT PROG LUB'S INCREASED TO 40                @D67CDOW 00124000
.* NAME/TOKEN SERVICE                                          @D67CDOW 00125000
.**************************************************************@D35EDEM 00126000
.*                                                                      00127000
.*       STANDARD IN BOTH MODES                                @D35EDEM 00128000
&BG1ST   SETB  1                  VTAM SUPPORT                 @D37DDEM 00129000
&BGMIH   SETB  1                  MISSING INTERRUPT HANDLER    @D37DDEM 00130000
&BG23    SETB  1                  FLOATING POINT STANDARD      @D35EDEM 00131000
&BG62    SETB  1                  ERROR PER VOLUME ANALYSIS SUP@D36EDEM 00132000
&BGFBA   SETB  1                  ALL  DASDS SUPPORTED         @D14ADFG 00133000
.*********  PROVIDE MNOTE FOR DELETED KEYWORDS                 @D36EDEM 00134000
         AIF   (T'&BUFSIZE NE 'O' OR T'&NRES NE 'O').MN        @D37DDEM 00135000
         AIF   (T'&JIB EQ 'O').M3                              @D37DDEM 00136000
.MN      MNOTE 3,'SPECIFICATION OF THE OPERANDS LISTED BELOW IS OBSOLETX00137000
               E AND WILL BE IGNORED: BUFSIZE,JIB,NRES'        @D37DDEM 00138000
.M3      ANOP                                                  @D36DDEM 00139000
.************* DETERMINE MINIMUM SYSTEM GETVIS AND VSIZE REQUIREMENT    00140000
         AIF   (&AGSEC EQ 0).NOSEC                             @D350DFG 00141000
&BLSEC   SETB  1                  GEN.SVA LOAD FOR SECURITY    @D350DFG 00142000
.NOSEC   ANOP                                                  @D350DFG 00143000
.************* CHECK IODEV SPECIFICATION                       @D359DEM 00144000
         AIF   (T'&IODEV EQ 'N').IODEV0                        @D36ZDEM 00145000
&AG1     SETA  25                                                       00146000
         MNOTE 3,'IODEV SPECIFICATION INCORRECT. IODEV=&AG1 ASSUMED'    00147000
         AGO   .LUBGEN                                                  00148000
.IODEV0  ANOP                                                  @D36ZDEM 00149000
&AG1     SETA  &IODEV                                                   00150000
         AIF   (&AG1 LE 1024).IODEV1                           @D51ODGL 00151000
&AG1     SETA  1024                                            @D51ODGL 00152000
         MNOTE 3,'IODEV SPECIFICATION ABOVE MAXIMUM. IODEV=&AG1 ASSUMEDX00153000
               '                                               @D359DEM 00154000
         AGO   .LUBGEN                                                  00155000
.IODEV1  ANOP                                                           00156000
         AIF   (&AG1 GE 4).LUBGEN                              @D36ZDEM 00157000
&AG1     SETA  25                                              @D36ZDEM 00158000
         MNOTE 3,'IODEV SPECIFICATION BELOW MINIMUM. IODEV=&AG1 ASSUMEDX00159000
               '                                               @D359DEM 00160000
.LUBGEN  ANOP                                                           00161000
.*--------------------------------------------------------------------* 00162000
.*       PARAMETER CHECKING FOR BGPGR,F1PGR,F2PGR,...                 * 00163000
.*--------------------------------------------------------------------* 00164000
&X       SETA  1                  SET PARTITION INDEX TO 1ST PART.   RS 00165000
.PGLOOP  ANOP                                                        RS 00166000
         AIF   (&X EQ 2).PGP2                                        RS 00167000
         AIF   (&X EQ 3).PGP3                                        RS 00168000
         AIF   (&X EQ 4).PGP4                                        RS 00169000
         AIF   (&X EQ 5).PGP5                                        RS 00170000
         AIF   (&X EQ 6).PGP6                                  @D34RDFG 00171000
         AIF   (&X EQ 7).PGP7                                  @D34RDFG 00172000
         AIF   (&X EQ 8).PGP8                                  @D36IDEM 00173000
         AIF   (&X EQ 9).PGP9                                  @D36IDEM 00174000
         AIF   (&X EQ 10).PGPA                                 @D36IDEM 00175000
         AIF   (&X EQ 11).PGPB                                 @D36IDEM 00176000
         AIF   (&X EQ 12).PGPC                                 @D36IDEM 00177000
.*                                                                   RS 00178000
.*  CHECK BGPGR                                                      RS 00179000
.*                                                                   RS 00180000
         AIF   (T'&BGPGR NE 'O').PGNOTN                        @D14BDFG 00181000
         AGO   .PGLOOPA                                        @D14BDFG 00182000
.*                                                                   RS 00183000
.*  CHECK F1PGR                                                      RS 00184000
.*                                                                   RS 00185000
.PGP2    ANOP                                                        RS 00186000
         AIF   (T'&F1PGR NE 'O').PGNOTN                        @D14BDFG 00187000
         AGO   .PGLOOPA                                        @D14BDFG 00188000
.*                                                                   RS 00189000
.*  CHECK F2PGR                                                      RS 00190000
.*                                                                   RS 00191000
.PGP3    ANOP                                                  @D359DPS 00192000
         AIF   (T'&F2PGR NE 'O').PGNOTN                        @D14BDFG 00193000
         AGO   .PGLOOPA                                        @D14BDFG 00194000
.*                                                                   RS 00195000
.*  CHECK F3PGR                                                      RS 00196000
.*                                                                   RS 00197000
.PGP4    ANOP                                                  @D359DPS 00198000
         AIF   (T'&F3PGR NE 'O').PGNOTN                        @D14BDFG 00199000
         AGO   .PGLOOPA                                        @D14BDFG 00200000
.*                                                                   RS 00201000
.*  CHECK F4PGR                                                      RS 00202000
.*                                                                   RS 00203000
.PGP5    ANOP                                                  @D359DPS 00204000
         AIF   (T'&F4PGR NE 'O').PGNOTN                        @D14BDFG 00205000
         AGO   .PGLOOPA                                        @D14BDFG 00206000
.*                                                             @D34RDFG 00207000
.*  CHECK F5PGR                                                @D34RDFG 00208000
.*                                                             @D34RDFG 00209000
.PGP6    ANOP                                                  @D359DPS 00210000
         AIF   (T'&F5PGR NE 'O').PGNOTN                        @D14BDFG 00211000
         AGO   .PGLOOPA                                        @D14BDFG 00212000
.*                                                             @D34RDFG 00213000
.*  CHECK F6PGR                                                @D34RDFG 00214000
.*                                                             @D34RDFG 00215000
.PGP7    ANOP                                                  @D359DPS 00216000
         AIF   (T'&F6PGR NE 'O').PGNOTN                        @D14BDFG 00217000
         AGO   .PGLOOPA                                        @D14BDFG 00218000
.*                                                             @D369DEM 00219000
.*  CHECK F7PGR                                                @D369DEM 00220000
.*                                                             @D369DEM 00221000
.PGP8    ANOP                                                  @D36IDEM 00222000
         AIF   (T'&F7PGR NE 'O').PGNOTN                        @D14BDFG 00223000
         AGO   .PGLOOPA                                        @D14BDFG 00224000
.*                                                             @D369DEM 00225000
.*  CHECK F8PGR                                                @D369DEM 00226000
.*                                                             @D369DEM 00227000
.PGP9    ANOP                                                  @D36IDEM 00228000
         AIF   (T'&F8PGR NE 'O').PGNOTN                        @D14BDFG 00229000
         AGO   .PGLOOPA                                        @D14BDFG 00230000
.*                                                             @D369DEM 00231000
.PGPA    ANOP                                                  @D36IDEM 00232000
         AIF   (T'&F9PGR NE 'O').PGNOTN                        @D14BDFG 00233000
         AGO   .PGLOOPA                                        @D14BDFG 00234000
.*                                                             @D369DEM 00235000
.PGPB    ANOP                                                  @D36IDEM 00236000
         AIF   (T'&FAPGR NE 'O').PGNOTN                        @D14BDFG 00237000
         AGO   .PGLOOPA                                        @D14BDFG 00238000
.*                                                             @D369DEM 00239000
.*  CHECK FBPGR                                                @D369DEM 00240000
.*                                                             @D369DEM 00241000
.PGPC    ANOP                                                  @D36IDEM 00242000
         AIF   (T'&FBPGR NE 'O').PGNOTN                        @D14BDFG 00243000
         AGO   .PGFINI                                         @D35IDAP 00244000
.*                                                                   RS 00245000
.PGNOTN  MNOTE 1,'&CGP(&X)PGR PARAMETER OBSOLETE, SPEC.IGNORED'         00246000
.*                                                             @D369DEM 00247000
.PGLOOPA ANOP                                                  @D35IDPS 00248000
         AIF   (&X EQ 12).PGFINI                               @D36IDEM 00249000
&X       SETA  &X+1                                                  RS 00250000
         AGO   .PGLOOP                                               RS 00251000
.*                                                                   RS 00252000
.*                                                                   RS 00253000
.PGFINI  ANOP                                                        RS 00254000
.*-------------------------------------------------------------@D149DFG 00255000
.*       CHECKING OF NPGR SPECIFICATION                        @D149DFG 00256000
.*-------------------------------------------------------------@D149DFG 00257000
.* SYSTEM LUB'S: 14 + 16 (LIBR.) + 1 (SLA) = 31                @D149DFG 00258000
.* TWO MORE IN BG FOR LOG TASK                                 @D149DFG 00259000
&AGSYSLB SETA  50                 SYSTEM LUB'S/PART.           @D52VDMZ 00260000
&AG13    SETA  &AGSYSLB                                        @D14BDFG 00261000
&AGMINLB SETA  10                 MINIMUM PROGR.LUB'S/PART.    @D14BDFG 00262000
&AGDEFLB SETA  40                 DEFAULT PROGR.LUB'S/PART.    @D67CDOW 00263000
&AGMAXLB SETA  255                MAXIMUM PROGR.LUB'S/PART.    @D14BDFG 00264000
&NPGRMIN SETA  &AGDEFLB*&NPART    MINIMUM NPGR SPECIFICATION   @D14BDFG 00265000
&NPGRMAX SETA  &AGMAXLB*&NPART    MAXIMUM NPGR SPECIFICATION   @D14BDFG 00266000
&AGNPGR  SETA  &NPGRMIN           ASSUME MINIMUM               @D14BDFG 00267000
         AIF   (T'&NPGR EQ 'O').NPGRFIN                        @D14BDFG 00268000
         AIF   (T'&NPGR NE 'N').NPGR10                         @D14BDFG 00269000
         AIF   (&NPGR LT &NPGRMIN).NPGR20                      @D14BDFG 00270000
&AGNPGR  SETA  &NPGRMAX                                        @D14BDFG 00271000
         AIF   (&NPGR GT &NPGRMAX).NPGR30                      @D14BDFG 00272000
&AGNPGR  SETA  &NPGR                                           @D14BDFG 00273000
         AGO   .NPGRFIN                                        @D14BDFG 00274000
.NPGR10  ANOP                                                  @D14BDFG 00275000
         MNOTE 3,'NPGR SPECIFICATION INVALID, NPGR=&NPGRMIN ASSUMED'    00276000
         AGO   .NPGRFIN                                        @D14BDFG 00277000
.NPGR20  ANOP                                                  @D14BDFG 00278000
         MNOTE 1,'SPECIFIED NPGR BELOW MINIMUM, NPGR=&AGNPGR ASSUMED'   00279000
         AGO   .NPGRFIN                                        @D14BDFG 00280000
.NPGR30  ANOP                                                  @D14BDFG 00281000
         MNOTE 1,'SPECIFIED NPGR ABOVE MAXIMUM, NPGR=&AGNPGR ASSUMED'   00282000
.NPGRFIN ANOP                                                           00283000
.*--------------------------------------------------------------------* 00284000
.*       DIAGNOSTIC PART FOR CHANNEL QUEUE                     @DM03525 00285000
.*--------------------------------------------------------------------* 00286000
         AIF   (T'&CHANQ EQ 'O').CHNQFIN                       @D14BDFG 00287000
         MNOTE 1,'CHANQ PARAMETER OBSOLETE, SPECIFICATION IGNORED'     *00288000
                                                               @D14BDFG 00289000
.CHNQFIN ANOP                                                  @D14BDFG 00290000
.*-----------------------------------------------------------  @D31DCAZ 00291000
.*       DIAGNOSTIC PART FOR NRES PARAMETER                    @D31DCAZ 00292000
.*-----------------------------------------------------------  @D31DCAZ 00293000
&NRESSAV SETA  4*&NPART+21                  MIN.VALUE FOR NRES @D37DDEM 00294000
         AGO   .NRESEND                                        @D14BDJB 00295000
         AIF   (T'&NRES NE 'N').NRES20                         @D35EDPS 00296000
         AIF   (&NRES GE &NRESSAV AND &NRES LE 512).NRES30     @D36SDEM 00297000
.NRES20  ANOP                                                  @D35EDPS 00298000
&NRESSAV SETA  4*&NPART+21                  DEFAULT FOR NRES   @D37DDEM 00299000
         AIF   (T'&NRES EQ 'O').NRESEND                        @D35EDPS 00300000
         MNOTE 3,'NRES SPECIFICATION INVALID - NRES=&NRESSAV ASSUMED'   00301000
         AGO   .NRESEND                                        @D35EDPS 00302000
.NRES30  ANOP                                                  @D35EDPS 00303000
&NRESSAV SETA  &NRES                                           @D35EDPS 00304000
.NRESEND ANOP                                                  @D35EDPS 00305000
.*-----------  CHECK SPECIFICATION OF DEBUG AREA               @D369DEM 00306000
         AIF   (NOT &BGDEBUG).DBGEN1                           @D61NDMZ 00307000
         AIF   (K'&DEBUG LE 1 OR K'&DEBUG GT 3).MNOTE1         @D369DEM 00308000
         AIF   ('&DEBUG'(K'&DEBUG,1) NE 'K').MNOTE1            @D369DEM 00309000
&AL1     SETA  K'&DEBUG-1                                      @D35EDKS 00310000
&C       SETC  '&DEBUG'(1,&AL1)                                @D35EDKS 00311000
&ALDBUG  SETA  &C                                              @D35EDKS 00312000
         AIF   (&ALDBUG GE 4 AND &ALDBUG LE 64).DBGEN          @D369DEM 00313000
.MNOTE1  ANOP                                                           00314000
&ALDBUG  SETA  4                                               @D35EDKS 00315000
         MNOTE 3,'DEBUG SPECIFICATION INVALID, DEBUG=&ALDBUG.K ASSUMED' 00316000
.DBGEN   ANOP                                                  @D35EDKS 00317000
         AGO   .DBGEN2                                         @D61NDMZ 00318000
.DBGEN1  ANOP                                                  @D61NDMZ 00319000
&ALDBUG  SETA  4       SIZE OF DEBUG AREA IN NO DEBUG SUPERV.  @D61NDMZ 00320000
.DBGEN2  ANOP                                                  @D61NDMZ 00321000
.*------------ SET NAMES, PRIORITIES AND JA-INFO FOR SYSTEM TASKS       00322000
&CGN(1)  SETC  'SNS'                                           @D36IDFR 00323000
&BLJAFL(1) SETB 1                                              @D36IDFR 00324000
&CGN(2)  SETC  'DSK'                                           @D36IDFR 00325000
&BLJAFL(2) SETB 1                                              @D36IDFR 00326000
&CGN(3)  SETC  'RAS'                                           @D36IDFR 00327000
&BLJAFL(3) SETB 1                                              @D36IDFR 00328000
&CGN(4)  SETC  'PMR'                                           @D36IDFR 00329000
&BLJAFL(4) SETB 1                                              @D36IDFR 00330000
&CGN(6)  SETC  'PGN'                                           @D36IDFR 00331000
&CGN(7)  SETC  'SUP'                                           @D36IDFR 00332000
&CGN(8)  SETC  'DIR'                                           @D36IDFR 00333000
&CGN(9)  SETC  'VTA'           VIRTUAL TAPE   TASK             @D66ADAP 00334000
&CGN(10) SETC  'AOM'           ASYNCHRONEOUS OPERATION MNGR.   @D66ADAP 00335000
&CGN(11) SETC  'ERP'                                           @D36IDFR 00336000
&BLJAFL(11) SETB 1                                             @D36IDFR 00337000
         AIF  (NOT &BGDSHR).NO006                              @D36SDFR 00338000
&CGN(12) SETC  'LCK'                                           @D36SDFR 00339000
.NO006   ANOP                                                  @D36SDFR 00340000
&CGN(13) SETC  'REC'         RECORDING TASK                    @D21ODAP 00341000
&BLJAFL(13) SETB 1                                             @D36IDFR 00342000
&CGN(14) SETC  'LOG'         SECURITY LOGGING TASK             @D14BDFG 00343000
&CGN(15) SETC  'SVT'                                           @D36IDFR 00344000
&CGN(16) SETC  'DSP'         INTERMEDIATE RECORD HANDLER TASK  @D31ZDMZ 00345000
&CGN(17) SETC  'SPT'         SERVICE PROCESSOR TASK            @D31EMMZ 00346000
&CGN(18) SETC  'CST'         CONSOLE SERVICE TASK              @D51IDMZ 00347000
&CGN(19) SETC  'HCF'         HCF TASK                          @D61NDMZ 00348000
&CGN(20) SETC  'FCP'         FIBER CHANNEL SYSTEM TASK         @D68DDOW 00349000
&BLJAFL(20) SETB 1                                             @D68DDOW 00350000
&CGN(32) SETC  'AR'                                            @D36IDFR 00351000
&X       SETA  1                                               @D36IDFR 00352000
&CGS(&X) SETC  'SNS'                                           @D36IDFR 00353000
&X       SETA  &X+1                                            @D36IDFR 00354000
&CGS(&X) SETC  'DSK'                                           @D36IDFR 00355000
&X       SETA  &X+1                                            @D36IDFR 00356000
&CGS(&X) SETC  'RAS'                                           @D36IDFR 00357000
&X       SETA  &X+1                                            @D36IDFR 00358000
&CGS(&X) SETC  'PMR'                                           @D36IDFR 00359000
&X       SETA  &X+1                                            @D36IDFR 00360000
&CGS(&X) SETC  'PGN'                                           @D36IDFR 00361000
&X       SETA  &X+1                                            @D36IDFR 00362000
&CGS(&X) SETC  'DIR'                                           @D36IDFR 00363000
&X       SETA  &X+1                                            @D36IDFR 00364000
&CGS(&X) SETC  'SUP'                                           @D36IDFR 00365000
&X       SETA  &X+1                                            @D61NDMZ 00366000
&CGS(&X) SETC  'CST'                                           @D61NDMZ 00367000
&X       SETA  &X+1                                            @D36IDFR 00368000
&CGS(&X) SETC  'ERP'                                           @D36IDFR 00369000
&X       SETA  &X+1                                            @D36IDFR 00370000
&CGS(&X) SETC  'FCP'                                           @D68DDOW 00371000
&X       SETA  &X+1                                            @D68DDOW 00372000
&CGS(&X) SETC  'VTA'                                           @D21ODAP 00373000
&X       SETA  &X+1                                            @D66ADAP 00374000
&CGS(&X) SETC  'AOM'                                           @D66ADAP 00375000
&X       SETA  &X+1                                            @D66ADAP 00376000
&CGS(&X) SETC  'REC'                                           @D66ADAP 00377000
&X       SETA  &X+1                                            @D21ODAP 00378000
         AIF  (NOT &BGDSHR).NOP06    MOVED                     @D31ZDMZ 00379000
&CGS(&X) SETC  'LCK'                                           @D31ZDMZ 00380000
&X       SETA  &X+1                                            @D31ZDMZ 00381000
.NOP06   ANOP                                                  @D31ZDMZ 00382000
&CGS(&X) SETC  'SVT'    MOVED, WAS BEHIND LOG TASK             @D31ZDMZ 00383000
&X       SETA  &X+1                                            @D31ZDMZ 00384000
&CGS(&X) SETC  'LOG'                                           @D14BDFG 00385000
&X       SETA  &X+1                                            @D14BDFG 00386000
&CGS(&X) SETC  'DSP'                                           @D61NDMZ 00387000
&X       SETA  &X+1                                            @D31EMMZ 00388000
&CGS(&X) SETC  'SPT'                                           @D31EMMZ 00389000
&X       SETA  &X+1                                            @D61NDMZ 00390000
&CGS(&X) SETC  'HCF'                                           @D61NDMZ 00391000
&X       SETA  &X+1                                            @D36IDFR 00392000
&LCSYST  SETA  &X-1                                            @D14BDFR 00393000
&CGS(&X) SETC  'AR'                                            @D36IDFR 00394000
.*                                                             @D149DFG 00395000
&AGPSIZB SETA  4096               PAGE SIZE IN BYTES           @D51GDUL 00396000
&AGMINSG SETA  20                 MIN. FREE SPACE IN K DUMP    @D52VDMZ 00397000
&AGMAXEX SETA  8                  MAX. SVA GETVIS SPACE FOR    @DA33314 00398000
.*                                 EXCESSIVE REQUESTORS IN 10% @D149DJB 00399000
&AGMISGE SETA  48                 MIN. FREE SPACE IN K IN SVA  @D51IDMZ 00400000
&AGPHLSL SETA  376                LENGTH OF LOAD TABLE/PART.   @D14BDFR 00401000
.*-----------------------------------------------------------  @D52VDMZ 00402000
.*       GENERATE VALID SPACE IDS                              @D52VDMZ 00403000
.*-----------------------------------------------------------  @D52VDMZ 00404000
&SID(1)  SETC  'R'                                             @D52VDMZ 00405000
&SID(2)  SETC  '0'                                             @D52VDMZ 00406000
&SID(3)  SETC  '1'                                             @D52VDMZ 00407000
&SID(4)  SETC  '2'                                             @D52VDMZ 00408000
&SID(5)  SETC  '3'                                             @D52VDMZ 00409000
&SID(6)  SETC  '4'                                             @D52VDMZ 00410000
&SID(7)  SETC  '5'                                             @D52VDMZ 00411000
&SID(8)  SETC  '6'                                             @D52VDMZ 00412000
&SID(9)  SETC  '7'                                             @D52VDMZ 00413000
&SID(10) SETC  '8'                                             @D52VDMZ 00414000
&SID(11) SETC  '9'                                             @D52VDMZ 00415000
&SID(12) SETC  'A'                                             @D52VDMZ 00416000
&SID(13) SETC  'B'                                             @D52VDMZ 00417000
&SID(14) SETC  'S'                                             @D52VDMZ 00418000
.*-----------------------------------------------------------  @D359DEM 00419000
.*       GENERATE SUPERVISOR                                   @D359DEM 00420000
.*-----------------------------------------------------------  @D359DEM 00421000
         SPACE 2                                               @D36ZDAZ 00422000
         ENTRY PIBAREA                                         @D36ZDAZ 00423000
         ENTRY SYSPCB,BGPIB2,BGPCB,BGTIB,BGTCB,ERPTCB          @D36ZDAZ 00424000
         TITLE 'VSE/AF SUPERVISOR  SGEND        DUMMY CONTROL SECTIONS' 00425000
         SGEND  ,                 AREAS, DSECTS AND EQUATES    @D36ZDEM 00426000
         TITLE 'VSE/AF SUPERVISOR  SGLOWC                     LOW CORE' 00427000
         SGLOWC                                                @D35EDPS 00428000
         AIF   (NOT &BGDEBUG OR NOT &IOTAB).NOPRT10                     00429000
         PRINT GEN                 PRINT MODULE                         00430000
.NOPRT10 ANOP                                                           00431000
         TITLE 'VSE/AF SUPERVISOR IOTAB         Y TABLES AND CONSTANTS' 00432000
*********************************************************************** 00433000
*        UP TILL THIS POINT ALL CODING SHOULD BE DIRECTLY ADDRESSABLE * 00434000
*        BEYOND THIS POINT NO LABEL MAY BE REFERENCED DIRECTLY.       * 00435000
*        TO REFER TO THIS AREA,USE LOW CORE ADDRESS POINTERS.         * 00436000
*********************************************************************** 00437000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00438000
*                                                                     * 00439000
*        PROGRAM INFORMATION BLOCK EXTENSION.                         * 00440000
*                                                                     * 00441000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00442000
         SPACE 1                                                        00443000
         ORG   SYSS00+(*+15-SYSS00)/16*16                      @D68CDOW 00444000
PIBAREA  DC    0F'0'              FORCE FULLWORD ALIGNMENT     @D36IDFR 00445000
PIB2TAB  DS    0CL16              PIB EXTENSION                @DA09594 00446000
         SPACE                                                          00447000
ARPIB2   DS    0C                 PART.INFORMATION BLOCK       @D36IDFR 00448000
         DC    AL2(ARCOMREG-SYSS00)  ADDRESS OF AR COMM.REGION @D61NDMZ 00449000
         DC    H'0'               AR SYSTEM LUB INDEX                   00450000
         DC    Y(ARTID)           AR TID                       @D36IDFR 00451000
         DC    H'0'               RESERVED                     @D36IDFR 00452000
         DC    A(SYSPCB)          ADDRESS OF SYSTEM PCB        @D36IDFR 00453000
         DC    X'0000'            AR PIK                                00454000
         DC    X'0000'            RESERVED                     @D36IDFR 00455000
         SPACE                                                          00456000
.*--------------------------------------------------------------------* 00457000
.*       GENERATION OF PARTITION PIB CONTINUATIONS                    * 00458000
.*--------------------------------------------------------------------* 00459000
&X       SETA  0                                                     RS 00460000
.CPPLOOP ANOP                                                        RS 00461000
&X       SETA  &X+1                                                  RS 00462000
         SPACE 1                                                     RS 00463000
*   CONTINUATION OF PARTITION PIB                                    RS 00464000
         SPACE 1                                                     RS 00465000
&C       SETC  '&P(&X)'                                        @D36IDFR 00466000
&C.PIB2  DS    0C                 PART.INFORMATION BLOCK       @D36IDFR 00467000
         DC    AL2(&P(&X)COMREG-SYSS00)  COMMUNICATIONS REGION ADDRESS  00468000
         DC    H'0'               SYSTEM LUB INDEX             @D35IDAP 00469000
         DC    Y(&P(&X)TID)       MAINTASKS TID                @D36IDFR 00470000
         DC    H'0'               RESERVED                     @D35IDAP 00471000
         DC    A(&P(&X)PCB)       ADDRESS OF PCB               @D36IDFR 00472000
         DC    AL2(&X*16)         PARTITION PIK                @D36IDEM 00473000
         DC    X'80FF'            ECB FOR ATTACH PART.LIMIT    @D36IDEM 00474000
         AIF   (&X LT &NPART).CPPLOOP                                RS 00475000
.*--------------------------------------------------------------------* 00476000
         SPACE 2                                                        00477000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00478000
*                                                                     * 00479000
*        PROGRAM INFORMATION BLOCK.                                   * 00480000
*                                                                     * 00481000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00482000
         SPACE 1                                                        00483000
PIBTAB   DC    0F'0'              PIB TABLE                    @D359DPS 00484000
         SPACE                                                          00485000
*   SYSTEM PARTITION PIB                                       @D369DEM 00486000
         SPACE 1                                               @D369DEM 00487000
ARPIB1   DC    X'80'              ATTENTION STATE INDICATOR    @D36IDFG 00488000
         DC    X'00'              RESERVED                     @D36IDFR 00489000
         DC    C'AR'              SYSLOG IDENTIFIER                     00490000
         DC    X'80'              PIBDATFL: TRAM ON            @D36IDFR 00491000
         DC    3X'00'             RESERVED                     @D36IDFR 00492000
         DC    A(LTASAVE)         ADDR.OF LTA OWNERS SAVEAREA  @D36IDFG 00493000
         DC    X'00'              PIB ASSIGN FLAG MASK               UL 00494000
         DC    AL1(&AGSYSLB)      NUMBER OF SYSTEM LUB ENTRIES @D14BDFG 00495000
         DC    AL1(&AGDEFLB)      NUMBER OF PROGR.LUB'S        @D14BDFG 00496000
         DC    X'00'              MORE FLAGS                   @D35IDFR 00497000
         SPACE                                                          00498000
*   BG PARTITION PIB                                           @D369DEM 00499000
         SPACE 1                                               @D369DEM 00500000
BGPIB1   DC    X'00'              PARTITION STATE INDICATOR    @D36IDFG 00501000
         DC    X'00'              RESERVED                              00502000
         DC    C'BG'              SYSLOG IDENTIFIER                     00503000
         DC    A(PPBEGIN)         BG PART.BEGIN ADDRESS        @D36IDFR 00504000
         DC    F'0'               RESERVED                     @D36IDFR 00505000
         DC    X'00'              PIB ASSIGN FLAG MASK               UL 00506000
         DC    AL1(&AGSYSLB)      NUMBER OF SYSTEM LUB ENTRIES @D14BDFG 00507000
         DC    AL1(&AGDEFLB)      NUMBER OF USER PROG.LUB'S    @D14BDFG 00508000
         DC    X'00'              MORE FLAGS                   @D35IDFR 00509000
.*--------------------------------------------------------------------* 00510000
.*       GENERATION OF FOREGROUND PARTITION PIBS                      * 00511000
.*--------------------------------------------------------------------* 00512000
&X       SETA  1                                                     RS 00513000
.PPLOOP  ANOP                                                        RS 00514000
&X       SETA  &X+1                                                  RS 00515000
.* &ALX     SETA  X'7000'+X'800'*(&X-2)                              RS 00516000
         SPACE 1                                                     RS 00517000
*   FG PARTITION PIB                                                 RS 00518000
         SPACE 1                                                     RS 00519000
&C       SETC  '&P(&X)'                                        @D51IDMZ 00520000
&C.PIB1  DC    X'80'              PARTITION STATE INDICATOR    @D36IDFR 00521000
         DC    X'00'              RESERVED                     @D36IDFR 00522000
         DC    C'&P(&X)'              SYSLOG ID                      RS 00523000
         DC    X'80'              FG PIBDATFLG: TRAM ON        @D36IDEM 00524000
         DC    AL3(0)             FG PART. BEGIN ADDRESS       @D36IDEM 00525000
         DC    F'0'               RESERVED                     @D36IDFR 00526000
         DC    X'00'              PIB ASSIGN FLAG MASK               RS 00527000
         DC    AL1(&AGSYSLB)      NUMBER OF SYSTEM LUB ENTRIES @D14BDFG 00528000
         DC    AL1(&AGDEFLB)      NUMBER OF PGR LUBS           @D14BDFG 00529000
         DC    X'00'              MORE FLAGS                         RS 00530000
         AIF   (&X LT &NPART).PPLOOP                                 RS 00531000
.*--------------------------------------------------------------------* 00532000
         SPACE 2                                                        00533000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00534000
*                                                                     * 00535000
*        FIRST IN CLASS LIST TABLE.                                   * 00536000
*                                                                     * 00537000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00538000
.*--------------------------------------------------------------------* 00539000
.*       GENERATION 0F FICL,NICL,AND LUBS                             * 00540000
.*--------------------------------------------------------------------* 00541000
         SPACE 1                                                        00542000
         DC    0H'0'              FORCE HALFWORD ALIGNMENT     @D359DPS 00543000
FICL     DC    AL1(0)             FIRST BG SYSTEM LUB INDEX          RS 00544000
         DC    AL1(&AGSYSLB)      # OF SYSTEM LUB'S FOR BG     @D14BDFG 00545000
         DC    (&NPART-1)AL1(0)   # OF SYSTEM LUB'S FOR FN     @D14BDFG 00546000
         SPACE 2                                               @D359DPS 00547000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00548000
*                                                                     * 00549000
*        NEXT IN CLASS LIST TABLE.                                    * 00550000
*                                                                     * 00551000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00552000
         SPACE 1                                                        00553000
NICL     DC    AL1(&AGSYSLB)      # OF SYSTEM LUB'S FOR BG     @D14BDFG 00554000
         DC    AL1(&AGDEFLB)      # OF PROG.LUB'S FOR BG       @D14BDFG 00555000
         DC    (&NPART-1)AL1(0)   # OF PROG.LUB'S FOR FN       @D14BDFG 00556000
         SPACE 2                                               @D359DPS 00557000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00558000
*                                                                     * 00559000
*        LOGICAL UNIT BLOCK TABLE.                                    * 00560000
*                                                                     * 00561000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00562000
         SPACE 1                                                        00563000
LUBTAB   DC    0F'0'              LUB TABLE (ALIGN FOR DUMP)   @D31UDMZ 00564000
SYSLUB   DC    (&AGSYSLB)X'FFFF'  BG SYSTEM LUBS               @D14BDFG 00565000
PGRLUB   DC    &AGDEFLB.X'FFFF'   BG PROGRAMMER LUBS           @D14BDFG 00566000
&LUBPOOL SETA  (&NPART-1)*&AGSYSLB+&AGNPGR-&AGDEFLB            @D14BDFG 00567000
         DC    &LUBPOOL.X'FFFF'   LUB POOL FOR FN PARTITIONS   @D14BDFG 00568000
         SPACE 2                                                     RS 00569000
&X       SETA  &NPART+1                                        @D61NDMZ 00570000
.COMEXP  ANOP                                                        UL 00571000
         EJECT                                                          00572000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00573000
*                                                                     * 00574000
*        FOREGROUND COMMUNICATIONS REGION.                            * 00575000
*                                                                     * 00576000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00577000
         SPACE 1                                                        00578000
&P(&X)COMREG DS 0D                FOREGROUND COMREG            @D359DPS 00579000
         DS    0CL11              00 JOB DATE WITH CENTURY     @D52VDMZ 00580000
         DC    C'00/00/00'        00 JOB DATE                  @D359DPS 00581000
         DC    XL3'00'            08 CENTURY                   @D52VDOW 00582000
         DC    X'00'              11 RESERVED                  @D52VDOW 00583000
         DC    11X'00'            12 USER SCRATCH AREA         @D359DPS 00584000
         DC    X'00'              23 UPSI BYTE                 @D359DPS 00585000
         DC    CL8'NO NAME'       24 JOB NAME                  @D359DPS 00586000
         DC    A(0)               HIGHEST STORAGE ADDRESS OF PARTITION  00587000
         DC    A(0)               END ADDRESS OF LAST PHASE LOADED      00588000
         DC    A(0)               END ADDRESS OF LONGEST PHASE LOADED   00589000
         DC    H'0'               44 LENGTH OF PP LABEL AREA   @D359DPS 00590000
         AIF   ('&P(&X)' EQ 'AR').CSKI0                        @D61NDMZ 00591000
         DC    AL2(&X*16)         46 PARTITION IDENTIFIER      @D36IDEM 00592000
         AGO   .CSKI1                                          @D61NDMZ 00593000
.CSKI0   ANOP                                                  @D61NDMZ 00594000
         DC    AL2(0)             46 PARTITION IDENTIFIER      @D61NDMZ 00595000
.CSKI1   ANOP                                                  @D61NDMZ 00596000
         DC    A(0)               48 END OF VIRTUAL STORAGE    @D369DEM 00597000
         DC    B'11111111'        52 MACH.CONFIGURATION BYTE   @D14BDFG 00598000
         DC    B'0101111&BG16'    53 SYSTEM CONFIG.BYTE        @D14BDFG 00599000
         DC    B'11001100'        54 STANDARD JCTL SWITCH      @D36EDEM 00600000
         DC    B'11010011'        55 STANDARD JCTL SWITCH      @D37DDEM 00601000
         DC    B'00000000'        56 JOB CONTROL SWITCHES      @D14BDFR 00602000
         DC    X'00'              57 LINKAGE CONTROL BYTE      @D359DPS 00603000
         DC    B'11001100'        58 TEMPORARY JCTL SWITCHES   @D36EDEM 00604000
         DC    B'01010000'        59 STDJC SWITCHES            @D36EDEM 00605000
         DC    H'0'               60 DISK ADDR OF LABEL CYL    @D359DPS 00606000
         DC    H'0'               62 RESERVED (OLD: FOCL PTR)  @D37DDFG 00607000
         DC    Y(-Y0+PUBTAB)      64 ADDR OF PUB TABLE         @D36IDFR 00608000
         DC    XL6'00'            66 JOB START TIME            @D14NDFG 00609000
         AIF   ('&P(&X)' EQ 'AR').CSKI2                        @D61NDMZ 00610000
         DC    Y(-Y0+FICL)        72 ADDR OF FICL              @D36IDFR 00611000
         DC    Y(-Y0+NICL)        74 ADDR OF NICL              @D36IDFR 00612000
         AGO   .CSKI3                                                   00613000
.CSKI2   ANOP                                                  @D61NDMZ 00614000
         DC    AL2(0)             72 ADDR OF FICL              @D14BDFG 00615000
         DC    AL2(0)             74 ADDR OF NICL              @D14BDFG 00616000
.CSKI3   ANOP                                                  @D61NDMZ 00617000
         DC    AL2(0)             76 ADDR OF LUB TABLE         @D14BDFG 00618000
         DC    AL1(56)            78 SYSLIST LINE COUNT        @D359DPS 00619000
         DC    9C'0'              79 SYSTEM DATE               @D359DPS 00620000
         DC    H'0'               88 LIOCS COMMUNICATION BYTES @D359DPS 00621000
         DC    Y(-Y0+PIBTAB)      90 ADDR OF PIB TABLE         @D36IDFR 00622000
         DC    H'0'               92 LAST CHECKPOINT NUMBER    @D359DPS 00623000
         DC    AL2(0)             94 JOB ZONE IN MINUTES       @D37DDEM 00624000
         AIF   ('&P(&X)' EQ 'AR').CSKI4                        @D61NDMZ 00625000
         DC    Y(-Y0+DSKPOS&P(&X)) 96 FG DIB POINTER           @D36IDFR 00626000
         AGO   .CSKI5                                          @D61NDMZ 00627000
.CSKI4   ANOP                                                  @D61NDMZ 00628000
         DC    Y(0)                96 NO DIB POINTER           @D61NDMZ 00629000
.CSKI5   ANOP                                                  @D61NDMZ 00630000
         DC    X'0'               98 DEVICE FLAG               @D36ZDEM 00631000
         DC    X'0'               99 FLAG                      @D36ZDEM 00632000
         DC    XL2'00'           100 CENTURY OF SYSDATE        @D52VDMZ 00633000
         DC    XL4'00'           102 MESSAGE STACK POINTER     @D66ADAP 00634000
         AIF   ('&P(&X)' EQ 'AR').CSKI6                        @D61NDMZ 00635000
         DC    AL2(&X*16)        106 KEY OF PROGR.WITH IT SUPP.@D36IDEM 00636000
         AGO   .CSKI7                                          @D61NDMZ 00637000
.CSKI6   ANOP                                                  @D61NDMZ 00638000
         DC    AL2(0)            106 NO KEY FOR IT SUPPORT     @D61NDMZ 00639000
.CSKI7   ANOP                                                  @D61NDMZ 00640000
         DC    AL2(0)            108 ID OF ACTIVE SPACE        @D14NDFG 00641000
         AIF   ('&P(&X)' EQ 'AR').CSKI8                        @D61NDMZ 00642000
         DC    AL2(&X*16)        110 LOGICAL TRANSIENT KEY     @D359DPS 00643000
         DC    A(SPARM&P(&X))    112 ADDR OF SYSPARM FIELD     @D359DPS 00644000
         AGO   .CSKI9                                          @D61NDMZ 00645000
.CSKI8   ANOP                                                  @D61NDMZ 00646000
         DC    AL2(0)            110 NO LOC. TRANSIENT KEY     @D61NDMZ 00647000
         DC    A(0)              112 ADDR OF SYSPARM FIELD     @D61NDMZ 00648000
.CSKI9   ANOP                                                  @D61NDMZ 00649000
         DC    A(0)              116 ADDR OF JA PART.TABLE     @D14BDFG 00650000
         DC    A(GMTDATE)        120 ADDR OF TOD COMMUNIC.AREA @D369DEM 00651000
         DC    Y(-Y0+PIBAREA)    124 ADDR OF PIB AREA          @D36IDFR 00652000
         DC    Y(0)              126 NO MICR SUPPORT           @D359DPS 00653000
         DC    F'0'              128 RESERVED FOR LIOCS        @D369DEM 00654000
         DC    Y(-Y0+BGCOMREG)   132 ADDR OF BG COMREG         @D36IDFR 00655000
         DC    B'00010000'       134 OPTION INDICATOR BYTE     @D359DPS 00656000
         DC    B'1110000&BG31'   135  SYS CNFG.BYT2            @D36EDEM 00657000
         DC    A(0)              136 ADDRESS OF JC WORK AREA   @D14NDFG 00658000
         DC    B'01000000'       140 STANDARD JCTL SWITCHES    @D36EDEM 00659000
         DC    B'01000000'       141 TEMPORARY JCTL SWITCHES   @D36EDEM 00660000
         DC    B'00001111'       142 DISK CONFIGURATION BYTE   @D37DDEM 00661000
         DC    CL8' '            143 PROCEDURE NAME            @D359DPS 00662000
         DC    X'0'              151 INTERFACE FLAGS           @D359DPS 00663000
         DC    CL7' '            152 STATEMENT NAME            @D359DPS 00664000
         DC    X'0'              159 81 BYTE SYSIN INDICATOR   @D359DPS 00665000
         DC    A(0)              160 ADDR PART CONTR BLOCK     @D359DPS 00666000
         DC    X'0'              164 POWER/VS FLAG BYTE 1      @D359DPS 00667000
         DC    X'0'              165 POWER/VS FLAG BYTE 2      @D359DPS 00668000
         DC    H'0'              166 VSAM SNAP FUNCTION BYTES  @D149DJB 00669000
         DC    A(0)              168 LUB EXT. FOR DASDFP       @D35DDPS 00670000
         DC    X'0'              172 JOB CONTROL SWITCH        @D35EDPS 00671000
         DC    X'0'              173 JOB CONTROL SWITCH        @D35EDPS 00672000
         DC    B'10000000'       174 STANDARD OPTIONS 2        @D64ADOW 00673000
         DC    B'10000000'       175 TEMPORARY OPTIONS 2       @D64ADOW 00674000
         DC    A(0)              176 ADDR OF JPL OF PARTITION  @D350DEM 00675000
         DC    A(0)              180 SLOT FOR CICS             @D36ZDEM 00676000
         DC    A(0)              184 ADDR.OF FETCH/LOAD TRACE T@D36ZDEM 00677000
         DC    XL8'00'           188 ADDR OF LAST HC-JOB STMNT @D37BDJR 00678000
         DC    A(0)              196 ADDR.OF SPF CONTROL AREA  @D14CDFG 00679000
         DC    A(0)              200 ADDR.OF GETVIS CNTL.INF.  @D14CDFG 00680000
         DC    A(0)              204 ADDR.OF TAPE FL CNTL INF. @D14CDFG 00681000
         DC    CL6'IJBF&P(&X)',AL2(0) 208 SYS.GETVIS PART.POOL @D51IDMZ 00682000
         DC    CL8' '            216 EXEC PHASE NAME           @D14NDFG 00683000
         DC    A(0)              224 PTR TO 1ST SVA DE COPY    @DA33314 00684000
         DC    A(0)              228 PARTITION UNBATCH ECB     @D31LDMZ 00685000
         DC    X'00'             232 JCL FLAG BYTE 9           @D31LDMZ 00686000
         DC    X'00'             233 MIS. SWITCH BYTE 1        @D31LDMZ 00687000
         DC    X'00'             234 IND. FOR VSAM SNAP DUMP O.@D31LDMZ 00688000
         DC    X'00'             235 UNUSED                    @D31LDMZ 00689000
         DC    A(0)              236 JCL BASE VECTOR           @D31LDMZ 00690000
         DC    A(&P(&X)PCE)      240 ADDRESS OF PCB EXTENSION  @D51IDMZ 00691000
         DC    A(0)              244 ENDADDR OF HIGH. LOAD.PHAS@D51IDMZ 00692000
         DC    CL8' '            248 VMCF USERID               @D51IDMZ 00693000
         DC    X'00'             256 VMCF PROCESSING FLAG 1    @D51IDMZ 00694000
         DC    X'00'             257 VMCF PROCESSING FLAG 2    @D51IDMZ 00695000
         DC    X'00'             258 POWER FLAG BYTE 3         @D52VDMZ 00696000
         DC    AL1(IJBACLS)      259 JCL STANDARD OPTIONS 3    @D61NDMZ 00697000
         DC    X'00'             260 JCL TEMP. OPTIONS 3       @D52VDMZ 00698000
         DC    X'00'             261 REXX FLAG BYTE            @D61DDMZ 00699000
         DC    XL2'00'           262 RESERVED FOR FUTURE USE   @D52VDMZ 00700000
         DC    F'0'              264 PERM. PFIX LIMIT BELOW    @D52VDMZ 00701000
         DC    F'0'              268 PERM. PFIX LIMIT ABOVE    @D52VDMZ 00702000
         DC    CL8' '            272 RESERVED FOR FUTURE USE   @D68EDMZ 00703000
         DC    F'0'              280 JCL ENTRY POINT (REXX)    @D61DDMZ 00704000
         DC    F'0'              284 UTILITY RC (SA ENV.)      @D61NDMZ 00705000
         DC    F'0'              288 UTILITY SA CB             @D61DDMZ 00706000
         DC    F'0'              292 AUTH. PROGR. FACILITY PTR @D64ADMZ 00707000
         DC    F'0'              296 PTR TO SECURITY CB        @D61DDMZ 00708000
         DC    CL8'FORSEC&P(&X)' 300 DEF.USERID FOR CICS PART. @D64ADMZ 00709000
         DC    F'0'              308 TCPIP PART. ANCHOR        @DY45557 00710000
         DC    F'0'              312 TCP/IP EXIT ANCHOR        @DY45995 00711000
         DC    5F'0'             316 RESERVED FOR FUTURE USE   @D64ADMZ 00712000
&X       SETA  &X-1                                                  RS 00713000
         AIF   (&X GT 1).COMEXP                                      RS 00714000
         EJECT                                                          00715000
&X       SETA  1                      INITIALIZE DIB GENERATION LOOP UL 00716000
*********************************************************************** 00717000
*                                                                     * 00718000
*        BG DIB ENTRIES                                               * 00719000
*                                                                     * 00720000
*********************************************************************** 00721000
.SETDIB  ANOP                                                           00722000
         SPACE 2                                                        00723000
*        SYSLINK DIB ENTRY                                              00724000
         SPACE                                                          00725000
DSKPOS&P(&X)  DS 0H                                                  VB 00726000
         DC    XL7'00'            SYSLINK DIB ENTRY CCHH000          UL 00727000
         DC    2X'FF'             STARTING ADDRESS PCIL CILYNDER        00728000
         DC    X'00'              UNUSED                                00729000
         DC    7H'0'                                           @D35EDPS 00730000
         SPACE                                                          00731000
*        SYSIN DIBENTRY                                                 00732000
         SPACE                                                          00733000
         DC    7X'00'             CURRENT ADDRESS BBCCHHR               00734000
         DC    X'000050'          KEY AND DATA LENGTH KDD               00735000
         DC    7X'00'             END ADDRESS BBCCHHR                VB 00736000
         DC    2X'00'             UPPER AND LOWER HEAD LIMIT            00737000
         DC    X'19'              MAXIMUM NUMBER OF RECORDS          VB 00738000
         DC    2X'00'             RECORD COUNT                          00739000
         DC    2X'00'             RESERVED                              00740000
         SPACE                                                          00741000
*        SYSPUNCH DIBENTRY                                              00742000
         SPACE                                                          00743000
         DC    7X'00'             CURRENT ADDRESS BBCCHHR               00744000
         DC    X'000051'          KEY AND DATA LENGTH KDD               00745000
         DC    7X'00'             END ADDRESS BBCCHHR                VB 00746000
         DC    2X'00'             UPPER AND LOWER HEAD LIMIT            00747000
         DC    X'19'              MAXIMUM NUMBER OF RECORDS          VB 00748000
         DC    AL2(1000)          RECORD COUNT                 @D37DDEM 00749000
         DC    2X'00'             RESERVED                              00750000
         SPACE                                                          00751000
*        SYSLIST DIBENTRY                                               00752000
         SPACE                                                          00753000
         DC    7X'00'             CURRENT ADDRESS BBCCHHR               00754000
         DC    X'000079'          KEY AND DATA LENGTH KDD               00755000
         DC    7X'00'             END ADDRESS BBCCHHR                VB 00756000
         DC    2X'00'             UPPER AND LOWER HEAD LIMIT            00757000
         DC    X'13'              MAXIMUM NUMBER OF RECORDS          VB 00758000
         DC    AL2(1000)          RECORD COUNT                 @D37DDEM 00759000
         DC    2X'00'             RESERVED                              00760000
         SPACE 1                                                     VB 00761000
*        PROCEDURE DIB ENTRY                                         VB 00762000
         SPACE 1                                                     VB 00763000
         DC    7X'0'                   CURRENT ADDRESS BBCCHHR       VB 00764000
         DC    XL3'50'                 KEY DATA LENGTH               VB 00765000
         DC    7X'0'                   END ADDRESS BBCCHHR           VB 00766000
         DC    XL2'0'                  UPPER AND LOWER HEAD LIMIT    VB 00767000
         DC    X'19'                   MAXIMUM NUMBER OF RECORDS     VB 00768000
         DC    XL2'0'                  RECORD COUNT                  VB 00769000
         DC    XL2'0'                  RESERVED                      VB 00770000
         SPACE 2                                                        00771000
         AIF   (&X GE &NPART).DIBDONE                                UL 00772000
*********************************************************************** 00773000
*                                                                     * 00774000
*        FG PARTITION DIB ENTRIES                                     * 00775000
*                                                                     * 00776000
*********************************************************************** 00777000
&X       SETA  &X+1               INCREMENT COUNT                    UL 00778000
         AGO   .SETDIB                                                  00779000
.DIBDONE ANOP                                                           00780000
         EJECT                                                          00781000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00782000
*                                                                     * 00783000
*        PHYSICAL UNIT BLOCK TABLE.                                   * 00784000
*                                                                     * 00785000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00786000
         SPACE 1                                                        00787000
         DS    0D                 ALIGNMENT FOR DUMP           @D21VDJB 00788000
PUBTAB   DC    &AG1.X'FF00000000000000' PUB TABLE                       00789000
PUBEND   EQU   *                  END OF PUB TABLE                   JK 00790000
         SPACE 2                                                        00791000
         DC    X'FF'              DELIMITER OF PUB TABLE                00792000
         DC    CL7'PUBOWNR'                                    @D68CDOW 00793000
         SPACE 2                                               @D359DPS 00794000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00795000
*                                                                     * 00796000
*        PUB OWNERSHIP TABLE.                                         * 00797000
*                                                                     * 00798000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00799000
         SPACE 1                                               @D359DPS 00800000
PUBOWNER DC    0F'0'              ALIGN FOR DUMP               @D31UDMZ 00801000
         DC    &AG1.X'0000'                                          RS 00802000
         TITLE 'VSE/AF SUPERVISOR  SMICR    EXTERNAL INTERRUPT HANDLER' 00803000
         SMICR                                                          00804000
         TITLE 'VSE/AF SUPERVISOR  IOTAB                   LTA AND PTA' 00805000
         DC    C'B-TRANSIENT AREA' EYE CATCHER FOR B-TRANSIENT @D21LDAP 00806000
LTA      DC    0D'0'              BEGIN OF LOGICAL TRANS. AREA @D35EDPS 00807000
*********************************************************************** 00808000
*                                                                     * 00809000
*        THE FOLLOWING BLOCK OF TEMPORARY CODE IN THE LTA IS EXECUTED * 00810000
*        ONLY ONCE,AT FIRST ENTRY TO THE FETCH ROUTINE,AT IPL TIME.   * 00811000
*        ITS FUNCTION IS TO INITIALIZE ONE OR MORE CONSTANTS          * 00812000
*        DEPENDENT ON WHETHER THE SYSTEM RESIDENCE DEVICE IS          * 00813000
*        A 2314, A 2319, A 3330, A 3340, OR A 3350             @D34DDAP 00814000
*                                                                     * 00815000
*********************************************************************** 00816000
         SPACE                                                          00817000
         TITLE 'VSE/AF SUPERVISOR SGEFCH INT. OF TEMP. LIBR.CTL.BLOCKS' 00818000
         SGEFCH                                                @D35EDVB 00819000
         ORG   LTA+LEN$$B                                      @D14CDFG 00820000
LTAEND   EQU   *                  END ADDRESS OF LTA           @D35EDPS 00821000
         SPACE 2                                               @D359DPS 00822000
         DC    C'A-TRANSIENT AREA' EYE CATCHER FOR A-TRANSIENT @D21LDAP 00823000
PTA      DC    0D'0'              BEGIN OF PHYS. TRANSIENT AREA@D35EDPS 00824000
         SGSATAP                                               @D61DDMZ 00825000
         ORG   PTA+LEN$$A                                      @D61DDMZ 00826000
         TITLE 'VSE/AF SUPERVISOR  SGATAB         TABLES AND CONSTANTS' 00827000
         SGATAB                   TABLES AND CONSTANTS                  00828000
         TITLE 'VSE/AF SUPERVISOR  DISP            DISPATCHER ROUTINES' 00829000
         DISP                     GENERATE DISPATCHER RTNS     @DM05356 00830000
         TITLE 'VSE/AF SUPERVISOR  SGNUC       FIRST LEVEL INT.HANDLER' 00831000
         SGNUC                    FIRST LEVEL INT.HANDLER      @D36ZDFR 00832000
         TITLE 'VSE/AF SUPERVISOR  SGPCK         PROGRAM CHECK HANDLER' 00833000
         SGPCK                    PROGRAMCHECK HANDL           @D36ZDFR 00834000
         TITLE 'VSE/AF SUPERVISOR  SGAFCH           FETCH DATA SECTION' 00835000
         SGAFCH                                                @D35EDVB 00836000
         TITLE 'VSE/AF SUPERVISOR  SGDFCH          FETCH OVERALL LOGIC' 00837000
         SGDFCH                   GENERATE FETCH ROUTINE       @DM11504 00838000
         TITLE 'VSE/AF SUPERVISOR  SGBFCH  PROGRAM FETCH AND I/O LAYER' 00839000
SGBFCH   EQU   *                                               @D369DEM 00840000
         SGBFCH                   GENERATE FETCH ROUTINE       @D35EDRP 00841000
         TITLE 'VSE/AF SUPERVISOR  SGCCWT     CCW-TRANSLATION ROUTINES' 00842000
         SGCCWT ,                 GENERATE CCW-TRANSLATION ROUTINES  EM 00843000
         TITLE 'VSE/AF SUPERVISOR  SGSVC               INTERFACE SVC S' 00844000
         SGSVC                    SOME SVCS                    @D36IDFR 00845000
         TITLE 'VSE/AF SUPERVISOR  SGSVCX          MISCELLANEOUS SVC S' 00846000
         SGSVCX ,                 SOME SVCS                    @DM11903 00847000
         TITLE 'VSE/AF SUPERVISOR SGLSTK    AR AND LINK STACK SERVICES' 00848000
         SGLSTK TYPE=CODE                                      @D61PDOW 00849000
         TITLE 'VSE/AF SUPERVISOR  SGVEND              VENDOR I/F     ' 00850000
         SGVEND DSECT=NO          VENDOR I/F                   @D52YDMZ 00851000
         TITLE 'VSE/AF SUPERVISOR  SGUNATT         REIPL ROUTINES     ' 00852000
         SGUNATT ,                UNATTENDED NODE              @D31QDMZ 00853000
         TITLE 'VSE/AF SUPERVISOR  SGSCRIPL        REIPL ROUTINES     ' 00854000
         SGREIPL ,                 SCSI REIPL                  @D68DDUL 00855000
         TITLE 'VSE/AF SUPERVISOR  MCRAS         MACHINE/CHANNEL CHECK' 00856000
         MCRAS  ,                                              @DM11504 00857000
         TITLE 'VSE/AF SUPERVISOR  SGSTAR   DASD INFORMATION ROUTINES ' 00858000
         SGSTAR                                                @DL30SSM 00859000
         TITLE 'VSE/AF SUPERVISOR  SGIOS                 EXCP ROUTINES' 00860000
         SGIOS                    GENERATE EXCP ROUTINES       @D34RDFG 00861000
         TITLE 'VSE/AF SUPERVISOR  SGCFCH                  FETCH SVC S' 00862000
         SGCFCH                   FETCH SVC'S                  @D34RDVB 00863000
         TITLE 'VSE/AF SUPERVISOR  SGERP   INTERFACE TO ERP TRANSIENTS' 00864000
         SGERP                    INTERFACE TO ERP TRANSIENTS  @D34RDFG 00865000
         TITLE 'VSE/AF SUPERVISOR  SGFCP  INTERFACE TO FCP SERVICE RTN' 00866000
         SGFCP                                                 @D68DDOW 00867000
         TITLE 'VSE/AF SUPERVISOR  SGAP        ASYNCHRONOUS PROCESSING' 00868000
         SGAP                     ASYNCHR.PROCESSING SVC'S     @D....IS 00869000
         TITLE 'VSE/AF SUPERVISOR  SGEXIT          USER EXIT ROUTINES ' 00870000
         SGEXIT                                                @D51HDOW 00871000
         TITLE 'VSE/AF SUPERVISOR  SGMVSAPI     MVS-SVC/PC PROCESSING ' 00872000
         SGMVSAPI                                              @D64ADOW 00873000
         TITLE 'VSE/AF SUPERVISOR  SGTSLICE    PARTITION BALANCING'     00874000
         SGTSLICE                                              @D52DDIS 00875000
         TITLE 'VSE/AF SUPERVISOR  SGDYNC      DYN. CLASS SERVICES'     00876000
         SGDYNC                                                @D61NDMZ 00877000
         TITLE 'VSE/AF SUPERVISOR  SGACCT  JOB ACCOUNTING FIELD UPDATE' 00878000
         SGACCT                   JA COUNTERS UPDATE           @D14BDFR 00879000
         TITLE 'VSE/AF SUPERVISOR  SGIVM       MIGRATION AID          ' 00880000
         SGIVM DSECT=NO                                        @D31ZDMZ 00881000
         TITLE 'VSE/AF SUPERVISOR  SGVSEPT     PERF. MONITOR INTERFACE' 00882000
         SGVSEPT COMMON=YES       I/F TO PERF. MONITOR         @D51IDKH 00883000
         TITLE 'VSE/AF SUPERVISOR  SGTINF      TASKING INTERFACE SVC S' 00884000
         SGTINF                   TASKING I/F FUNCTIONS        @D352DFG 00885000
         TITLE 'VSE/AF SUPERVISOR  SGSSID    SUBSYSTEM IDENTIFICATION ' 00886000
         SGSSID                   SUBSYSTEM IDENTIF. SERVICES  @D52VDGL 00887000
         TITLE 'VSE/AF SUPERVISOR  SGINF     EXTRACT SERVICES         ' 00888000
         SGINF                    LOGICAL COMM. PP/SV          @D52VDGL 00889000
         TITLE 'VSE/AF SUPERVISOR  SGNUPL          SERVICE FOR NUCLKUP' 00890000
         SGNUPL                  SERVICE FOR NUCLKUP                    00891000
         TITLE 'VSE/AF SUPERVISOR  SGPMS          PMR SERVICE ROUTINES' 00892000
         SGPMS                                                 @D52VDMZ 00893000
         TITLE 'VSE/AF SUPERVISOR  SGAM                 CDLOAD SUPPORT' 00894000
         SGAM                     GENERATE VSAM/GETVIS SUPPORT @D35CDFG 00895000
         TITLE 'VSE/AF SUPERVISOR  DTSSVCIC ICCF SVC INTERCEPT ROUTINE' 00896000
         DTSSVCIC                 ICCF SVC INTERCEPT RTN       @D35ZDUL 00897000
         TITLE 'VSE/AF SUPERVISOR  DTSSVCIN           ICCF SVC ROUTINE' 00898000
         DTSSVCIN                 ICCF SVC ROUTINE             @D35ZDEM 00899000
         AIF   (NOT &BG16).NOSGRM                              @D52VDMZ 00900000
         TITLE 'VSE/AF SUPERVISOR  SGRM         RESOURCE CONTROL SVC S' 00901000
         SGRM                     RESOURCE CONTROL SVC'S       @D35CDFG 00902000
.NOSGRM  ANOP                                                  @D52VDMZ 00903000
         TITLE 'VSE/AF SUPERVISOR SGAPPC APPC/VM EXT INTERRUPT HANDLER' 00904000
         SGAPPC                                                @D31BDMZ 00905000
         TITLE 'VSE/AF SUPERVISOR SGSPDT     SCLP SUPPORT             ' 00906000
         SGSPDT DSECT=NO                                       @D31EMMZ 00907000
         TITLE 'VSE/AF SUPERVISOR SGDOC      CONSOLE SUPPORT          ' 00908000
         SGDOC                                                 @D61NDMZ 00909000
         AIF   (NOT &BGDEBUG OR NOT &DISP).NOPRTX0             @D14ZDFG 00910000
         PRINT GEN                                             @D14BDFR 00911000
.NOPRTX0 ANOP                                                  @D14BDFR 00912000
         TITLE 'VSE/AF SUPERVISOR SGLSTK  AR AND LINKAGE STACK SUPPORT' 00913000
         SGLSTK TYPE=DATA                                      @D61PDOW 00914000
         TITLE 'VSE/AF SUPERVISOR IOTAB      DISPATCHER CONTROL BLOCKS' 00915000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *@D35EDFG 00916000
*                                                              @D35EDFG 00917000
*        SYSTEM AND PARTITION CONTROL BLOCKS.                  @D35EDFG 00918000
*                                                              @D35EDFG 00919000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *@D35EDFG 00920000
         SPACE 2                                               @D218DKH 00921000
         SIDSTR  ,                VALID SPACE IDS              @D218DKH 00922000
         SPACE 2                                               @D35EDFG 00923000
         SCBATAB ,                SCB ADDRESS TABLE            @D14NDFG 00924000
&X       SETA  1                                               @D14NDFG 00925000
.GENSCB  ANOP                                                  @D14NDFG 00926000
&C       SETC  '&SID(&X)'         GET SPACE ID                 @D52VDMZ 00927000
         SPACE 1                                               @D14NDFG 00928000
         DS    0F                                              @D51IDMZ 00929000
SCB&C    DC    C'SCB '            EYE-CATCHER                  @D52VDMZ 00930000
         DC    C'&C '             SPACE ID                     @D14NDFG 00931000
         DC    AL2(&X-1)          SPACE NUMBER                 @D52VDMZ 00932000
         AIF   ('&C' EQ 'S').GENSC0S                           @D52VDMZ 00933000
         DC    F'0'               PTR TO SCB OF NEXT ASP       @D52VDMZ 00934000
         DC    F'0'               PTR TO SCB OF PREV. ASP      @D52VDMZ 00935000
         AGO   .GENSC1                                         @D52VDMZ 00936000
.GENSC0S ANOP                                                  @D52VDMZ 00937000
         DC    A(SCBS)            PTR TO SCB OF NEXT ASP       @D52VDMZ 00938000
         DC    A(SCBS)            PTR TO SCB OF PREV. ASP      @D52VDMZ 00939000
         AGO   .GENSCS                                         @D52VDMZ 00940000
.* THE BITS IN SCBFLG1 ARE MUTUAL EXCLUSIVE                    @D52VDMZ 00941000
.* SCBFLG1 AND SCBFLG2 ARE RESET IN IJBSSM                     @D52VDMZ 00942000
.GENSC1  ANOP                                                  @D52VDMZ 00943000
         DC    X'40'              FLAG FOR SCB TYPE(DEF=ADDRSP)@D52VDMZ 00944000
         AGO   .GENNSCS                                        @D52VDMZ 00945000
.GENSCS  ANOP                                                  @D52VDMZ 00946000
         DC    X'10'              FLAG FOR SCB OF SHARED AREA  @D52VDMZ 00947000
.GENNSCS ANOP                                                  @D52VDMZ 00948000
         DC    X'00'              FLAG BYTE                    @D52VDMZ 00949000
.NGENSC0 ANOP                                                  @D52VDMZ 00950000
         DC    H'0'               RESERVED                     @D52VDMZ 00951000
         DC    F'0'               ALLOCATED TOTAL SIZE         @D52VDMZ 00952000
         DC    3F'0'                                           @D14NDFG 00953000
         DC    16H'0'             PARTITION STRING             @D14NDFG 00954000
         DC    A(0)               REAL ADDR OF ASTE (DS ONLY)  @D52VDMZ 00955000
         DC    A(0)               VIRT. ADDR OF ASTE (DS ONLY) @D52VDMZ 00956000
         DC    H'0'               NO OF USERS SWITCHED TO SPACE@D51IDMZ 00957000
         DC    H'0'               RESERVED                     @D51IDMZ 00958000
         DC    F'0'               ADDR OF PMRAS                @D52VDMZ 00959000
         DC    F'0'               VIRT. ADDR OF SPACE'S PT     @D52VDMZ 00960000
         DC    F'0'               VIRT. ADDR OF SPAC'S PTAS    @D52VDMZ 00961000
         DC    F'0'               SIZE(IN K) WITH PMR TAB.ALLOC@D52VDMZ 00962000
         DC    F'0'               SIZE(IN K) WITH PMR TAB.RESER@D52VDMZ 00963000
         DC    F'0'               SIZE(IN K) OF PMRT. TO BE RES@D52VDMZ 00964000
         DC    F'0'               ADDR OF POSL OF ADDRESS SPACE@D52VDMZ 00965000
         DC    F'0'               ADDR OF RPSL OF ADDRESS SPACE@D52VDMZ 00966000
         DC    H'0'               PAGES RES. F. PMR IN 24BIT AR@D52VDMZ 00967000
         DC    H'0'               PAGES RES. F. PMR IN 31BIT AR@D52VDMZ 00968000
         DC    F'0'               POINTER TO ASCB              @D61ADMZ 00969000
         DC    F'0'               NO OF PAGE-IN FOR SPACE      @D52VDMZ 00970000
         DC    F'0'               ANCHOR FOR SPACE REL. SUB.LST@D61ADMZ 00971000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61ADMZ 00972000
&X       SETA  &X+1                                            @D14NDFG 00973000
         AIF   (&X LT &NOSPACS+1).GENSCB                       @D52VDMZ 00974000
         SPACE 2                                               @D14NDFG 00975000
         DS    0F                                              @D51IDMZ 00976000
SCBP1    DC    C'SCBP'            EYE-CATCHER                  @D52VDMZ 00977000
         DC    XL2'F0F0'          SPACE ID                     @D52VDMZ 00978000
         DC    AL2(0)             SPACE NUMBER                 @D52VDMZ 00979000
         DC    A(SCBP1)           PTR TO SCB OF NEXT PMRAS     @D52VDMZ 00980000
         DC    A(SCBP1)           PTR TO SCB OF PREV. PMRAS    @D52VDMZ 00981000
         DC    X'20'              PMR ADDRESS SPACE            @D52VDMZ 00982000
         DC    X'00'              RESERVED                     @D52VDMZ 00983000
         DC    H'0'               RESERVED                     @D52VDMZ 00984000
         DC    F'0'               ALLOCATED TOTAL SIZE         @D52VDMZ 00985000
         DC    3F'0'                                           @D14NDFG 00986000
         DC    16H'0'             PARTITION STRING             @D14NDFG 00987000
         DC    2A(0)              RESERVED                     @D51KDTP 00988000
         DC    H'0'               NO OF USERS SWITCHED TO SPACE@D51IDMZ 00989000
         DC    H'0'               RESERVED                     @D51IDMZ 00990000
         DC    F'0'               ADDR OF PMRAS                @D52VDMZ 00991000
         DC    F'0'               VIRT. ADDR OF SPACE'S PT     @D52VDMZ 00992000
         DC    F'0'               VIRT. ADDR OF SPAC'S PTAS    @D52VDMZ 00993000
         DC    F'0'               SIZE(IN K) WITH PMR TAB.ALLOC@D52VDMZ 00994000
         DC    F'0'               SIZE(IN K) WITH PMR TAB.RESER@D52VDMZ 00995000
         DC    F'0'               SIZE(IN K) OF PMRT. TO BE RES@D52VDMZ 00996000
         DC    F'0'               ADDR OF POSL OF ADDRESS SPACE@D52VDMZ 00997000
         DC    F'0'               ADDR OF RPSL OF ADDRESS SPACE@D52VDMZ 00998000
         DC    H'0'               PAGES RES. F. PMR IN 24BIT AR@D52VDMZ 00999000
         DC    H'0'               PAGES RES. F. PMR IN 31BIT AR@D52VDMZ 01000000
         DC    F'0'               POINTER TO ASCB              @D61ADMZ 01001000
         DC    F'0'               NO OF PAGE-IN FOR SPACE      @D52VDMZ 01002000
         DC    F'0'               ANCHOR FOR SPACE REL. SUB.LST@D61ADMZ 01003000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01004000
         SPACE 2                                               @D14NDFG 01005000
PCBTAB   DC    0D'0'                                           @D36IDFR 01006000
         SPACE 1                                               @D35EDFG 01007000
SYSPCB   DC    AL2(SPCBLNG)       PCB LENGTH                   @D36IDFR 01008000
         DC    B'00000000'        PCBFLAG                      @D36IDFR 01009000
         DC    X'00'              RESERVED                     @D14BDFR 01010000
         DC    X'80000000'        PRIORITY MASK OF SYSTEM PART.@D14BDFR 01011000
         DC    F'0'               NOT USED FOR SYSTEM PCB      @D51IDMZ 01012000
         DC    AL2(0)             PCBID RELATNG.TO CLASS PIK/16@D51IDMZ 01013000
         DC    AL2(31)            MAX NUMBER OF SYSTEM TASKS   @D66ODOW 01014000
         DC    F'0'               REACTIVATION COUNT           @D51IDMZ 01015000
SOVHTIME DC    F'0'               OVERHEAD TIME COUNTER        @D14BDFR 01016000
         DC    F'0'               RESERVED,USED ON USER PCB    @D14BDFR 01017000
         DC    A(SYSPCB)          POINTER FOR TIME ACCOUNTING  @D14BDFR 01018000
         DC    AL2(SYSPIK)        PARTITION PIK                @D14BDRP 01019000
         DC    AL2(&LCSYST)       ACTIVE LENGTHCODE OF STIDSTR @D14BDFR 01020000
         DC    F'0'               MUST BE ZERO FOR SYST. TASKS @D64ADMZ 01021000
         DC    F'0'               RESERVED                     @D14BDFR 01022000
&X       SETA  0                                               @D36IDFR 01023000
STIDSTR  EQU   *                                               @D14BDFR 01024000
.NXTMASK ANOP                                                  @D14BDFR 01025000
&Y       SETA  256                                             @D14BDFR 01026000
.GENSTID ANOP                                                  @D36IDFR 01027000
         AIF   (&Y EQ 1).NXTMASK                               @D14BDFR 01028000
&Y       SETA  &Y/2                                            @D14BDFR 01029000
&X       SETA  &X+1                                            @D36IDFR 01030000
         AIF   ('&CGS(&X)' EQ '').NOSTID                       @D36IDFR 01031000
&C       SETC  '&CGS(&X)'                                      @D36IDFR 01032000
         DC    AL1(&C.TID)        TID OF SYSTEM TASK           @D36IDFR 01033000
         AGO   .OKSTID                                         @D36IDFR 01034000
.NOSTID  ANOP                                                  @D36IDFR 01035000
         DC    X'00'              RESERVED                     @D36IDFR 01036000
.OKSTID  ANOP                                                  @D36IDFR 01037000
         AIF   (&X LT &NSYST).GENSTID                          @D14BDFR 01038000
         SPACE 1                                               @D36IDFR 01039000
         DC    F'0'               ADDR OF PASN-AL(NOT FOR SYS) @D52VDMZ 01040000
         DC    AL2(&NSYST)        MAX.NUMBER OF SYSTEM TASKS   @D14BDFR 01041000
         DC    H'0'               ID OF CDLD OWNER             @D36IDFR 01042000
         DC    A(SCBS)            SHARED SPACE                 @D61NDMZ 01043000
         DC    F'0'               ACTIVE SCB, ALWAYS 0         @D14NDFG 01044000
         SPACE 1                                               @D369DFR 01045000
*        BEGIN OF SYSTEM SMCB ENTRY                            @D369DFR 01046000
SYSSMCB  DS    0F                                              @D365DFR 01047000
         DC    2F'0'               SVA PFIX (24 BIT) COUNTERS  @D52VDMZ 01048000
         DC    2F'0'               SVA PFIX (31 BIT) COUNTERS  @D52VDMZ 01049000
         DC    6F'0'               NOT USED FOR SYSTEM         @D52VDMZ 01050000
*        END OF SYSTEM SMCB ENTRY                              @D369DFR 01051000
         SPACE 1                                               @D369DFR 01052000
         DC    4F'0'               CHECKPOINT-PFIX ENTRY       @D51HDOW 01053000
         DC    F'0'                POINTER TO OC-EXIT CNTRL BLK@D64ADOW 01054000
         DC    6F'0'               RESERVED, MAINTAIN PCB L-OUT@D64ADOW 01055000
         DC    6F'0'               ACCOUNTING TIME COUNTERS    @D14BDFR 01056000
         DC    X'80',AL3(*-1),AL1(GTVBND),AL1(PARTQ)           @D14BDFR 01057000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01058000
         DC    X'80',AL3(*-1),AL1(CDLBND),AL1(PARTQ)           @D14BDFR 01059000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01060000
         DC    X'80',AL3(*-1),AL1(PFXBND),AL1(PARTQ)           @D14BDFR 01061000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01062000
         DC    X'80',AL3(*-1),AL1(IVMTSBND),AL1(PARTQ+NORDY)   @D31ZDMZ 01063000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01064000
         DC    X'80',AL3(*-1),AL1(DYSGVBND),AL1(PARTQ)         @D51IDMZ 01065000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01066000
         DC    X'80',AL3(*-1),AL1(PTERMBND),AL1(PARTQ)         @D52VDMZ 01067000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01068000
         DC    F'0'                ADDR.OF USAGE AND SIO CNTRS @D14BDFG 01069000
         DC    A(0)                ADDR OF PHO TIB(NOT SET)    @D51IDMZ 01070000
         DC    F'0'                UNUSED                      @D31LDMZ 01071000
         DC    2F'0',X'00'         USED BY GETREAL/PFIX ROUTINE@D36IDFR 01072000
         DC    2X'00'              RESERVED                    @D51IDMZ 01073000
         DC    X'00'               RESERVED                    @D51IDMZ 01074000
         DC    A(0)                PTR TO IAF CONTROL BLOCK    @D51IDMZ 01075000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01076000
         DC    CL6'IJBPAR',AL2(0)  DEF. SUBPOOL ID             @D52VDMZ 01077000
         DC    A(ASTE$AR)         VIRT. ADDR OF BG ASTE        @D52VDMZ 01078000
         DC    A(ASTE$AR)         REAL ADDR OF BG ASTE         @D52VDMZ 01079000
         DC    A(SYSPCB)           POINTS TO SYSPCB FOR SYS.PAR@D51IDMZ 01080000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01081000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01082000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01083000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01084000
         DC    2F'0'               REPLICA QUEUE HEADER        @D51IDMZ 01085000
         DC    F'0'                TOT. SIO COUNT SINCE LST IPL@D51IDMZ 01086000
         DC    F'0'                TOT. SIO UP TO LAST ACC.INT.@D51IDMZ 01087000
         DC    F'0'                NOT USED FOR SYSTEM PCB     @D51IDMZ 01088000
         DC    6F'0'               PFIX/PFREE AREA             @D52VDMZ 01089000
         DC    F'0'                NOT USED FOR SYSTEM         @D52VDMZ 01090000
         DC    F'0'                NOT USED FOR SYSTEM         @D52VDMZ 01091000
         DC    F'0'                ADDR OF ALLOCATED SAACOMM   @D52VDMZ 01092000
         DC    F'0'                PTR TO USER CONTROL BLOCK   @D52VDMZ 01093000
         DC    F'0'               NUMBER USED FOR GEN. OF DSNAM@D52VDMZ 01094000
         DC    F'0'               NUMBER OF OWNED DATA SPACES  @D52VDMZ 01095000
         DC    F'0'                NO OF PAGE IN PER PART.     @D52VDMZ 01096000
         DC    F'0'                UNIQUE ID OF DYN. PART.     @D52VDMZ 01097000
         DC    F'0'                ADDRESS OF TRACE TABLE      @D61HDMZ 01098000
         DC    F'0'                CONTROL REGISTER 9          @D61HDMZ 01099000
         DC    F'0'                CONTROL REGISTER 10         @D61HDMZ 01100000
         DC    F'0'                CONTROL REGISTER 11         @D61HDMZ 01101000
         DC    F'0'                DSPACE SET BY EXEC          @D61NDMZ 01102000
         DC    A(0)                ADDRESS OF RELATED TSCP     @D61NDMZ 01103000
         DC    A(ARPCBX)           ADDR OF PCB EXTENSION       @D64ADMZ 01104000
         DC    F'0'                RESERVED FOR FUTURE USE     @D61NDMZ 01105000
         DC    F'0'                PTR TO POST EXIT QUEUE      @D61ADMZ 01106000
         DC    F'0'                RESERVED FOR FUTURE USE     @D61NDMZ 01107000
         DC    F'0'                RESERVED FOR FUTURE USE     @D61NDMZ 01108000
         DC    F'0'                RESERVED FOR FUTURE USE     @D61NDMZ 01109000
         MAPPCE DSECT=NO,LG=AR                                 @D51IDMZ 01110000
&Y       SETA  &NPART                                          @D34UDFR 01111000
&PCBLEN  SETC  'PCBLNG'                                        @D14ZDJB 01112000
.PCBLOOP ANOP                                                  @D34UDFR 01113000
&C       SETC  '&P(&Y)'                                        @D36IDFR 01114000
         SPACE 2                                               @D36IDFR 01115000
&C.PCB   DC    0D'0'                                           @D36IDFR 01116000
         SPACE 1                                               @D36IDFR 01117000
         DC    AL2(&PCBLEN)       PCB LENGTH                   @D14ZDJB 01118000
         DC    B'00000000'        PCBFLAG                      @D51IDMZ 01119000
         DC    X'00'              RESERVED                     @D14BDFR 01120000
&Z       SETA  30-&NPART+&Y                                    @D14BDFR 01121000
         DC    FS&Z'1'            PARTITIONS PRIORITY MASK     @D14BDFR 01122000
         DC    F'0'               ADDR OF NEXT PCB IN CLASS    @D51IDMZ 01123000
         DC    AL2(&Y)            PCBID RELATNG.TO CLASS PIK/16@D51IDMZ 01124000
         DC    AL2(31)            MAX NUMBER OF SUB-TASKS      @D66ODOW 01125000
         DC    F'0'               REACTIVATION COUNT           @D51IDMZ 01126000
         DC    F'0'               TIME COUNTER FOR PBAL AND JA @D14BDFR 01127000
         DC    F'0'               INITIAL VALUE OF PBAL TIME   @D14BDFR 01128000
         DC    A(SYSPCB)          POINTER FOR TIME ACCOUNTING  @D14BDFR 01129000
         DC    AL2(&Y*16)         PARTITION PIK                @D14BDRP 01130000
         DC    H'0'               ACTIVE LENTHCODE OF TIDSTR   @D14BDFR 01131000
         DC    F'0'               RESERVED                     @D66ODOW 01132000
         DC    X'80000000'  *###  PCBIMASK                     @D66ODOW 01133000
         DC    AL1(&C.TID),31X'00' TASK IDENTIFIERS            @D36IDFR 01134000
         SPACE 1                                               @D36IDFR 01135000
         DC    F'0'               VIRT. ADDR OF PASN-AL OF PAR.@D52VDMZ 01136000
         DC    H'0'               NUMBER OF SUBTASKS           @D14BDFR 01137000
         DC    H'0'               ID OF CDLD OWNER             @D14BDFR 01138000
         AIF   ('&C' EQ 'BG').BGPASCB                          @D14NDFG 01139000
         DC    A(0)               A(SCB OF ALLOCATION SPACE)   @D14NDFG 01140000
         DC    A(0)               A(SCB OF ACTIVE SPACE)       @D14NDFG 01141000
         AGO   .NOPASCB                                        @D14NDFG 01142000
.BGPASCB ANOP                                                  @D14NDFG 01143000
         DC    A(SCB0)            A(SCB OF ALLOCATION SPACE)   @D52VDMZ 01144000
         DC    A(SCB0)            A(SCB OF ACTIVE SPACE)       @D52VDMZ 01145000
.NOPASCB ANOP                                                  @D14NDFG 01146000
         SPACE 1                                               @D369DFR 01147000
*        BEGIN OF PARTITION SMCB ENTRY                         @D369DFR 01148000
&C.SMCB  DS    0F                                              @D365DFR 01149000
         DC    2F'0'               PART. PFIX (24 BIT) COUNTERS@D52VDMZ 01150000
         DC    2F'0'               PART. PFIX (31 BIT) COUNTERS@D52VDMZ 01151000
         DC    F'0'                MAINTASK SAVEAREA ADDRESS   @D365DFR 01152000
         DC    F'0'                PART.GETVIS AREA ADDRESS    @D365DFR 01153000
         DC    F'0'                BEG.ADDR.OF VIRT.PARTITION  @D365DFR 01154000
         DC    F'0'                END ADDR.OF VIRT.PARTITION  @D365DFR 01155000
         DC    F'0'                BEG.ADDR.OF REAL PARTITION  @D14BDFG 01156000
         DC    F'0'                END ADDR.OF REAL PARTITION  @D14BDFG 01157000
*        END OF PARTITION SMCB ENTRY                           @D369DFR 01158000
         SPACE 1                                               @D369DFR 01159000
         DC    F'0'               END ADDR.+1 OF USER KEY AREA @D14BDFG 01160000
         DC    X'00'              SUBSYSTEM COUNTER            @D35XDFG 01161000
         DC    X'00'              SUBSYSTEM PROPERTIES FLAG BYT@D31LDMZ 01162000
         DC    X'0000'            SUBSYSTEM FLGA BYTES         @D36IDFR 01163000
         DC    F'0'               1ST CHKPT.PAGE NOT YET HANDL.@D36IDFR 01164000
         DC    H'0'               REMAIN.NUMB.OF PFIXED PAGES  @D36IDFR 01165000
         DC    H'0'               REACTIVATION COUNTER         @D36IDFR 01166000
         DC    F'0'               PTR TO OC-EXIT CNTRL BLOCK   @D64ADOW 01167000
         DC    6F'0'              RESERVED, MAINTAIN PCB L-OUT @D64ADOW 01168000
         DC    6F'0'              ACCOUNTING TIME COUNTERS     @D14BDFR 01169000
         DC    X'80',AL3(*-1),AL1(GTVBND),AL1(PARTQ)           @D14BDFR 01170000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01171000
         DC    X'80',AL3(*-1),AL1(CDLBND),AL1(PARTQ)           @D14BDFR 01172000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01173000
         DC    X'80',AL3(*-1),AL1(PFXBND),AL1(PARTQ)           @D14BDFR 01174000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01175000
         DC    X'80',AL3(*-1),AL1(IVMTSBND),AL1(PARTQ+NORDY)   @D31ZDMZ 01176000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01177000
         DC    X'80',AL3(*-1),AL1(DYSGVBND),AL1(PARTQ)         @D51IDMZ 01178000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01179000
         DC    X'80',AL3(*-1),AL1(PTERMBND),AL1(PARTQ)         @D52VDMZ 01180000
         DC    AL1(FREEBIT),X'0'                               @D66ODOW 01181000
         DC    F'0'               ADDR.OF USAGE AND SIO CNTRS  @D14BDFG 01182000
         DC    A(&C.PHOTIB)       ADDRESS OF PHO TIB           @D51IDMZ 01183000
         DC    F'0'               UNUSED                       @D31LDMZ 01184000
         DC    2F'0',X'00'        FIELDS USED BY PFIX ROUT.    @D14NDFG 01185000
         DC    2X'00'             RESERVED                     @D14NDFG 01186000
         DC    X'00'              TASKS WITH OPEN VTAM ACB'S   @D36ZDFG 01187000
         DC    F'0'               PTR TO PARTITION IAF CB      @D31ZDMZ 01188000
         DC    F'0'               PTR TO DYN.SPACE CONTROL INF.@D51IDMZ 01189000
         DC    CL6'IJBP&C',AL2(0)  DEF.  SUBPOOL ID FOR STATIC AND     *01190000
                                  DYNAMIC PARTITIONS IN SVA    @D51IDMZ 01191000
         AIF   ('&C' EQ 'BG').GPCBAST                          @D64XDMZ 01192000
         DC    A(0)               VIRT. ADDR OF ASTE OF PART.  @D64XDMZ 01193000
         DC    A(0)               REAL ADDR OF ASTE OF PART.   @D64XDMZ 01194000
         AGO   .GPCBASC                                        @D64XDMZ 01195000
.GPCBAST ANOP                                                  @D64XDMZ 01196000
         DC    A(ASTE$&C.)        VIRT. ADDR OF ASTE OF PART.  @D52VDMZ 01197000
         DC    A(ASTE$&C.)        REAL ADDR OF ASTE OF PART.   @D52VDMZ 01198000
.GPCBASC ANOP                                                  @D64XDMZ 01199000
         DC    A(&C.PCB)          A(CLASS PCB)=A(PCB) F.STAT.PA@D51IDMZ 01200000
         DC    F'0'               ADDR OF PREV. PCB IN CLASS   @D51IDMZ 01201000
         DC    F'0'               MASK FOR POSTITION OF PARTITION      *01202000
                                  WITHIN CLASS                 @D51IDMZ 01203000
         DC    X'00'              PRTY OF PART. WHEN PR. SADUMP@D51IDMZ 01204000
         DC    X'00'              PARTITION GETVIS FLAG        @D52VDMZ 01205000
         DC    X'00'              PRTY WHEN PRINT DATA SP. DUMP@D52VDMZ 01206000
         DC    X'00'              RESERVED                     @D52VDMZ 01207000
         DC    F'0'               ADDR OF SGETVIS RETURN ADDR  @D51IDMZ 01208000
         DC    2F'0'              REPLICA QUEUE HEADER         @D51IDMZ 01209000
         DC    F'0'               TOTOL SIO COUNT SINCE IPL    @D51IDMZ 01210000
         DC    F'0'               TOTOL SIO UP TO LAST ACC.INT.@D51IDMZ 01211000
         DC    F'0'               START OF NON FIXED CTRL BLOCK@D51IDMZ 01212000
         DC    6F'0'              PFIX/PFREE AREA              @D51IDMZ 01213000
         DC    F'0'               ADDR OF POSL OF PART.-F.SWAP.@D52VDMZ 01214000
         DC    F'0'               ADDR OF RPSL OF PART.-F.SWAP.@D52VDMZ 01215000
         DC    F'0'               ADDR OF ALLOCATED SAACOMM    @D52VDMZ 01216000
         DC    F'0'               PTR TO USER CONTROL BLOCK    @D52VDMZ 01217000
         DC    F'0'               NUMBER USED FOR GEN. OF DSNAM@D52VDMZ 01218000
         DC    F'0'               NUMBER OF OWNED DATA SPACES  @D52VDMZ 01219000
         DC    F'0'               NO OF PAGE IN PER PART.      @D52VDMZ 01220000
         DC    F'0'               UNIQUE ID OF DYN. PARTITION  @D52VDMZ 01221000
         DC    F'0'               ADDRESS OF TRACE TABLE       @D61NDMZ 01222000
         DC    F'0'               CONTROL REGISTER 9           @D61NDMZ 01223000
         DC    F'0'               CONTROL REGISTER 10          @D61NDMZ 01224000
         DC    F'0'               CONTROL REGISTER 11          @D61NDMZ 01225000
         DC    F'0'               DSPACE SET BY EXEC           @D61NDMZ 01226000
         DC    F'0'               ADDRESS OF RELATED TSCP      @D61RDMZ 01227000
         AIF   ('&C' EQ 'BG').BGPCBX                           @D64ADMZ 01228000
         DC    F'0'               ADDR OF PCB EXTENSION        @D61NDMZ 01229000
         AGO   .BGPCBX1                                        @D64ADMZ 01230000
.BGPCBX  ANOP                                                  @D64ADMZ 01231000
         DC    A(BGPCBX)          ADDR OF PCB EXTENSION        @D64ADMZ 01232000
.BGPCBX1 ANOP                                                  @D64ADMZ 01233000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01234000
         DC    F'0'               PTR TO POST EXIT QUEUE       @D61ADMZ 01235000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01236000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01237000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01238000
         MAPPCE DSECT=NO,LG=&C                                 @D51IDMZ 01239000
&Y       SETA  &Y-1                                            @D36IDFR 01240000
         AIF   (&Y GT 0).PCBLOOP                               @D34UDFR 01241000
         SPACE 2                                               @D36IDFR 01242000
**************************************************************          01243000
*                                                            *          01244000
*        PHO TIBS                                            *          01245000
*                                                            *          01246000
**************************************************************          01247000
&Y       SETA  &NPART                                          @D51IDMZ 01248000
.PHOLOOP ANOP                                                  @D51IDMZ 01249000
&C       SETC  '&P(&Y)'                                        @D51IDMZ 01250000
         SPACE 2                                               @D51IDMZ 01251000
&C.PHOTIB DC    F'0'              CHAIN                        @D51IDMZ 01252000
         DC    F'0'               INFORMATION ABOUT BOUND COND.@D36IDFR 01253000
         DC    F'0'                                            @D52VDMZ 01254000
         DC    X'00'              TYPE OF PAGE I/O REQUEST     @D52VDMZ 01255000
         DC    X'80'              PHO FLAG                     @D36IDFR 01256000
         DC    X'00'              FLAG BYTE                    @D52VDMZ 01257000
         DC    X'00'              RESERVED                     @D52VDMZ 01258000
         DC    F'0'               PAGE I/O INFO                @D14BDRP 01259000
         DC    H'0'               ID OF PHO OWNER TASK         @D36IDFR 01260000
         DC    H'0'               PIK OF PHO PARTITION         @D14BDRP 01261000
         DC    A(&C.PCB)          PARTITION PCB                @D61RDMZ 01262000
         DC    F'0'               PAGE FAULT ADDRESS           @D61RDMZ 01263000
         DC    F'0'               SCB WH.PAGE I/O REQ. BELONGS @D52VDMZ 01264000
         DC    F'0'               ADDR OF PHO EXIT AREA        @D52VDMZ 01265000
&Y       SETA  &Y-1                                            @D51IDMZ 01266000
         AIF   (&Y GT 0).PHOLOOP                               @D51IDMZ 01267000
         SPACE 2                                               @D36IDFR 01268000
************************************************************** @D36IDFR 01269000
*                                                            * @D36IDFR 01270000
*        TASK INFORMATION BLOCKS                             * @D36IDFR 01271000
*                                                            * @D36IDFR 01272000
************************************************************** @D36IDFR 01273000
         SPACE 2                                               @D36IDFR 01274000
*  SYSTEM TASK INFORMATION BLOCKS                              @D36IDFR 01275000
         SPACE 1                                               @D36IDFR 01276000
&X       SETA  0                                               @D36IDFR 01277000
&Y       SETA  0                                               @D36IDFR 01278000
.SYSTIB  ANOP                                                  @D36IDFR 01279000
&X       SETA  &X+1                                            @D36IDFR 01280000
         AIF   ('&CGN(&X)' EQ '').RETTIB0                      @D36IDFR 01281000
&C       SETC  '&CGN(&X)'                                      @D36IDFR 01282000
         AGO   .GENTIB                                         @D36IDFR 01283000
.RETTIB0 AIF   (&X LT &NSYST).SYSTIB                           @D36IDFR 01284000
         SPACE 2                                               @D36IDFR 01285000
*  MAINTASK INFORMATION BLOCKS                                 @D36IDFR 01286000
         SPACE 1                                               @D36IDFR 01287000
&X       SETA  0                                               @D36IDFR 01288000
&Y       SETA  1                                               @D36IDFR 01289000
.MAINTIB ANOP                                                  @D36IDFR 01290000
&X       SETA  &X+1                                            @D36IDFR 01291000
&C       SETC  '&P(&X)'                                        @D36IDFR 01292000
         SPACE 2                                               @D36IDFR 01293000
.GENTIB  ANOP                                                  @D36IDFR 01294000
         SPACE 1                                               @D36IDFR 01295000
&C.TIB   DC    0D'0'              TASK INFORMATION BLOCK       @D14BDFR 01296000
         DC    F'0'               CHAIN POINTER                @D14BDFR 01297000
         DC    F'0'               BOUND COND.DESCRIPTOR        @D36IDFR 01298000
         DC    A(&C.TCB)          TCB POINTER                  @D52VDMZ 01299000
         DC    X'00'              TYPE OF PAGE I/O REQUEST     @D52VDMZ 01300000
         AIF   (&Y EQ 0).SYSCODE                               @D14BDFG 01301000
         DC    X'00'              FLAG BYTE                    @D14BDFG 01302000
         AGO   .TIBTCB                                         @D14BDFG 01303000
.SYSCODE DC    AL1(SYSACT)        FLAG BYTE                    @D14BDFG 01304000
.TIBTCB  ANOP                                                           01305000
         DC    X'00'              FLAG BYTE                    @D52VDMZ 01306000
         DC    X'00'              TERM/DUMP/TRACE I/F FLAG     @D61NDMZ 01307000
         DC    F'0'               PAGE I/O INFO                @D14BDRP 01308000
         DC    Y(&C.TID)          TASK ID/REQUESTORS TID       @D36IDFR 01309000
         AIF   (&Y NE 1).NORPIK                                @D36IDFR 01310000
         DC    AL2(&X*16)         REQUESTORS PIK               @D36IDFR 01311000
         AGO   .RPIKOK                                         @D36IDFR 01312000
.NORPIK  ANOP                                                  @D36IDFR 01313000
         DC    H'0'               REQUESTORS PIK               @D36IDFR 01314000
.RPIKOK  ANOP                                                  @D36IDFR 01315000
         AIF   (&Y EQ 1).USPCBPT                               @D36IDFR 01316000
         DC    A(SYSPCB)          SYSTEM PCB.POINTER           @D36IDFR 01317000
         AGO   .PCBPTOK                                        @D36IDFR 01318000
.USPCBPT ANOP                                                  @D36IDFR 01319000
         DC    A(&C.PCB)          POINTER TO PART.CTL.BLOCK    @D36IDFR 01320000
.PCBPTOK ANOP                                                  @D36IDFR 01321000
         AIF   (&Y NE 0).NOSPRTY                               @D36IDFR 01322000
         DC    F'0'               MUST BE ZERO FOR SYST. TASKS @D64ADMZ 01323000
         AGO   .TPRTYOK                                        @D36IDFR 01324000
.NOSPRTY ANOP                                                  @D36IDFR 01325000
         DC    X'80000000'  *###  UNIQUE TASK IDENTIF.IN PART. @D66ODOW 01326000
.TPRTYOK ANOP                                                  @D36IDFR 01327000
         DC    F'0'               SCB WH. PAGE I/O REQ. BELONGS@D52VDMZ 01328000
         DC    F'0'               ADDR OF PHO EXIT AREA        @D52VDMZ 01329000
         DC    X'00'              DISPATCHER EXIT FLAGS        @D36IDFR 01330000
         AIF   (&Y NE 0).NOJABIT                               @D36IDFR 01331000
         DC    B'00&BLJAFL(&X).00000' FLAGS                    @D36IDFR 01332000
         AGO   .OKJABIT                                        @D36IDFR 01333000
.NOJABIT ANOP                                                  @D36IDFR 01334000
         DC    X'00'              FLAGS                        @D36IDFR 01335000
.OKJABIT ANOP                                                  @D36IDFR 01336000
         DC    X'00'              FIRST CANCEL CODE            @D36IDFR 01337000
         DC    X'00'              SECOND (LAST) CANCEL CODE    @D36IDFR 01338000
         AIF   ('&C' EQ 'FCP').PMRST                           @D68DDOW 01339000
         AIF   ('&C' EQ 'PMR').PMRST                           @KD40355 01340000
         AIF   ('&C' EQ 'AR').PMRST                            @DELETE  01341000
         DC    AL1(NOTACT)        TASK STATUS                  @D14BDFR 01342000
         AGO   .PMRSTC                                         @KD40355 01343000
.PMRST   ANOP                                                  @KD40355 01344000
         DC    AL1(WAITBND)       PMR TASK STATUS              @KD40355 01345000
.PMRSTC  ANOP                                                  @KD40355 01346000
         DC    X'00'              FLAG BYTE                    @D14NDFG 01347000
         DC    X'00'              TERMINATOR CANCEL CODE       @D14NDFG 01348000
         DC    X'00'              EXIT FLAG                    @D14NDFG 01349000
         AIF   ('&C' EQ 'SNS').ISSNS                           @D64ADOW 01350000
         DC    XL8'00'            TOD VALUE                    @D64ADOW 01351000
         AGO   .NOSNS                                          @D64ADOW 01352000
.ISSNS   ANOP                                                  @D64ADOW 01353000
         DC    XL8'FFFFFFFFFFFFFFFF' TOD VALUE                 @D64ADOW 01354000
.NOSNS   ANOP                                                  @D64ADOW 01355000
         DC    F'0'               SCB POINTER OF ACTIVE SPACE  @D14NDFG 01356000
         DC    F'0'               ANCHOR OF CRCB CHAIN         @D31BDMZ 01357000
         DC    H'0'               PIK OF PARTITION TO BE HOLD  @D51IDMZ 01358000
         DC    H'0'               EXTENDED AUTHORIZATION INDEX @D51GDMZ 01359000
         DC    XL8'00'            ORM RECORD ADDRESS           @D51IDMZ 01360000
         DC    F'0'               ANCH OF DISP EXIT REQ.QUE(FW)@D52VDMZ 01361000
         DC    F'0'               ANCH OF DISP EXIT REQ.QUE(BW)@D52VDMZ 01362000
         DC    F'0'               SAVED TIBSCB (WHEN SPACE SW.)@D52VDMZ 01363000
         DC    F'0'               SRQ ADDR OF CROSS.PART.GATE  @D52VDMZ 01364000
         DC    F'0'               REAL ADDRESS OF DUCT         @D52VDMZ 01365000
         DC    X'00'              FLAG BYTE 5                  @D52VDMZ 01366000
         DC    X'000000'          RESERVED FOR FUTURE USE      @D52VDMZ 01367000
         DC    F'0'               NEXT IN TIMER CHAIN          @D64ADOW 01368000
         AIF   (&Y EQ 0).SYSEKM   HANDLE SYSTEM TASKS          @D61PDOW 01369000
         AIF   ('&C' EQ 'BG').BGEKM                            @D61PDOW 01370000
         DC    XL4'00000000'      PROGRAM KEY MASK             @D61PDOW 01371000
         AGO   .NSYSEKM                                        @D61PDOW 01372000
.BGEKM   ANOP                                                  @D61PDOW 01373000
         DC    XL4'40000000'      PROGRAM KEY MASK FOR BG      @D61PDOW 01374000
         AGO   .NSYSEKM                                        @D61PDOW 01375000
.SYSEKM  ANOP                                                  @D61PDOW 01376000
         DC    XL4'80000000'      PROGRAM KEY MASK FOR SYST    @D61PDOW 01377000
.NSYSEKM ANOP                                                  @D61PDOW 01378000
         DC    F'0'               TASK'S TSCT ADDRESS          @D61NDMZ 01379000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01380000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01381000
         DC    F'0'               RESERVED FOR FUTURE USE      @D61NDMZ 01382000
         AIF   (&Y EQ 0).RETTIB0                               @D36IDFR 01383000
         AIF   (&X LT &NPART).MAINTIB                          @D14BDFR 01384000
         ORG   BGTIB+TIBRQID-TIBADR                            @D14BDFR 01385000
         DC    AL1(READY)                                      @D14BDFR 01386000
         ORG   BGTIB+TIBSCB-TIBADR                             @D14NDFG 01387000
         DC    A(SCB0)            INITIAL SCOPE OF BG MAINTASK @D52VDMZ 01388000
         ORG   ,                                               @D14BDFR 01389000
         SPACE 2                                               @D36IDFR 01390000
************************************************************** @D36IDFR 01391000
*                                                            * @D36IDFR 01392000
*        TASK CONTROL BLOCKS                                 * @D36IDFR 01393000
*                                                            * @D36IDFR 01394000
************************************************************** @D36IDFR 01395000
         SPACE 1                                               @D369DEM 01396000
*  BTAM-2ND-TIME-AROUND TCB                                    @D369DEM 01397000
BTMTCB   DC    XL(TCBWLEN)'00'                                 @D36IDFR 01398000
         SPACE 2                                               @D36IDFR 01399000
*  SYSTEM TASK CONTROL BLOCKS                                  @D36IDFR 01400000
         SPACE 1                                               @D36IDFR 01401000
&X       SETA  0                                               @D36IDFR 01402000
&Y       SETA  0                                               @D36IDFR 01403000
.SYSTCB  ANOP                                                  @D36IDFR 01404000
&X       SETA  &X+1                                            @D36IDFR 01405000
         AIF   ('&CGN(&X)' EQ '').RETTCB0                      @D36IDFR 01406000
&C       SETC  '&CGN(&X)'                                      @D36IDFR 01407000
         AGO   .GENTCB                                         @D36IDFR 01408000
.RETTCB0 AIF   (&X LT &NSYST).SYSTCB                           @D36IDFR 01409000
         SPACE 1                                               @D36IDFR 01410000
*  MAINTASK CONTROL BLOCKS                                     @D36IDFR 01411000
         SPACE 1                                               @D36IDFR 01412000
&X       SETA  0                                               @D36IDFR 01413000
&Y       SETA  1                                               @D36IDFR 01414000
.MAINTCB ANOP                                                  @D36IDFR 01415000
&X       SETA  &X+1                                            @D36IDFR 01416000
&C       SETC  '&P(&X)'                                        @D36IDFR 01417000
.GENTCB  ANOP                                                  @D36IDFR 01418000
         SPACE 1                                               @D36IDFR 01419000
&C.TCB   DC    0D'0'              TASK CONTROL BLOCK           @D36IDFR 01420000
         DC    AL2(&C.TCBE-*)     LENGTH OF TCB                @D36IDFR 01421000
         DC    X'00'              SUBSYSTEM FLAG               @D14BDFG 01422000
         DC    X'00'              SERVICE ROUTINE IDENTIFIER   @D36IDFR 01423000
         DC    H'0'               ID.OF ATTACHING TASK         @D36IDFR 01424000
         DC    X'00'              TCBFLAGS                     @D36IDFR 01425000
         AIF   (&Y NE 0).PAGEOK                                @D36IDFR 01426000
         AIF   ('&C' EQ 'SNS').NOPAGE                          @D36IDFR 01427000
         AIF   ('&C' EQ 'DSK').NOPAGE                          @D36IDFR 01428000
         AIF   ('&C' EQ 'PMR').NOPAGE                          @D36IDFR 01429000
         AIF   ('&C' EQ 'RAS').NOPAGE                          @D36IDFR 01430000
.PAGEOK  ANOP                                                  @D36IDFR 01431000
         DC    X'00'              TCBFLAG2                     @D36IDFR 01432000
         AGO   .FL2OK                                          @D36IDFR 01433000
.NOPAGE  ANOP                                                  @D36IDFR 01434000
         DC    AL1(NOPAGING)      TCBFLAG2                     @D36IDFR 01435000
.FL2OK   ANOP                                                  @D36IDFR 01436000
         DC    A(&C.TIB)          TIB POINTER                  @D36IDFR 01437000
         AIF   ('&C' EQ 'BG').ABGSAV                           @D36IDFR 01438000
         AIF   (&Y NE 0).NOSAVAR                               @D36IDFR 01439000
         DC    A(&C.SAVAR)        POINTER TO TASKS SAVE AREA   @D36IDFR 01440000
         AGO   .ASAV2                                          @D36IDFR 01441000
.NOSAVAR ANOP                                                  @D36IDFR 01442000
         DC    F'0'               POINTER TO TASKS SAVEAREA    @D36IDFR 01443000
         AGO   .ASAV2                                          @D36IDFR 01444000
.ABGSAV  DC    A(PPBEGIN)         POINTER TO BG SAVEAREA       @D36IDFR 01445000
.ASAV2   ANOP                                                  @D36IDFR 01446000
         DC    F'0'               INTERRUPT INFORMATION        @D36IDFR 01447000
         AIF   (&Y NE 0).NOSTASK                               @D14CDFG 01448000
         AIF   ('&C' EQ 'CST').ERREXIT                         @D51IDMZ 01449000
         AIF   ('&C' EQ 'HCF').ERREXIT                         @D51IDMZ 01450000
         AIF   ('&C' EQ 'AR').ERREXIT                          @D61NDMZ 01451000
         AIF   ('&C' EQ 'SUP').ERREXIT                         @D36IDFR 01452000
         AIF   ('&C' EQ 'DIR').ERREXIT                         @D14BDFG 01453000
         AIF   ('&C' EQ 'ERP').ERREXIT                         @DA27551 01454000
         AIF   ('&C' EQ 'DSP').ERREXIT                         @D61NDMZ 01455000
         AIF   ('&C' EQ 'SPT').ERREXIT                         @D31EMMZ 01456000
         AIF   ('&C' NE 'LOG').NOERREX                         @D14BDFG 01457000
.ERREXIT ANOP                                                  @D36IDFR 01458000
         DC    A(&C.ERRAD)        ERROR EXIT POINTER           @D36IDFR 01459000
         AIF   ('&C' EQ 'CST').CSTEXIT                         @D61NDMZ 01460000
         AIF   ('&C' EQ 'SPT').SPTEXIT                         @D31EMMZ 01461000
         AIF   ('&C' NE 'LOG').STERBLK                         @D14CDFG 01462000
LOGERRAD EQU   ERRGO1                                          @D14CDFG 01463000
         AGO   .STERBLK                                        @D14CDFG 01464000
.CSTEXIT ANOP                                                  @D31EMMZ 01465000
CSTERRAD EQU   ERRGO1                                          @D61NDMZ 01466000
         AGO   .STERBLK                                        @D31EMMZ 01467000
.SPTEXIT ANOP                                                  @D31EMMZ 01468000
SPTERRAD EQU   ERRGO1                                          @D31EMMZ 01469000
         AGO   .STERBLK                                        @D31EMMZ 01470000
.NOERREX ANOP                                                  @D36IDFR 01471000
         DC    A(SYSTSKER)        NO ERR.EXIT, HARD WAIT       @D66ADAP 01472000
.STERBLK AIF   ('&C' EQ 'SNS').NOERBLK                         @D14BDFG 01473000
         AIF   ('&C' EQ 'PGN').NOERBLK                         @D14BDFG 01474000
         DC    A(&C.ERBLK)        PTR TO SYST.TASK ERROR BLOCK @D37BDFG 01475000
         AGO   .TSECSAV                                        @D14CDFG 01476000
.NOERBLK DC    F'0'               NO ERROR BLOCK FOR THIS TASK @D14BDFG 01477000
         AGO   .TSECSAV                                        @D14BDFG 01478000
.NOSTASK DC    2F'0'              NOT USED FOR USER TASKS      @D14CDFG 01479000
.TSECSAV ANOP                                                  @D14BDFG 01480000
         DC    A(&C.SAV2)         ADDRESS OF SPECIAL SAVEAREA  @D14CDFG 01481000
         DC    A(&C.ARSAV)        ADDR OF ACCESS REG. SAVEAREA @D61NDMZ 01482000
         DC    A(&C.AR2SA)        ADDR OF SECOND AR SAVE AREA  @D61NDMZ 01483000
         DC    A(0)               WORK AREA  (USED BY GETVIS)  @D51IDMZ 01484000
         DC    X'00'              EXECUTION FLAG               @D52VDMZ 01485000
         DC    X'00'              INTERNAL EXECUTION FLAG      @D52VDMZ 01486000
         DC    X'00'              GETVIS REQUEST FLAG BYTE     @D52VDMZ 01487000
         DC    X'00'              FLAG BYTE 5                  @D52VDMZ 01488000
         DC    F'0'               USER CONTROL BLOCK           @D52VDMZ 01489000
         DC    A(0)               PTR TO TDSE                  @D52VDMZ 01490000
         DC    A(0)               RESERVED FOR FUTURE USE      @D61PDMZ 01491000
         DC    A(0)               ADDR OF DUMP MSG INFORMTION  @D52VDMZ 01492000
         DC    A(0)               RESERVED FOR FUTURE USE      @D51IDMZ 01493000
         DC    A(0)               RESERVED FOR FUTURE USE      @D61PDOW 01494000
         DC    0D'0'              DOUBLE WORD BOUNDARY         @D14BDFG 01495000
&C.SAV2  EQU    *-8               TASKS SPECIAL SAVEAREA       @D36IDFR 01496000
         DC    2F'0'              SAVE AREA FOR PSW            @D36IDFR 01497000
         DC    16F'0'             SAVE AREA FOR REGISTERS      @D36IDFR 01498000
         DC    XL(TCBWLEN)'00'    TCB WORK AREA                @D14CDFG 01499000
         AIF   ('&C' EQ 'CST').GABEX                           @D64ADMZ 01500000
         AIF   ('&C' EQ 'SPT').GABEX                           @D64ADMZ 01501000
         AIF   ('&C' EQ 'BG').GBGEX                            @D64ADMZ 01502000
         DC    A(0)          PTR AB/ESTAEX/FESTAE/ATTACHX CHAIN@D64ADMZ 01503000
         DC    A(0)          RESERVED FOR RTM                  @D64ADOW 01504000
         DC    A(0)          PTR TO FRR CHAIN                  @D64ADMZ 01505000
         DC    A(0)          PTR TO ESPIE/PC CHAIN             @D64ADMZ 01506000
         AGO   .GCSTEX1                                        @D64ADMZ 01507000
.GABEX   ANOP                                                  @D64ADMZ 01508000
         DC    A(&C.ABBLK)   PTR AB/ESTAEX/FESTAE-CHAIN        @D64ADMZ 01509000
         DC    A(0)          RESERVED FOR RTM                  @D64ADOW 01510000
         DC    A(0)          PTR TO FRR CHAIN                  @D64ADMZ 01511000
         DC    A(0)          PTR TO ESPIE/PC CHAIN             @D64ADMZ 01512000
         AGO   .GCSTEX1                                        @D64ADMZ 01513000
.GBGEX   ANOP                                                  @D64ADMZ 01514000
         DC    A(0)          PTR AB/ESTAEX/FESTAE-CHAIN        @D64ADMZ 01515000
         DC    A(0)          RESERVED FOR RTM                  @D64ADOW 01516000
         DC    A(0)          PTR TO FRR CHAIN                  @D64ADMZ 01517000
         DC    A(&C._PCBLK)  PTR TO ESPIE/PC CHAIN             @D64ADMZ 01518000
.GCSTEX1 ANOP                                                  @D64ADMZ 01519000
         DC    X'00'         FLAG BYTE                         @D64ADOW 01520000
         DC    X'00'         FLAG BYTE                         @D64ADOW 01521000
         DC    X'00'         FLAG BYTE                         @D64ADOW 01522000
         DC    X'00'         SAVE AREA                         @D64ADOW 01523000
         DC    A(0)          RESERVED                          @D64ADMZ 01524000
         DC    A(0)          RESERVED                          @D64ADMZ 01525000
         DC    A(0)          EOT CONTINUATION ADDRESS          @D14CDFG 01526000
         AIF   ('&C' NE 'AR').GENAOT                           @DA30518 01527000
APSTAB   DS    0F                 ATTENTION AOT                @DA30518 01528000
.GENAOT  ANOP                                                  @DA30518 01529000
         DC    4F'0'              VTAM CONTROL BLOCK           @D36IDFG 01530000
         DC    F'0'               ADDRESS OF ATTACH ECB        @D14BDFG 01531000
         DC    H'0'               DEDICATED GETVIS SUBPOOL     @D14CDFG 01532000
         DC    H'0'               RESERVED                     @D14CDFG 01533000
         DC    X'00'              IAF ENTERED BY SUPERVI.HOOK  @D31ZDMZ 01534000
         DC    X'00'              DYNAMIC CLASS SERVICE FLAG   @D51IDMZ 01535000
         DC    X'00'              SERVICE PROCESSOR TASK FLAGS @D31EMMZ 01536000
         DC    X'00'              RESERVED FOR FUTURE USE      @D51IDMZ 01537000
         DC    F'0'               SAVED CURRENT SCB POINTER    @D52VDMZ 01538000
         DC    F'0'               RESERVED FOR FUTURE USE      @D51IDMZ 01539000
         AIF   (&Y NE 0).TCBOK                                 @D14CDFG 01540000
         AIF   ('&C' EQ 'AR').GENTCB4                          @D14BDFG 01541000
         AIF   ('&C' EQ 'DSP').GENTCB4                         @D61NDMZ 01542000
         AIF   ('&C' EQ 'SPT').GENTCB4                         @D31EMMZ 01543000
         AIF   ('&C' EQ 'CST').GENTCB4                         @D61NDMZ 01544000
         AIF   ('&C' EQ 'HCF').GENTCB4                         @D61NDMZ 01545000
         AIF   ('&C' NE 'LOG').TCBOK                           @D14BDFG 01546000
.GENTCB4 DC    A(&C.STADR)        ADDR.OF DEACTIVATION ROUTINE @D14BDFG 01547000
         AGO   .TCBOK1                                         @D61DDMZ 01548000
.TCBOK   ANOP                                                  @D36IDFR 01549000
         DC    A(0)               NO DEACTIVATION ROUTINE      @D61DDMZ 01550000
.TCBOK1  ANOP                                                  @D36IDFR 01551000
         DC    A(&C.TCBX)         ADDR OF TCB EXTENSION        @D61DDMZ 01552000
         DC    F'0'               SVC INTERR.INFO FOR MVS SERV.@D61NDMZ 01553000
         DC    F'0'               ADDR LOAD LIST ELEMENTS      @D64ADVB 01554000
         DC    F'0'               LTA PRODEXIT ARAE POINTER    @D61NDMZ 01555000
         DC    F'0'               LANG. ENV. CEL ANCHOR VECTOR @D61NDMZ 01556000
         DC    X'00'              EXIT FLAG BYTE               @D61NDMZ 01557000
         DC    X'00'              VENDOR EXIT FLAG BYTE        @D61NDMZ 01558000
         DC    X'0000'            SAVE AREA FOR CURRENT RID    @D61NDMZ 01559000
         DC    X'0000'            SAVE (SAVED CURRENT RID)     @D61NDMZ 01560000
         DC    H'0'               SAVED TCBSCRID WHEN FAST SVC @D61NDMZ 01561000
         DC    F'0'               ANCHOR FOR JOB/TASK REL.SP.LS@D61NDMZ 01562000
         DC    XL36'00'           RESERVED FOR FUTURE USE      @D64ADMZ 01563000
&C.TCBE  EQU   *                  END OF CTL.BLOCK TCB         @D36IDFR 01564000
         AIF   (&Y GT 0).NEXTTCB                               @D37BDFG 01565000
         AIF   ('&C' EQ 'SNS').NEXTTCB                         @D37BDFG 01566000
         AIF   ('&C' EQ 'PGN').NEXTTCB                         @D37BDFG 01567000
&C.ERBLK DC    0F'0'              FORCE WORD BOUNDARY          @D21IDAP 01568000
         DC    XL(ERRQSNS-ERBLKADR+ERRQSNSM)'00'               @D21IDAP 01569000
         ORG   &C.ERBLK+ERBLKFLG-ERBLKADR                      @D21IDAP 01570000
         DC    AL1(HQERBLK)       INDICATE HEAD QUEUE ERR.ENTRY@D21IDAP 01571000
         ORG   &C.ERBLK+ERBLKSNL-ERBLKADR                      @D21IDAP 01572000
         DC    AL1(ERRQSNSM)      NUMBER OF SENSE BYTES ALLOC. @D21IDAP 01573000
         ORG   ,                                               @D21IDAP 01574000
.NEXTTCB ANOP                                                  @D37BDFG 01575000
.* GENERATE TCB EXTENSION FOR SYSTEM TASKS AND STATIC PART.    @D61DDMZ 01576000
         AIF   (&Y EQ 0).GTCBEX2  SYSTEM TASK                  @D61ADMZ 01577000
.GTCBEX1 ANOP                     GENERATE TCB EXTENSION       @D61NDMZ 01578000
         MAPTCBX DSECT=NO,LG=&C,SYS=NO                         @D61DDMZ 01579000
         AGO   .GTCBEX3                                                 01580000
.GTCBEX2 ANOP                                                  @D61NDMZ 01581000
         MAPTCBX DSECT=NO,LG=&C,SYS=YES                        @D61ADMZ 01582000
.GTCBEX3 ANOP                                                  @D61NDMZ 01583000
         AIF   (&Y EQ 0).RETTCB0                               @D37BDFG 01584000
         AIF   (&X LT &NPART).MAINTCB                          @D36IDFR 01585000
FINTCB   EQU   *                  END OF TCBS                  @D36ZDEM 01586000
         EJECT                                                          01587000
*  ACCESS REGISTER FIRST SAVE AREA FOR SYSTEM TASKS                     01588000
&X       SETA  0                                               @D61NDMZ 01589000
.SYSARS  ANOP                                                  @D61NDMZ 01590000
&X       SETA  &X+1                                            @D61NDMZ 01591000
         AIF   ('&CGN(&X)' EQ '').SYSNARS                      @D61NDMZ 01592000
&C       SETC  '&CGN(&X)'                                      @D61NDMZ 01593000
&C.ARSAV DS    16F'0'                                          @D61NDMZ 01594000
.SYSNARS ANOP                                                  @D61NDMZ 01595000
         AIF   (&X LT &NSYST).SYSARS                           @D61NDMZ 01596000
*  ACCESS REGISTER FIRST SAVE AREA FOR STATIC PARTITIONS                01597000
&X       SETA  0                                               @D61NDMZ 01598000
.STPARS  ANOP                                                  @D61NDMZ 01599000
&X       SETA  &X+1                                            @D61NDMZ 01600000
&C       SETC  '&P(&X)'                                        @D61NDMZ 01601000
&C.ARSAV DS    16F'0'                                          @D61NDMZ 01602000
         AIF   (&X LT &NPART).STPARS                           @D61NDMZ 01603000
         SPACE 1                                                        01604000
*  VSE PT COMMUNICATION AREA                                   @D51IDMZ 01605000
         MAPPTCOM DSECT=NO        VSE/PT COMMUNICATION AREA    @D51MDMZ 01606000
         SPACE 1                                                        01607000
*  VSE/POWER JOB INFORMATION CONTROL BLOCKS FOR STATIC PARTITIONS       01608000
         SPACE 1                                                        01609000
&X       SETA  0                                               @D51IDMZ 01610000
.GENPJB0 ANOP                                                  @D51IDMZ 01611000
&X       SETA  &X+1                                            @D51IDMZ 01612000
&C       SETC  '&P(&X)'                                        @D51IDMZ 01613000
.GENPJB  ANOP                                                  @D51IDMZ 01614000
         SPACE 1                                               @D51IDMZ 01615000
&C.PJB   DC    XL(PJBLNG)'00'     VSE/POWER JOB INFO. CTL.BLOCK@D51IDMZ 01616000
         AIF   (&X LT &NPART).GENPJB0                          @D51IDMZ 01617000
PWRSYSIT DC    XL32'00'              PWR SYSTEM INFORMATION    @D64ADMZ 01618000
         SPACE 1                                                        01619000
         MAPPCBX DSECT=NO,LG=AR                                @D64ADMZ 01620000
         SPACE 1                                                        01621000
         MAPPCBX DSECT=NO,LG=BG                                @D64ADMZ 01622000
         SPACE 1                                                        01623000
         SUPAVTEX                 SUPAVT EXTENSION             @D52VDMZ 01624000
         EJECT                                                          01625000
*  TABLE OF RESOURCE DESCRIPTORS (SRQTAB) MOVED OUT OF LOWCORE @D61NDMZ 01626000
         SPACE 2                                                        01627000
         SRQTAB DSECT=NO                                       @D61NDMZ 01628000
         SPACE 2                                                        01629000
************************************************************** @D14BDFR 01630000
* DEFAULT CONTROL BLOCKS USED FOR THE INITIALIZATION OF THE    @D51IDMZ 01631000
* DYNAMIC PARTITION CONTROL BLOCKS                             @D51IDMZ 01632000
************************************************************** @D14BDFR 01633000
         MAPPCB  DSECT=NO                                      @D51IDMZ 01634000
         SPACE                                                          01635000
         MAPCOMR DSECT=NO                                      @D51IDMZ 01636000
         SPACE                                                          01637000
         MAPTCB  DSECT=NO                                      @D61NDMZ 01638000
         SPACE                                                          01639000
         MAPTIB  INLINE                                        @D51IDMZ 01640000
         SPACE                                                          01641000
         MAPPIB  DSECT=NO                                      @D51IDMZ 01642000
         SPACE                                                          01643000
         MAPDPCR DSECT=NO                                      @D51IDMZ 01644000
         SPACE                                                          01645000
**************************************************************          01646000
*        DATA SPACE CONTROL BLOCK                                       01647000
**************************************************************          01648000
         SPACE                                                          01649000
DSINFOTB MAPDSINF DSECT=NO                                     @D52VDMZ 01650000
         SPACE 1                                               @D36IDFR 01651000
**************************************************************          01652000
*        FCP ANCHOR TABLE                                               01653000
**************************************************************          01654000
         SPACE                                                          01655000
         ORG   SYSS00+(*+15-SYSS00)/16*16                      @D68CDOW 01656000
         MAPFCP                                                @D68DDMZ 01657000
         SPACE                                                          01658000
**************************************************************          01659000
*        VSE TIQE FOR FCP TASK                                          01660000
**************************************************************          01661000
         SPACE                                                          01662000
FCPTIQE  EXITBDY ,                VSE TIQE FOR FCP TASK        @D68DDOW 01663000
FCPTIQEE DS    0H                                              @D68DDOW 01664000
         ORG   FCPTIQE+EXITLENG-EXITBLK                        @D68DDOW 01665000
         DC    AL2(FCPTIQEE-FCPTIQE)  LENGTH OF TIQE           @D68DDOW 01666000
         ORG   FCPTIQE+TIQIDEN-EXITADR                         @D68DDOW 01667000
         DC    AL2(FCPTID)            ...TASK ID               @D68DDOW 01668000
         ORG   FCPTIQE+EXITFLG1-EXITADR                        @D68DDOW 01671000
         DC    XL1'20'                ...IT-TYPE EXIT          @D68DDOW 01672000
         ORG   FCPTIQE+EXITFLG2-EXITADR                        @D68DDOW 01673000
         DC    XL1'80'                ...VSE TIMER             @D68DDOW 01674000
         ORG   ,                                               @D68DDOW 01675000
         SPACE                                                          01676000
**************************************************************          01677000
*        VSE TIQE FOR SENSE TASK                                        01678000
**************************************************************          01679000
         SPACE                                                          01680000
SNSTIQE  EXITBDY ,                VSE TIQE FOR SENSE TASK      @D64ADJS 01681000
SNSTIQEE DS    0H                                              @D64ADJS 01682000
         ORG   SNSTIQE+EXITLENG-EXITBLK                        @D64ADOW 01683000
         DC    AL2(SNSTIQEE-SNSTIQE)  LENGTH OF TIQE           @D64ADOW 01684000
         ORG   SNSTIQE+TIQIDEN-EXITADR                         @D64ADVB 01685000
         DC    AL2(SNSTID)            ...TASK ID               @D64ADVB 01686000
         ORG   SNSTIQE+TIQOUTT-EXITADR                         @D64ADVB 01687000
         DC    XL8'FFFFFFFFFFFFFFFF'  ...TIMER VALUE           @D64ADVB 01688000
         ORG   SNSTIQE+EXITFLG1-EXITADR                        @D64ADVB 01689000
         DC    XL1'20'                ...IT-TYPE EXIT          @D64ADVB 01690000
         ORG   SNSTIQE+EXITFLG2-EXITADR                        @D64ADVB 01691000
         DC    XL1'80'                ...VSE TIMER             @D64ADVB 01692000
         ORG   ,                                               @D64ADVB 01693000
         SPACE                                                          01694000
**************************************************************          01695000
*        VSE TIQE FOR DISP TASK                                         01696000
**************************************************************          01697000
         SPACE                                                          01698000
DSPTIQE  EXITBDY ,                VSE TIQE FOR DISP  TASK      @D64ADJS 01699000
DSPTIQEE DS    0H                 END OF DISP TASK TIQUE       @D64ADOW 01700000
         ORG   DSPTIQE+EXITLENG-EXITBLK                        @D64ADOW 01701000
         DC    AL2(DSPTIQEE-DSPTIQE)  LENGTH OF TIQE           @D64ADOW 01702000
         ORG   DSPTIQE+TIQIDEN-EXITADR                         @D64ADVB 01703000
         DC    AL2(DSPTID)            .. TASK ID               @D64ADVB 01704000
         ORG   DSPTIQE+EXITFLG1-EXITADR                        @D64ADVB 01705000
         DC    XL1'20'                ...IT-TYPE EXIT          @D64ADVB 01706000
         ORG   DSPTIQE+EXITFLG2-EXITADR                        @D64ADVB 01707000
         DC    XL1'80'                ...VSE TIMER             @D64ADVB 01708000
         ORG   ,                                               @D64ADVB 01709000
         SPACE                                                          01710000
**************************************************************          01711000
*        VSE TIQE FOR LOCK MGR TASK                                     01712000
**************************************************************          01713000
         SPACE                                                          01714000
LCKTIQE  EXITBDY ,                VSE TIQE FOR LOCK MGR TASK   @D64ADJS 01715000
LCKTIQEE DS    0H                 END OF LOCK TASK TIQUE       @D64ADOW 01716000
         ORG   LCKTIQE+EXITLENG-EXITBLK                        @D64ADOW 01717000
         DC    AL2(LCKTIQEE-LCKTIQE)  LENGTH OF TIQE           @D64ADOW 01718000
         ORG   LCKTIQE+TIQIDEN-EXITADR                         @D64ADVB 01719000
         DC    AL2(LCKTID)            .. TASK ID               @D64ADVB 01720000
         ORG   LCKTIQE+EXITFLG1-EXITADR                        @D64ADVB 01721000
         DC    XL1'20'                ...IT-TYPE EXIT          @D64ADVB 01722000
         ORG   LCKTIQE+EXITFLG2-EXITADR                        @D64ADVB 01723000
         DC    XL1'80'                ...VSE TIMER             @D64ADVB 01724000
         ORG   ,                                               @D64ADVB 01725000
         SPACE                                                          01726000
**************************************************************          01727000
*        AB EXIT BLOCK FOR CST TASK                                     01728000
**************************************************************          01729000
         SPACE                                                          01730000
         EXITBDY  NAME=CSTAB,DSECT=NO                          @D64ADOW 01731000
         SPACE                                                          01732000
**************************************************************          01733000
*        AB EXIT BLOCK FOR SPT TASK                                     01734000
**************************************************************          01735000
         SPACE                                                          01736000
         EXITBDY  NAME=SPTAB,DSECT=NO                          @D64ADOW 01737000
         SPACE                                                          01738000
**************************************************************          01739000
*        PC EXIT BLOCK FOR BG                                           01740000
*           GENERATED WITH LENGTH OF ESPIE CONTROL BLOCK                01741000
*           TO ALLOW EMULATION MODE IN BG                               01742000
**************************************************************          01743000
         SPACE                                                          01744000
         EXITBDY  NAME=BG_PC,DSECT=NO                          @D64ADOW 01745000
         SPACE                                                          01746000
         AIF   (NOT &BGDEBUG OR NOT &DISP).NOPRTX1             @D14ZDFG 01747000
         PRINT NOGEN                                           @D14BDFR 01748000
.NOPRTX1 ANOP                                                  @D14BDFR 01749000
         TITLE 'VSE/AF SUPERVISOR  SGLOCK        LOCK MANAGER ROUTINES' 01750000
         SGLOCK                   GENERATE LOCK MANAGER        @D35ZDEM 01751000
         TITLE 'VSE/AF SUPERVISOR  SGNPGR      LUB ALLOCATION SERVICES' 01752000
         SGNPGR                   LUB ALLOCATION SERVICES      @D14BDFG 01753000
         TITLE 'VSE/AF SUPERVISOR  SGACF    ACCESS CONTROL AND LOGGING' 01754000
         SGACF                    ACCESS CONTROL AND LOGGING   @D14CDFG 01755000
         TITLE 'VSE/AF SUPERVISOR  SGSYSD   SYSDEF SVC PROCESSING     ' 01756000
         SGSYSD                   SYSDEF SVC PROCESSING        @D52VDMZ 01757000
         TITLE 'VSE/AF SUPERVISOR  SGXECB  CROSS PARTITION ECB SUPPORT' 01758000
         SGXECB                   CROSS PARTITION ECB-ROUTINE  @D34XDFS 01759000
         TITLE 'VSE/AF SUPERVISOR  SGIUCV         IUCV-VCNA CONNECTION' 01760000
         SGIUCV                                                @D37CDJB 01761000
         SPACE 2                                               @D36ZDEM 01762000
         AIF   ('&CGSEGM' EQ 'CE').SEGDUM1                     @D36ZDEM 01763000
SGPG     DS    0D                                              @DA28061 01764000
         SGPDATA                  PAGE MANAGER DATA AREA       @D52VDRP 01765000
         SGPMR                    PAGE MANAGER                 @D35EDRP 01766000
         AIF   (NOT &BGDEBUG).NODEBU6                          @D36ZDAZ 01767000
         ORG   SGPG+(*-SGPG+15)/16*16                          @D36ZDAZ 01768000
.NODEBU6 ANOP                                                  @D36ZDAZ 01769000
SGPGE    EQU   *                                               @D36ZDAZ 01770000
         AGO   .SEGDUM2                                        @D36ZDEM 01771000
.SEGDUM1 ANOP                                                  @D36ZDEM 01772000
         TITLE 'VSE/AF SUPERVISOR         PAGE MANAGER DATA AREA DSECT' 01773000
         SGPDATA DSECT=YES        PAGE MANAGER DSECT           @D36ZDEM 01774000
.SEGDUM2 ANOP                                                  @D36ZDEM 01775000
         SPACE 2                                                        01776000
IJBSUP51 DS    0D                                              @DA28061 01777000
SYSS01   EQU   *                                               @D36ZDAZ 01778000
         ENTRY FCBQ                                            @D36ZDAZ 01779000
         AIF   (NOT &BGDEBUG).NOMONAR                          @D14BDAP 01780000
         ORG   SYSS00+(*+15-SYSS00)/16*16                      @D68CDOW 01781000
DEBUGBEG DS    0F              HEADER TO FIRST DEBUG AREA      @D36IDFR 01782000
         DC    A(DEBUGAR1)     POINTER WITHIN FIRST AREA       @D36IDFR 01783000
         DC    A(DEBUGHD2)     POINTER TO SECND DEBUG AREA     @D36IDFR 01784000
         DC    A(DEBUGHD2-XXMAXLNG) HIGHEST ENTRY ADDRESS      @D36IDFR 01785000
         DC    A(DEBUGHD3)     POINTER TO THIRD DEBUG AREA     @D36IDFR 01786000
DEBUGAR1 DS    0F              BEGIN OF FIRST DEBUG AREA       @D36IDFR 01787000
         ORG   DEBUGBEG+(&ALDBUG*1024)                         @D36IDFR 01788000
DEBUGHD2 DS    0F              HEADER TO SECOND DEBUG AREA     @D36IDFR 01789000
         DC    A(DEBUGAR2)     POINTER WITHIN SECND AREA       @D36IDFR 01790000
         DC    A(DEBUGHD3)     POINTER TO THIRD DEBUG AREA     @D36IDFR 01791000
         DC    A(DEBUGHD3-XXMAXLNG) HIGHEST ENTRY ADDRESS      @D36IDFR 01792000
         DC    A(DEBUGBEG)     POINTER TO FIRST DEBUG AREA     @D36IDFR 01793000
DEBUGAR2 DS    0F              BEGIN OF SECND DEBUG AREA       @D36IDFR 01794000
         ORG   DEBUGHD2+(&ALDBUG*1024)                         @D36IDFR 01795000
DEBUGHD3 DS    0F              HEADER TO THIRD DEBUG AREA      @D36IDFR 01796000
         DC    A(DEBUGAR3)     POINTER WITHIN THIRD AREA       @D36IDFR 01797000
         DC    A(DEBUGBEG)     POINTER TO FIRST DEBUG AREA     @D36IDFR 01798000
         DC    A(DEBUGEND-XXMAXLNG) HIGHEST ENTRY ADDRESS      @D36IDFR 01799000
         DC    A(DEBUGHD2)     POINTER TO SECND DEBUG AREA     @D36IDFR 01800000
DEBUGAR3 DS    0F              BEGIN OF THIRD DEBUG AREA       @D36IDFR 01801000
         ORG   DEBUGHD3+(&ALDBUG*1024)                         @D36IDFR 01802000
DEBUGEND EQU   *               END OF DEBUG-AREA               @D35EDKS 01803000
         AGO   .DEBUG1                                         @D61NDMZ 01804000
.NOMONAR ANOP                                                  @D35EDKS 01805000
         ORG   SYSS00+(*+15-SYSS00)/16*16                      @D68CDOW 01806000
DEBUGBEG DS    0F              HEADER TO FIRST DEBUG AREA      @D61NDMZ 01807000
         DC    A(DEBUGAR1)     POINTER WITHIN FIRST AREA       @D61NDMZ 01808000
         DC    A(DEBUGBEG)     2ND DEBUG AREA NOT YET AVAILABLE@D61NDMZ 01809000
         DC    A(DEBUGHD2-XXMAXLNG) HIGHEST ENTRY ADDRESS      @D61NDMZ 01810000
         DC    A(DEBUGBEG)     3RD DEBUG AREA NOT YET AVAILABLE@D61NDMZ 01811000
DEBUGAR1 DS    0F              BEGIN OF FIRST DEBUG AREA       @D61NDMZ 01812000
         ORG   DEBUGBEG+(&ALDBUG*1024)                         @D61NDMZ 01813000
DEBUGHD2 DS    0F              HEADER TO SECOND DEBUG AREA     @D61NDMZ 01814000
.DEBUG1  ANOP                                                  @D61NDMZ 01815000
         TITLE 'VSE/AF SUPERVISOR  IOTAB      CCW TRANSL. COPY BUFFERS' 01816000
.*-------FASTTR INFORMATION 370-MODE---------------------------@D369DEM 01817000
         AGO   .NOFST1   BGFASTT=0                             @D64ADOW 01818000
         AIF   (NOT &BGFASTT).NOFST1                           @D32XDRP 01819000
*        SAVED-CCB-COPY-BLOCK-QUEUE HEADER                     @D32XDRP 01820000
*        THIS HEADER SHOULD BE LOCATED BEFORE THE COPY         @D32XDRP 01821000
*        BUFFER AREA                                           @D32XDRP 01822000
*                                                              @D32XDRP 01823000
SAVCCBQH DC    2A(0)              SAVED-CCB-Q HEADER           @D35CDJR 01824000
.NOFST1  ANOP                                                  @D32XDRP 01825000
         SPACE 1                                                        01826000
***************************************************************@D51GDUL 01827000
*                                                             *@D51GDUL 01828000
*        ADDRESS TABLE OF CCW COPY BLOCK AREA FRAGMENTS       *@D51GDUL 01829000
*                                                             *@D51GDUL 01830000
*        EACH ADDRESS POINTS TO THE FIRST COPY BLOCK OF AREA  *@D51GDUL 01831000
*        (SET BY IPL). END OF LIST IS INDICATED BY THE HIGH   *@D51GDUL 01832000
*        ORDER BIT SET IN THE LAST LIST ENTRY.                *@D51GDUL 01833000
*                                                             *@D51GDUL 01834000
***************************************************************@D51GDUL 01835000
CBQADR   DC    A(FCBQ+X'80000000')   LAST AND ONLY CBF FRAGMENT@D61NDMZ 01836000
         DC    2A(0)                 2 MORE CBF FRAGMENTS POS. @D51GDUL 01837000
         SPACE 1                                                        01838000
.* THE AREA BEGINNING WITH FCBQ WILL BE OVERWRITTEN BY COPY BUFFERS     01839000
.* DURING IPL                                                           01840000
*        ADDITONAL COPY BUFFERS SPECIFIED AND ALLOCATED BY IPL @D61NDMZ 01841000
&WRKCNTR SETA  0                  INITIALIZE COUNTER           @D68DDOW 01842000
FCBQ     DS    0D                 BEGIN OF COPY BUFFERS        @D61NDMZ 01843000
         DC    64X'00',A(0),A(*+4)         FIRST COPY BUFFER   @D61NDMZ 01844000
.NXTCPYB ANOP                                                  @D68CDOW 01845000
         DC    64X'00',A(*-136),A(*+4)                         @D61NDMZ 01846000
&WRKCNTR SETA  &WRKCNTR+1                                      @D68CDOW 01847000
         AIF   (&WRKCNTR LT 39).NXTCPYB                        @D68CDOW 01848000
         DC    64X'00',A(*-136),A(0)       LAST COPY BUFFER    @D61NDMZ 01849000
         SPACE 1                                               @D369DEM 01850000
.*-------------------------------------------------------------@D369DEM 01851000
         AIF   (NOT &BGDEBUG OR NOT &DISP).NOPRTX2             @D14ZDFG 01852000
         PRINT GEN                                             @D14BDFR 01853000
.NOPRTX2 ANOP                                                  @D14BDFR 01854000
         SPACE 1                                               @D35EDKS 01855000
*        MAPSVIPL  DSECT=NO                                    @D51GDUL 01856000
         MAPSVIPL  DSECT=NO                                    @D51GDUL 01857000
         SPACE 1                                               @D35EDKS 01858000
         AIF   (NOT &BGDSHR).NODSHR2                           @D36SDFG 01859000
         TITLE 'VSE/AF SUPERVISOR  IOTAB     DASD SHARING INIT.ROUTINE' 01860000
*--------------------------------------------------------------         01861000
*                                                                       01862000
*                                                                       01863000
*   I N I T D S H R .                                                   01864000
*                                                                       01865000
*   THIS SUBROUTINE IS CALLED FROM IPL, WHEN PROCESSING                 01866000
*   OF THE DLF COMMAND IS COMPLETED.                                    01867000
*                                                                       01868000
*                                                                       01869000
*   FUNCTION:                                                           01870000
*                                                                       01871000
*             (1) UPDATE THE CCBCCW FIELDS IF THE SUPERVISOR            01872000
*                 CONTAINS BOTH CKD AND FBA SUPPORT AND THE             01873000
*                 EXTERNAL FILE IS ON FBA.                              01874000
*                                                                       01875000
*             (2) UPDATE THE I/O AREA ADDRESS IN THE                    01876000
*                 READ AND WRITE CCW'S.                                 01877000
*                                                                       01878000
*             (3) UPDATE THE READ AND WRITE LENGTH COUNT                01879000
*                 IF THE EXTERNAL FILE IS ON FBA                        01880000
*                                                                       01881000
*             (4) UPDATE THE DEFINE EXTENT PARAMETER FIELD              01882000
*                 IF THE EXTERNAL FILE IS ON FBA                        01883000
*                                                                       01884000
*             (5) STORE THE PUB INDEX OF THE EXTERNAL DISK              01885000
*                 INTO THE CCB (PHYSICAL ADDRESSING).                   01886000
*                                                                       01887000
*             (6) SET FLAG BIT DLFINT.                                  01888000
*                 AS LONG AS THIS BIT IS OFF, NO EXTERNAL LOCK          01889000
*                 REQUESTS WILL BE PROCESSED.                           01890000
*                                                                       01891000
*             (7) RETURN TO CALLER (TO CONTINUE IPL PROCESSING).        01892000
*                                                                       01893000
*                                                                       01894000
*     NOTES:                                                            01895000
*                                                                       01896000
*                                                                       01897000
*     (1)     THE ADDRESSES OF THE INITDSHR ROUTINE AND                 01898000
*             THE DASD SHARING INTERFACE TABLE ARE CONTAINED            01899000
*             IN THE IPL COMMUNICATION AREA.                            01900000
*                                                                       01901000
*     (2)     THE INITDSHR ROUTINE IS ONLY EXECUTED ONCE                01902000
*             AT IPL TIME.                                              01903000
*             IT MAY BE OVERLAID AFTER IPL PROCESSING IS COMPLETED.     01904000
*                                                                       01905000
*--------------------------------------------------------------         01906000
         SPACE 3                                                        01907000
INITDSHR DS    0H                                              @D36SDJO 01908000
*SGLINK  INITDSHR,INPUT=(R2,RC),WORK=(R1,R3,R4)                @D36SDJO 01909000
         USING INITDSHR,R2                                     @D36SDJO 01910000
         L     R3,ADLFTAB         A(DLFTABLE)                  @D36SDJO 01911000
         USING DLFADR,R3                                       @D36SDJO 01912000
         L     R4,ADLFIOC         A(DLFCCBR)                   @D36SDJO 01913000
         USING DLFCCBR,R4                                      @D36SDJO 01914000
         OI    DLFFLG1,DLFCHAIN   WRITE CHAIN.TO DEVICE RELEASE@D36SDJO 01915000
*                                                                       01916000
*   UPDATE THE CCBCCW FIELDS IF THE SUPERVISOR                          01917000
*   CONTAINS BOTH CKD AND FBA SUPPORT AND THE                           01918000
*   EXTERNAL FILE IS ON FBA.                                            01919000
*                                                                       01920000
         CLI   DLFDEVT,DLFFBA                                  @D36SDJO 01921000
         BNE   DLFINT1                                         @D36SDJO 01922000
         LA    R1,DLFFCW1                                      @D36SDJO 01923000
         ST    R1,DLFCCBR+(CCBCCW-CCBADR)                      @D36SDJO 01924000
         LA    R1,DLFFCW4                                      @D36SDJO 01925000
         ST    R1,DLFCCBW+(CCBCCW-CCBADR)                      @D36SDJO 01926000
         LA    R1,DLFFCW6                                      @D36SDJO 01927000
         ST    R1,DLFCCBS+(CCBCCW-CCBADR)                      @D36SDJO 01928000
DLFINT1  EQU   *                                               @D36SDJO 01929000
*                                                              @DA42402 01930000
*   UPDATE THE CCBCCW FIELDS IF THE EXTRNAL FILE IS ON ECKD    @DA42402 01931000
*                                                              @DA42402 01932000
         CLI   DLFDEVT,DLFECKD                                 @DA42402 01933000
         BNE   DLFINT2                                         @DA42402 01934000
         LA    R1,DLFECW1                                      @DA42402 01935000
         ST    R1,DLFCCBR+(CCBCCW-CCBADR)                      @DA42402 01936000
         LA    R1,DLFECW4                                      @DA42402 01937000
         ST    R1,DLFCCBW+(CCBCCW-CCBADR)                      @DA42402 01938000
         LA    R1,DLFECW6                                      @DA42402 01939000
         ST    R1,DLFCCBS+(CCBCCW-CCBADR)                      @DA42402 01940000
DLFINT2  EQU   *                                               @DA42402 01941000
*                                                                       01942000
*   UPDATE THE I/O AREA ADDRESS IN THE                                  01943000
*   READ AND WRITE CCW'S.                                               01944000
*                                                                       01945000
         L     R1,DLFAREA            I/O AREA                  @D36SDJO 01946000
         CLI   DLFDEVT,DLFFBA        FBA DEVICE                @D36SDJO 01947000
         BNE   DLFINT3               NO                        @D36SDJO 01948000
         STCM  R1,7,DLFFCW3+1        UPDATE READ CCW           @D36SDJO 01949000
         STCM  R1,7,DLFFCW5+1        UPDATE WRITE CCW          @D36SDJO 01950000
         B     DLFINT4                                         @D36SDJO 01951000
DLFINT3  EQU   *                                               @D36SDJO 01952000
         CLI   DLFDEVT,DLFECKD       ECKD DEVICE               @DA42402 01953000
         BNE   DLFINT31              NO                        @DA42402 01954000
         STCM  R1,7,DLFECW3+1        UPDATE READ CCW           @DA42402 01955000
         STCM  R1,7,DLFECW5+1        UPDATE WRITE CCW          @DA42402 01956000
         NI    DLFFLG1,XFF-DLFCHAIN                            @DA42840 01957000
         B     DLFINT5                                         @DA42840 01958000
DLFINT31 STCM  R1,7,DLFCCW3+1        UPDATE READ CCW           @DA42402 01959000
         STCM  R1,7,DLFCCW5+1        UPDATE WRITE CCW          @D36SDJO 01960000
DLFINT4  EQU   *                                               @DA42402 01961000
*                                                                       01962000
*    UPDATE THE READ AND WRITE LENGTH COUNT                             01963000
*    IF THE EXTERNAL FILE IS ON FBA                                     01964000
*                                                                       01965000
         CLI   DLFDEVT,DLFFBA        LOCK FILE ON FBA          @DA42402 01966000
         BNE   DLFINT5               NO                        @D36SDJO 01967000
         NI    DLFFLG1,XFF-DLFCHAIN                            @D36SDJO 01968000
         LH    R1,DLFLBLK            PHYSICAL BLOCK LENGTH     @D36SDJO 01969000
         STH   R1,DLFFCW3+6          READ CCW                  @D36SDJO 01970000
         STH   R1,DLFFCW5+6          WRITE CCW                 @D36SDJO 01971000
*                                                                       01972000
*    UPDATE THE DEFINE EXTENT PARAMETER FIELD                           01973000
*    IF THE EXTERNAL FILE IS ON FBA                                     01974000
*                                                                       01975000
         MVC   DLFEXT+4(4),DLFBLKLL                            @D36SDJO 01976000
         MVC   DLFEXT+14(2),DLFNBLK                            @D36SDJO 01977000
DLFINT5  EQU   *                                               @D36SDJO 01978000
         AIF   (NOT &BG31).DLFI07                              @D36SDJO 01979000
*                                                                       01980000
*    INITIALIZE THE CHANNEL PROGRAMS FOR RPS.                           01981000
*    CHANGE NOP CCW INTO SET-SECTOR CCW.                                01982000
*                                                                       01983000
         CLI   DLFDEVT,DLFRPS       EXT.FILE ON RPS DEVICE     @D36SDJO 01984000
         BNE   DLFINT7              BRANCH IF NO               @D36SDJO 01985000
         MVI   DLFSETS2,SETSECT     UPDATE READ CCW CHAIN      @D36SDJO 01986000
         MVI   DLFSETS4,SETSECT     UPDATE WRITE CCW CHAIN     @D36SDJO 01987000
DLFINT7  EQU   *                                               @D36SDJO 01988000
*                                                              @D36SDJO 01989000
.DLFI07  ANOP                                                  @D36SDJO 01990000
*                                                                       01991000
*    STORE THE PUB INDEX OF THE EXTERNAL DISK                           01992000
*    INTO THE CCB (PHYSICAL ADDRESSING).                                01993000
*                                                                       01994000
         USING CCBADR,R1                                       @D36SDJO 01995000
         LA    R1,DLFCCBR                                      @D36SDJO 01996000
         MVC   CCBLNO,DLFPUB+1                                 @D36SDJO 01997000
         NI    CCBCLS,X'FC'           SWITCH OFF UPPER 2 BITS  @D51ODGL 01998000
         OC    CCBCLS(1),DLFPUB       FOR INSERT OF PUBINDEX   @D51ODGL 01999000
         LA    R1,DLFCCBW                                      @D36SDJO 02000000
         MVC   CCBLNO,DLFPUB+1                                 @D36SDJO 02001000
         NI    CCBCLS,X'FC'                                    @D51ODGL 02002000
         OC    CCBCLS(1),DLFPUB                                @D51ODGL 02003000
         LA    R1,DLFCCBS                                      @D36SDJO 02004000
         MVC   CCBLNO,DLFPUB+1                                 @D36SDJO 02005000
         NI    CCBCLS,X'FC'                                    @D51ODGL 02006000
         OC    CCBCLS(1),DLFPUB                                @D51ODGL 02007000
         DROP  R1                                              @D36SDJO 02008000
         MVC   HWDEVTAB,DLFSCH        CHAN ADR TO HW-ROUTINE   @D68DDMZ 02009000
         OI    HWFLAG,LOCKINIT        INDICATE CHAN ADR SET    @D66ODOW 02010000
         OI    DLFFLG1,DLFINT+DLFACT  IPL COMPLETE             @D36SDJO 02011000
         LH    R1,DLFPUB                                       @D68DDMZ 02012000
         SLL   R1,PBXISLEN        INDEX IN PUBX VECTOR TABLE   @D68DDMZ 02013000
         A     R1,APBXAREA        ADD BEGIN                    @D68DDMZ 02014000
         MVC   HWPUBXLF,0(R1)     USED WHEN HARDWAIT OCCURS    @D68DDMZ 02015000
         BR    RC                                              @D36SDJO 02016000
ADLFTAB  DC    A(DLFTABLE)                                     @D36SDJO 02017000
ADLFIOC  DC    A(DLFCCBR)                                      @D36SDJO 02018000
         DROP  R2,R3,R4                                        @D36SDJO 02019000
.NODSHR2 ANOP                                                  @D36SDFG 02020000
         EJECT ,                                               @D369DEM 02021000
PUB2AREA DC    4A(PUB2TEMP)       PUB2 ADDRESS TABLE           @D68DDOW 02022000
PUB2TEMP DC    XL(P233XXE-PUB2ADR)'00' IPL'S PUB2              @D51GDAP 02023000
PUB2LMAX EQU   *-PUB2TEMP         LENGTH FOR RF-TABLE          @D36EDFG 02024000
PUBXAREA DC    A(PUBX,PUBX1,PUBX2,PUBX3),X'FFFFFFFF' TEMP FOR  @D68DDOW 02025000
*                                 IPL 3 DEVICE SYSTEM                   02026000
         DC    0F'0'              FORCE ALIGNMENT              @D14BDFG 02027000
PUBX     DC    XL(PBXOXLNG)'00'   IPL'S PUBX                   @D68DDOW 02028000
         ORG   PUBX+PBXERBLK-PBXADR  BACK TO ERROR ENTRY ADDR. @D51GDAP 02029000
         DC    A(TEMERBLK)        TEMORARY ERROR ENTRY ADDRESS @D51GDAP 02030000
         ORG   ,                  FORWARD TO END OF PUBX       @D51GDAP 02031000
PUBX1    DC    XL(PBXOXLNG)'00'   IPL'S PUBX                   @D68DDOW 02032000
         ORG   PUBX1+PBXERBLK-PBXADR  BACK TO ERROR ENTRY ADDR.@D52VDAP 02033000
         DC    A(TEMERBLK)        TEMORARY ERROR ENTRY ADDRESS @D51GDAP 02034000
         ORG   ,                  FORWARD TO END OF PUBX       @D51GDAP 02035000
PUBX2    DC    XL(PBXOXLNG)'00'   IPL'S PUBX                   @D68DDOW 02036000
         ORG   PUBX2+PBXERBLK-PBXADR  BACK TO ERROR ENTRY ADDR.@D52VDAP 02037000
         DC    A(TEMERBLK)        TEMORARY ERROR ENTRY ADDRESS @D51GDAP 02038000
         ORG   ,                  FORWARD TO END OF PUBX       @D51GDAP 02039000
PUBX3    DC    XL(PBXOXLNG)'00'   IPL'S PUBX                   @D68DDOW 02040000
         ORG   PUBX3+PBXERBLK-PBXADR  BACK TO ERROR ENTRY ADDR.@D68DDOW 02041000
         DC    A(TEMERBLK)        TEMORARY ERROR ENTRY ADDRESS @D68DDOW 02042000
         ORG   ,                  FORWARD TO END OF PUBX       @D68DDOW 02043000
*                                 COMMON PUBX LAYOUT           @D21IDAP 02044000
TEMERBLK DC    XL(ERRQSNS-ERBLKADR+ERRQSNSM)'00' ERROR ENTRY   @D21IDAP 02045000
         ORG   TEMERBLK+ERBLKSNL-ERBLKADR                      @D21IDAP 02046000
         DC    AL1(ERRQSNSM)      NUMBER OF SENSE BYTES ALLOC. @D21IDAP 02047000
         ORG   ,                                               @D21IDAP 02048000
         SPACE 1                                               @D149DFG 02049000
* TEMPORARY CHANNEL QUEUE                                      @D149DFG 02050000
         SPACE 1                                               @D149DFG 02051000
&WRKCNTR SETA  1                  INITIALIZE COUNTER           @D68DDOW 02052000
CHANQ    DS    0D                 DOUBLE WORD ALIGNMENT        @D14BDFG 02053000
* 5  CHANNEL QUEUE ENTRIES ARE RESERVED FOR GENERAL USE IN IPL @D68CDOW 02054000
* 10 CHANNEL QUEUE ENTRIES ARE ALLOCATED FOR FCPS              @D68CDOW 02055000
* THIS MAXIMUM COUNTER IS ALSO USED IN IJBFCP                  @D68CDOW 02056000
.NXTCHNQ ANOP                                                  @D68CDOW 02057000
         DC    AL1(&WRKCNTR),X'000000FF00FFFF',XL24'00'        @D68DDOW 02058000
&WRKCNTR SETA  &WRKCNTR+1                                      @D68CDOW 02059000
         AIF   (&WRKCNTR LT 15).NXTCHNQ                        @D68CDOW 02060000
         DC    X'FF000000FF00FFFF',XL24'00'                    @D14BDFG 02061000
HQRESCHQ DC    X'00000000FF00FFFF',XL24'00' SNS RESERVED ENTRY @D14BDFG 02062000
         DC    X'00000000FF00FFFF',XL24'00' DSK RESERVED ENTRY @D14BDFG 02063000
         DC    X'00000000FF00FFFF',XL24'00' RAS RESERVED ENTRY @D14BDFG 02064000
         DC    X'00000000FF00FFFF',XL24'00' SUP RESERVED ENTRY @D14BDFG 02065000
         DC    X'00000000FF00FFFF',XL24'00' DIR RESERVED ENTRY @DA41015 02066000
         DC    X'00000000FF00FFFF',XL24'00' ERP RESERVED ENTRY @DA41015 02067000
         DC    X'00000000FF00FFFF',XL24'00' LCK RESERVED ENTRY @D61NDMZ 02068000
         DC    X'00000000FF00FFFF',XL24'00' SVT RESERVED ENTRY @DA41015 02069000
         DC    X'00000000FF00FFFF',XL24'00' CST RESERVED ENTRY @D61NDMZ 02070000
CHANQEND DS    0H'0'                        END OF CHANNEL QU. @D61NDMZ 02071000
         TITLE 'VSE/AF SUPERVISOR  IOTAB        INIT CONTROL REGISTERS' 02072000
.*-------------------------------------------------------------@D149DFG 02073000
.*       INITIALIZE CONTROL REGISTERS 0, 14                    @D35EDKS 02074000
.*       AND CPU-TIMER. CALLED FROM IPL ($$A$IPLR)             @D35EDKS 02075000
         SPACE 1                                               @D369DEM 02076000
INITCTLR DS    0H                                              @D35EDKS 02077000
         USING INITCTLR,R9                                     @D14BDFR 02078000
         SPT   INITTIME           SET LARGE VALUE IN CPU-TIMER @D14BDFR 02079000
         LCTL  CR0,CR0,CTLR0      LOAD NEW VALUE OF CNTL.REG.0 @D34UDFG 02080000
         LCTL  CRE,CRE,CTLRE      SET INIT.VALUE OF MCECK BITS @D34UDFG 02081000
         ST    R2,TDSAVE          SAVE WORK REGISTER           @D68CDOW 02082000
         L     R2,ADBGTCBX                                     @D68CDOW 02083000
         USING TCBXADR,R2                                      @D68CDOW 02084000
         MVC   TCBX1CR0,CTLR0     UPDATE ALSO ...............  @D68CDOW 02085000
         MVC   TCBX1CRE,CTLRE     ........... BG CR SAVE AREA  @D68CDOW 02086000
         DROP  R2                                              @D68CDOW 02087000
         L     R2,TDSAVE          RESTORE WORK REGISTER        @D68CDOW 02088000
*        DISPMAC FUNC=IPL         IPL INITIALIZATION           @D61NDMZ 02089000
         DISPMAC FUNC=IPL         IPL INITIALIZATION           @D61NDMZ 02090000
         BR    RA                 RETURN                       @D14BDFR 02091000
         DROP  R9                                              @D14BDFR 02092000
         DS    0F                 ALIGNMENT                    @D61RDMZ 02093000
         SPACE 1                                               @D35EDKS 02094000
         DS    0F                                              @D35CDKH 02095000
CTLR0    DC    X'08B00440'        CTL REGISTER 0, BYTE 0-3     @D64ADMZ 02096000
CTLRE    DC    X'C2000000'        INITIAL SETT. MODE=ESA       @D68CDOW 02097000
ADBGTCBX DC    A(BGTCBX)          ADDR OF BG'S TCBX            @D68CDOW 02098000
IJBNUCND DS    0D                 END OF NUCLEUS               @D35EDKS 02099000
PPBEGIN  EQU   *                  BEGIN OF PROBL.PROGR.AREA    @D36ZDAZ 02100000
.*------- END OF GENERATED CODE -------------------------------@D369DEM 02101000
ZZSIZE   EQU   IJBNUCND-FDIRBUF+SGBFCH              **** TEMPORARY **** 02102000
         ENTRY ZZSIZE                               **** TEMPORARY **** 02103000
         ENTRY IJBNUCND                                        @D35CDEM 02104000
         MEND                                                        EM 02105000
