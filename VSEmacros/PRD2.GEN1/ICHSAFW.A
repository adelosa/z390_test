*        %GOTO ICH_SAFW1;                              /*               00050000
         MACRO                                                          00100000
         ICHSAFW &DSECT=YES                                             00150000
         AGO   .SAFWL2A                                */               00200000
*%ICH_SAFW1: ;                                                          00250000
*% ;                                                  /*                00300000
.SAFWL2A ANOP                                         */                00350000
*/********************************************************************/ 00400000
*/*                                                                  */ 00450000
*/*       $MAC(ICHSAFW) COMP(SC1BN) PROD(SAF):                       */ 00500000
*/*                                                                  */ 00550000
*/*       MODULE NAME = ICHSAFW                                      */ 00600000
*/*                                                                  */ 00650000
*/*       COPYRIGHT:                                                 */ 00700000
*/*         5685-001                                                 */ 00750000
*/*         THIS MACRO IS "RESTRICTED MATERIALS OF IBM"              */ 00800000
*/*         (C) COPYRIGHT IBM CORP 1980, 1989                        */ 00850000
*/*         LICENSED MATERIALS - PROPERTY OF IBM                     */ 00900000
*/*                                                                  */ 00950000
*/*       DESCRIPTIVE NAME = SAF ROUTER WORK AREA MAPPING            */ 01000000
*/*                                                                  */ 01050000
*/*       STATUS:                                                    */ 01100000
*/*         HBB4420                                                  */ 01150000
*/*                                                                  */ 01200000
*/*       FUNCTION =                                                 */ 01250000
*/*         DESCRIPTOR FOR SAF ROUTER AND RACF ROUTER WORK AREAS,    */ 01300000
*/*         GENERATED BY THE RACROUTE MACRO USER                     */ 01350000
*/*                                                                  */ 01400000
*/*       METHOD OF ACCESS =                                         */ 01450000
*/*         PL/S - %INCLUDE SYSLIB(ICHSAFW)                          */ 01500000
*/*                DECLARE SAFWPTR PTR(31)                           */ 01550000
*/*                                                                  */ 01600000
*/*         BAL -  INVOKE THE MACRO ICHSAFW.  NORMALLY, THE          */ 01650000
*/*                MACRO GENERATES A DSECT, TO BE  BASED ON          */ 01700000
*/*                A REGISTER AS SHOWN BELOW.  IF THIS IS            */ 01750000
*/*                NOT DESIRABLE, SPECIFY THE VALUE NO FOR           */ 01800000
*/*                THE DSECT KEYWORD.                                */ 01850000
*/*                                                                  */ 01900000
*/*                L       REG,SAFWPTR                               */ 01950000
*/*                USING   SAFW,REG                                  */ 02000000
*/*                                                                  */ 02050000
*/*                WHERE REG IS ANY REGISTER EXCEPT ZERO,            */ 02100000
*/*                USED FOR ADDRESSING ALL FIELDS.                   */ 02150000
*/*                                                                  */ 02200000
*/*       NOTES =                                                @01A*/ 02250000
*/*         THE MISCELLANEOUS AREA MAPPED BY SAFWMWA CAN BE USED @01A*/ 02300000
*/*         FOR DYNAMIC STORAGE BY MODULES THAT DON'T REQUIRE    @01A*/ 02350000
*/*         ANY MORE THAN THE DEFINED SIZE OF SAFWMWA WHEN THEY  @01A*/ 02400000
*/*         CAN'T GET THEIR OWN STORAGE. IF MULTIPLE MODULES     @01A*/ 02450000
*/*         OCCUR IN SUCCESSION THAT REQUIRE THIS AREA, THEN     @01A*/ 02500000
*/*         THERE WILL HAVE TO BE COORDINATION BETWEEN THESE     @01A*/ 02550000
*/*         MODULES TO DISTRIBUTE PIECES OF THIS AREA PROPERLY.  @01A*/ 02600000
*/*                                                                  */ 02650000
*/*       MACROS =                                                   */ 02700000
*/*         IEZBITS USED IN THE ASSEMBLER VERSION OF ICHSAFW         */ 02750000
*/*                 TO DEFINE BIT POSITIONS WITHIN A BYTE.           */ 02800000
*/*                                                                  */ 02850000
*/*                                                                  */ 02900000
*/*       CHANGE ACTIVITY:                                           */ 02950000
*/*         $T0=UZ90211,SAF/RF15,811014,CNTDSD:                  @T0A*/ 03000000
*/*         UZ90283                                          @ZA90283*/ 03050000
*/*         UZ90284                                          @ZA90284*/ 03100000
*/*         UZ90285                                          @ZA90285*/ 03150000
*/*         $M1=SP313   RACF/190 880615 PDI_H1: MVS/SP 3.1.3     @M1A*/ 03200000
*/*         $P1=PGP0452 RACF/190 890816 PDRTS1: MVS/SP 3.1.3     @P1A*/ 03250000
*/*         $01=OY34429 RACF/190 900823 PDRTS1: APAR OY34429     @01A*/ 03300000
*/*                                                                  */ 03350000
*/*       CHANGE DESCRIPTIONS:                                       */ 03400000
*/*       A000000-999999                                         @T0A*/ 03450000
*/*       A- ADD MISCELLANEOUS WORK AREA                         @M1A*/ 03500000
*/*       D- REMOVE RESERVED WORK AREA FOR SAF MODULES THAT GET  @P1A*/ 03550000
*/*          THEIR OWN DYNAMIC AREA.                             @P1A*/ 03600000
*/*       C- MAKE ENTIRE MISCELLANEOUS WORK AREA USEABLE TO      @01A*/ 03650000
*/*          REQUESTS THAT DO NOT GET THEIR OWN DYNAMIC AREA.    @01A*/ 03700000
*/*                                                                  */ 03750000
*/********************************************************************/ 03800000
*%;                                                                  /* 03850000
         AGO   .SAFWL4               */                                 03900000
*%GOTO ICH_SAFW3;                    /*                                 03950000
.SAFWL4  ANOP                                                           04000000
         AIF   ('&DSECT' EQ 'NO').SAFWL5                                04050000
SAFW     DSECT                                                          04100000
         AGO   .SAFWL5A                                                 04150000
.SAFWL5  ANOP                                                           04200000
SAFW     DS    0F                                                       04250000
.SAFWL5A ANOP                                                           04300000
         IEZBITS  ,                                                     04350000
SAFWCTF1 DS    BL1                 STATUS FLAGS                         04400000
SAFWEXEF EQU   BIT0                ON IF ICHRTX00 IS PRESENT            04450000
SAFWEXAF EQU   BIT1                ON IF ICHRTX00 IS CURRENTLY          04500000
*                                  EXECUTING                            04550000
SAFWRFAF EQU   BIT2                ON IF ICHRFR00 IS PRESENT            04600000
SAFWRFFP EQU   BIT3                ON IF ICHRFR00 IS CURRENTLY          04650000
*                                  EXECUTING                            04700000
*                                  (BITS 4-7 RESERVED)                  04750000
         DS    XL3                 RESERVED                             04800000
SAFWRC   DS    F                   ICHRTX00 RETURN CODE                 04850000
SAFWRSC  DS    F                   ICHRTX00 REASON CODE                 04900000
         DS    XL4                 RESERVED                             04950000
SAFWSWA  DS    CL88                SAF ROUTER WORKAREA                  05000000
SAFWRWA  DS    CL152               RACF ROUTER/ INSTALLATION EXIT       05050000
*                                  WORKAREA                             05100000
SAFWMWA  DS    CL220               RACF MISCELANOUS WORK AREA   @01C    05150000
SAFWMWA1 DS    CL24                ADDITIONAL SAF ROUTER WORKA  @M1A    05200000
         DS    CL12                RESERVED                     @M1A    05250000
         DS    0F                                                       05300000
SAFWLEN  EQU   *-SAFW                                                   05350000
         MEND                                                           05400000
*        */                                                             05450000
*%ICH_SAFW3: ;                                                          05500000
*   DCL                                                                 05550000
*     1 SAFW BASED(SAFWPTR) BDY(WORD),                                  05600000
*      2 SAFWCTF1 BIT(8),           /* STATUS FLAGS                  */ 05650000
*       3 SAFWEXEF BIT(1),          /* ON IF ICHRTX00 IS PRESENT     */ 05700000
*       3 SAFWEXAF BIT(1),          /* ON IF ICHRTX00 IS CURRENTLY      05750000
*                                      EXECUTING                     */ 05800000
*       3 SAFWRFAF BIT(1),          /* ON IF ICHRFR00 IS PRESENT     */ 05850000
*       3 SAFWRFFP BIT(1),          /* ON IF ICHRFR00 IS CURRENTLY      05900000
*                                      EXECUTING                     */ 05950000
*       3 * BIT(4),                 /* RESERVED                      */ 06000000
*      2 * CHAR(3),                 /* RESERVED                      */ 06050000
*      2 SAFWRC FIXED(31),          /* ICHRTX00 RETURN CODE          */ 06100000
*      2 SAFWRSC FIXED(31),         /* ICHRTX00 REASON CODE          */ 06150000
*      2 * CHAR(4),                 /* RESERVED                      */ 06200000
*      2 SAFWSWA CHAR(88),          /* SAF ROUTER WORKAREA           */ 06250000
*      2 SAFWRWA CHAR(152),         /* RACF ROUTER/ INSTALLATION EXIT   06300000
*                                      WORKAREA                      */ 06350000
*      2 SAFWMWA CHAR(220),         /* RACF MISCELLANOUS WORK AREA      06400000
*                                                                @01C*/ 06450000
*      2 SAFWMWA1 CHAR(24),         /* ADDITIONAL SAF ROUTER WORKA      06500000
*                                                                @M1A*/ 06550000
*      2 * CHAR(12),                /* RESERVED                  @M1C*/ 06600000
*      2 * CHAR(0) BDY(WORD);                                           06650000
*                                                                       06700000
*   DCL                                                                 06750000
*     SAFWLEN FIXED(31) CONSTANT(LENGTH(SAFW));                         06800000
